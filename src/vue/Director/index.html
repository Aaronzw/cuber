<v-app>
  <div v-resize="resize" style="padding:0%;background-color:#C0C0C0;user-select: none;touch-action: none;">
    <v-btn
      fixed
      left
      top
      @click.native.stop.prevent
      @touchstart.native.stop.prevent
      text
      color="primary"
      style="margin:0%;padding:0%;"
      :style="{height:size+'px'}"
      v-if="cuber.cube.twister.length != 0"
    >
      <div :style="{'font-size':(size * 0.8)+'px'}">{{cuber.cube.twister.length}}</div>
    </v-btn>
    <div ref="cuber"></div>
    <div style="margin:0%;padding:0%;background-color:#FFFFFF;" :style="{width:width + 'px', height:(size * 4) + 'px'}">
      <v-container fluid grid-list-md text-xs-center>
        <v-layout row wrap>
          <v-flex xs12>
            <v-text-field
              dense
              single-line
              hide-details
              outlined
              :disabled="recording || playing"
              :append-icon="scene == ''?'':'clear'"
              @click:append="scene = ''"
              v-model="scene"
              label="scene"
            >
            </v-text-field>
          </v-flex>
        </v-layout>
        <v-layout row wrap>
          <v-flex xs12>
            <v-text-field
              dense
              single-line
              hide-details
              outlined
              :disabled="recording || playing"
              :append-icon="action == ''?'':'clear'"
              @click:append="action = ''"
              v-model="action"
              label="action"
            >
            </v-text-field>
          </v-flex>
        </v-layout>
        <v-layout row wrap>
          <v-flex xs2>
            <v-btn block text large @click.native.stop.prevent="tune=!tune" @touchstart.native.stop.prevent="tune=!tune" style="margin: 0%; padding: 0%;">
              <v-icon large>tune</v-icon>
            </v-btn>
          </v-flex>
          <v-flex xs2>
            <v-btn block text large @click.native.stop.prevent="sized=!sized" @touchstart.native.stop.prevent="sized=!sized" style="margin: 0%; padding: 0%;">
              <v-icon large>crop</v-icon>
            </v-btn>
          </v-flex>
          <v-flex xs2>
            <v-btn
              block
              text
              large
              @click.native.stop.prevent="cuber.mirror=!cuber.mirror"
              @touchstart.native.stop.prevent="cuber.mirror=!cuber.mirror"
              :color="cuber.mirror?'primary':''"
              style="margin: 0%; padding: 0%;"
            >
              <v-icon large>flip</v-icon>
            </v-btn>
          </v-flex>
          <v-flex xs2>
            <v-btn
              block
              text
              large
              :disabled="action == '' || recording"
              @click.native.stop.prevent="toggle"
              @touchstart.native.stop.prevent="toggle"
              style="margin: 0%; padding: 0%;"
            >
              <v-icon large>{{playing?'stop':'play_arrow'}}</v-icon>
            </v-btn>
          </v-flex>
          <v-flex xs2>
            <v-btn
              block
              text
              large
              :disabled="recording || playing"
              @click.native.stop.prevent="snap"
              @touchstart.native.stop.prevent="snap"
              style="margin: 0%; padding: 0%;"
            >
              <v-icon large>camera_alt</v-icon>
            </v-btn>
          </v-flex>
          <v-flex xs2>
            <v-btn
              block
              text
              large
              :disabled="action == '' || recording || playing"
              @click.native.stop.prevent="film"
              @touchstart.native.stop.prevent="film"
              style="margin: 0%; padding: 0%;"
            >
              <v-icon large>videocam</v-icon>
            </v-btn>
          </v-flex>
        </v-layout>
      </v-container>
    </div>
  </div>
  <tune v-model="tune"></tune>
  <v-bottom-sheet v-model="sized">
    <v-card flat style="margin: auto;touch-action: none;user-select: none;">
      <v-container fluid grid-list-md text-xs-center>
        <v-layout row wrap justify-center align-center>
          <v-slider v-model="pixel" always-dirty thumb-label="always" max="10" min="6" label="像素">
            <template v-slot:thumb-label>{{Math.pow(2, pixel)}}</template>
          </v-slider>
        </v-layout>
      </v-container>
    </v-card>
  </v-bottom-sheet>
</v-app>
