<v-app>
    <div v-resize="resize">
        <div ref=cuber></div>
        <div ref=panel>
            <keyboard-panel :show="mode == 'play' && keyboard" @hide="keyboard = false"></keyboard-panel>
            <script-panel :show="mode == 'script'"></script-panel>
            <timer-panel :show="mode == 'timer'"></timer-panel>
        </div>
        <v-btn fixed top right icon large @click.stop.prevent="menu = !menu;">
            <v-icon large>menu</v-icon>
        </v-btn>
        <v-btn v-show="mode == 'play' && !keyboard" fixed bottom right icon large @click.stop.prevent="keyboard = !keyboard;">
            <v-icon large>keyboard</v-icon>
        </v-btn>
        <v-btn fixed top left icon class="title" @click.stop.prevent v-if="exp != ''" style="text-transform:none">{{exp}}</v-btn>
    </div>
    <v-bottom-sheet v-model="menu">
        <v-card flat>
            <v-container fluid grid-list-md text-xs-center>
                <v-layout row wrap justify-center align-center>
                    <v-flex xs4>
                        <v-btn class="headline" :color="mode == 'play'?'primary':''" flat block @click.stop.prevent="mode = 'play'" style="height: 2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">
                            <v-icon large>games</v-icon>
                        </v-btn>
                    </v-flex>
                    <v-flex xs4>
                        <v-btn class="headline" :color="mode == 'script'?'primary':''" flat block @click.stop.prevent="mode = 'script'" style="height: 2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">
                            <v-icon large>school</v-icon>
                        </v-btn>
                    </v-flex>
                    <v-flex xs4>
                        <v-btn class="headline" :color="mode == 'timer'?'primary':''" flat block @click.stop.prevent="mode = 'timer'" style="height: 2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">
                            <v-icon large>timer</v-icon>
                        </v-btn>
                    </v-flex>
                </v-layout>
                <v-divider></v-divider>
                <v-layout row wrap justify-center align-center>
                    <v-flex xs12>
                        <v-btn class="headline" block outline @click.stop.prevent="menu=false; tune=true" style="height: 2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">
                            <v-icon large>tune</v-icon>
                        </v-btn>
                    </v-flex>
                </v-layout>
                <v-divider></v-divider>
                <v-layout row wrap justify-center align-center>
                    <v-flex xs12>
                        <v-btn class="headline" block outline @click.stop.prevent="menu=false; about=true" style="height: 2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">
                            <v-icon large>help</v-icon>
                        </v-btn>
                    </v-flex>
                </v-layout>
            </v-container>
        </v-card>
    </v-bottom-sheet>
    <v-bottom-sheet v-model="tune">
        <v-card>
            <v-container fluid grid-list-md text-xs-center>
                <v-layout row wrap justify-center align-center>
                    <v-flex xs3>
                        <v-icon large color="black">av_timer</v-icon>
                    </v-flex>
                    <v-flex xs3>
                        <v-btn icon :disabled="speed <= -4" @click.stop.prevent="speed--" style="min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">
                            <v-icon large>remove</v-icon>
                        </v-btn>
                    </v-flex>
                    <v-flex xs3>
                        <v-btn class="headline" flat block outline @click.stop.prevent :ripple="false" style="min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">{{speed}}
                        </v-btn>
                    </v-flex>
                    <v-flex xs3>
                        <v-btn icon :disabled="speed >= 4" @click.stop.prevent="speed++" style="min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">
                            <v-icon large>add</v-icon>
                        </v-btn>
                    </v-flex>
                </v-layout>
                <v-divider></v-divider>
                <v-layout row wrap justify-center align-center>
                    <v-flex xs3>
                        <v-icon large color="black">crop_rotate</v-icon>
                    </v-flex>
                    <v-flex xs3>
                        <v-btn flat block :disabled="angle <= -2" @click.stop.prevent="angle--" style="min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">
                            <v-icon large>remove</v-icon>
                        </v-btn>
                    </v-flex>
                    <v-flex xs3>
                        <v-btn class="headline" flat block outline @click.stop.prevent :ripple="false" style="min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">{{angle}}
                        </v-btn>
                    </v-flex>
                    <v-flex xs3>
                        <v-btn flat block :disabled="angle >= 2" @click.stop.prevent="angle++" style="min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">
                            <v-icon large>add</v-icon>
                        </v-btn>
                    </v-flex>
                </v-layout>
                <v-divider></v-divider>
                <v-layout row wrap justify-center align-center>
                    <v-flex xs3>
                        <v-icon large color="black">transform</v-icon>
                    </v-flex>
                    <v-flex xs3>
                        <v-btn flat block :disabled="size <= -4" @click.stop.prevent="size--" style="min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">
                            <v-icon large>remove</v-icon>
                        </v-btn>
                    </v-flex>
                    <v-flex xs3>
                        <v-btn class="headline" flat block outline @click.stop.prevent :ripple="false" style="min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">{{size}}
                        </v-btn>
                    </v-flex>
                    <v-flex xs3>
                        <v-btn flat block :disabled="size >= 4" @click.stop.prevent="size++" style="min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">
                            <v-icon large>add</v-icon>
                        </v-btn>
                    </v-flex>
                </v-layout>
            </v-container>
        </v-card>
    </v-bottom-sheet>
    <v-dialog v-model="about">
        <v-card>
            <v-toolbar dark color="primary">
                <v-toolbar-title>About</v-toolbar-title>
                <v-spacer></v-spacer>
                <v-btn icon dark @click.native="about = false">
                    <v-icon>close</v-icon>
                </v-btn>
            </v-toolbar>
            <v-card-text>
                <a class="headline" href="https://github.com/huazhechen/cuber">Code</a>
            </v-card-text>

            <v-card-actions>
                <v-btn block outline @click.stop.prevent="about = false">OK</v-btn>
                <v-btn block outline @click.stop.prevent="reset" color="error">RESET</v-btn>
            </v-card-actions>
        </v-card>
    </v-dialog>
</v-app>