<v-app>
    <div v-resize="resize">
        <div ref=cuber></div>
        <div ref=panel>
            <keyboard-panel :show="mode == 'keyboard'"></keyboard-panel>
            <script-panel :disabled="lock" :show="mode == 'script'"></script-panel>
            <timer-panel :disabled="lock" :show="mode == 'timer'"></timer-panel>
        </div>
        <v-btn :disabled="lock" fixed top right icon large outline @click.stop.prevent="onMenuClick">
            <v-icon>menu</v-icon>
        </v-btn>
        <v-btn fixed top left icon outline class="title" @click.stop.prevent v-if="mode == 'touch' && exp != ''" style="text-transform:none">{{exp}}</v-btn>
    </div>
    <v-bottom-sheet v-model="menu">
        <v-card flat>
            <v-container fluid grid-list-md text-xs-center>
                <v-layout row wrap justify-center align-center>
                    <v-flex xs3>
                        <p style="margin: 0%; padding: 0%; text-align: left">Mode:</p>
                    </v-flex>
                    <v-flex xs9>
                        <v-btn-toggle v-model="mode" mandatory style="width:100%">
                            <v-btn flat block value="touch">
                                <v-icon>touch_app</v-icon>
                            </v-btn>
                            <v-btn flat block value="keyboard">
                                <v-icon>keyboard</v-icon>
                            </v-btn>
                            <v-btn flat block value="script">
                                <v-icon>videocam</v-icon>
                            </v-btn>
                            <v-btn flat block value="timer">
                                <v-icon>timer</v-icon>
                            </v-btn>
                        </v-btn-toggle>
                    </v-flex>
                    <v-flex xs3>
                        <p style="margin: 0%; padding: 0%; text-align: left;">Action:</p>
                    </v-flex>
                    <v-flex xs3>
                        <v-btn flat outline block @click.stop.prevent="game.reset()" :disabled="lock || !(mode=='touch' || mode=='keyboard')">
                            <v-icon>autorenew</v-icon>
                        </v-btn>
                    </v-flex>
                    <v-flex xs3>
                        <v-btn flat outline block @click.stop.prevent="game.random()" :disabled="lock || !(mode=='touch' || mode=='keyboard')">
                            <v-icon>casino</v-icon>
                        </v-btn>
                    </v-flex>
                    <v-flex xs3>
                        <v-btn flat outline block @click.stop.prevent="reset()" color="error" :disabled="lock">
                            <v-icon>delete</v-icon>
                        </v-btn>
                    </v-flex>
                    <v-flex xs3>
                        <p style="margin: 0%; padding: 0%; text-align: left">Frames:</p>
                    </v-flex>
                    <v-flex xs3>
                        <v-btn icon :disabled="game.duration == 1" @click.stop.prevent="game.duration--" style="margin: 0%; padding: 0%;">
                            <v-icon>remove</v-icon>
                        </v-btn>
                    </v-flex>
                    <v-flex xs3>
                        <v-btn depressed outline @click.stop.prevent :ripple="false" style="margin: 0%; padding: 0%;">{{game.duration}}
                        </v-btn>
                    </v-flex>
                    <v-flex xs3>
                        <v-btn icon @click.stop.prevent="game.duration++" style="margin: 0%; padding: 0%;">
                            <v-icon>add</v-icon>
                        </v-btn>
                    </v-flex>
                </v-layout>
            </v-container>
        </v-card>
    </v-bottom-sheet>
</v-app>