!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=24)}([function(e,t,i){e.exports=i(6)(7)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return r})),i.d(t,"d",(function(){return a}));var s,n={GREEN:"#00A020",ORANGE:"#FF6D00",BLUE:"#0D47A1",YELLOW:"#FFD600",WHITE:"#EEEEEE",RED:"#B71C1C",GRAY:"#444444",BLACK:"#222222",BACKGROUND:"#C0C0C0"};!function(e){e[e.L=0]="L",e[e.R=1]="R",e[e.D=2]="D",e[e.U=3]="U",e[e.B=4]="B",e[e.F=5]="F"}(s||(s={}));var r=30;function a(e,t){let i=document.createElement("a");i.innerHTML=e,i.setAttribute("download",e),i.download=e,document.body.appendChild(i);let s=URL.createObjectURL(t);if(i.href=s,document.createEvent){var n=document.createEvent("MouseEvents");n.initEvent("click",!0,!0),i.dispatchEvent(n)}else i.click&&i.click();document.body.removeChild(i)}},function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var s=i(0),n=i(1);class r extends s.Geometry{constructor(e,t){super();const i=e/2,n=i-t,a=[[-n,+n,+i],[+n,+n,+i],[+n,-n,+i],[-n,-n,+i],[-n,+i,-n],[+n,+i,-n],[+n,+i,+n],[-n,+i,+n],[-i,-n,-n],[-i,+n,-n],[-i,+n,+n],[-i,-n,+n],[+n,+n,-i],[-n,+n,-i],[-n,-n,-i],[+n,-n,-i],[-n,-i,+n],[+n,-i,+n],[+n,-i,-n],[-n,-i,-n],[+i,+n,+n],[+i,+n,-n],[+i,-n,-n],[+i,-n,+n]];for(let e=0;e<a.length;e++){let t=a[e];this.vertices.push(new s.Vector3(t[0],t[1],t[2]))}for(let e=0;e<r._INDICES.length;e++){let t=r._INDICES[e],i=new s.Face3(t[0],t[1],t[2]);this.faces.push(i)}this.computeFaceNormals()}}r._INDICES=[[0,2,1],[0,3,2],[4,6,5],[4,7,6],[8,10,9],[8,11,10],[12,14,13],[12,15,14],[16,18,17],[16,19,18],[20,22,21],[20,23,22],[1,6,7],[0,1,7],[3,0,10],[11,3,10],[17,2,3],[16,17,3],[23,20,1],[2,23,1],[5,12,13],[4,5,13],[9,13,14],[8,9,14],[22,15,12],[21,22,12],[19,14,15],[18,19,15],[7,4,9],[10,7,9],[11,8,19],[16,11,19],[23,17,18],[22,23,18],[20,21,5],[6,20,5],[20,6,1],[10,0,7],[21,12,5],[13,9,4],[23,2,17],[11,16,3],[22,18,15],[8,14,19]];class a extends s.ExtrudeGeometry{constructor(e,t){let i=-(e/=2),n=e,r=-e,a=e,o=e/4,h=new s.Shape;h.moveTo(i,r+o),h.lineTo(i,n-o),h.quadraticCurveTo(i,n,i+o,n),h.lineTo(a-o,n),h.quadraticCurveTo(a,n,a,n-o),h.lineTo(a,r+o),h.quadraticCurveTo(a,r,a-o,r),h.lineTo(i+o,r),h.quadraticCurveTo(i,r,i,r+o),h.closePath(),super(h,{bevelEnabled:!1,depth:t})}}class o extends s.ShapeGeometry{constructor(e,t){let i=-(e/=2),n=e,r=-e,a=e,o=e/4,h=new s.Shape;h.moveTo(i,r+o),h.lineTo(i,n-o),h.quadraticCurveTo(i,n,i+o,n),h.lineTo(a-o,n),h.quadraticCurveTo(a,n,a,n-o),h.lineTo(a,r+o),h.quadraticCurveTo(a,r,a-o,r),h.lineTo(i+o,r),h.quadraticCurveTo(i,r,i,r+o),h.closePath(),super(h)}}class h extends s.Group{constructor(e){super(),this.initial=e,this._vector=new s.Vector3,this.stickers=[],this._quaternion=new s.Quaternion,this.mirrors=[];let t=e%3-1,i=Math.floor(e%9/3)-1,r=Math.floor(e/9)-1;this.vector=new s.Vector3(t,i,r),this.materials=[this.vector.x<0?h._MATERIALS.orange:h._MATERIALS.gray,this.vector.x>0?h._MATERIALS.red:h._MATERIALS.gray,this.vector.y<0?h._MATERIALS.white:h._MATERIALS.gray,this.vector.y>0?h._MATERIALS.yellow:h._MATERIALS.gray,this.vector.z<0?h._MATERIALS.green:h._MATERIALS.gray,this.vector.z>0?h._MATERIALS.blue:h._MATERIALS.gray],this.frame=new s.Mesh(h._FRAME,h._MATERIALS.black),this.add(this.frame);for(let e=0;e<6;e++){let t=new s.Mesh(h._STICKER,this.materials[e]);switch(t.name=n.c[e],e){case n.c.L:t.rotation.y=-Math.PI/2,t.position.x=-h.SIZE/2;break;case n.c.R:t.rotation.y=Math.PI/2,t.position.x=h.SIZE/2;break;case n.c.D:t.rotation.x=Math.PI/2,t.position.y=-h.SIZE/2;break;case n.c.U:t.rotation.x=-Math.PI/2,t.position.y=h.SIZE/2;break;case n.c.B:t.rotation.x=Math.PI,t.position.z=-h.SIZE/2;break;case n.c.F:t.rotation.x=2*Math.PI,t.position.z=h.SIZE/2}if(this.stickers.push(t),t.material!=h._MATERIALS.gray&&this.add(t),this.materials[e]!=h._MATERIALS.gray){let i=new s.Mesh(h._MIRROR,this.materials[e]);i.rotation.x=0==t.rotation.x?0:t.rotation.x+Math.PI,i.rotation.y=0==t.rotation.y?0:t.rotation.y+Math.PI,i.rotation.z=0==t.rotation.z?0:t.rotation.z+Math.PI,i.rotation.x+i.rotation.y+i.rotation.z==0&&(i.rotation.y=Math.PI),i.position.x=3*t.position.x,i.position.y=3*t.position.y,i.position.z=3*t.position.z,this.add(i),this.mirrors[e]=i}this.matrixAutoUpdate=!1,this.updateMatrix()}}set vector(e){this._vector.set(Math.round(e.x),Math.round(e.y),Math.round(e.z)),this._index=9*(this._vector.z+1)+3*(this._vector.y+1)+(this._vector.x+1),this.position.x=h.SIZE*this._vector.x,this.position.y=h.SIZE*this._vector.y,this.position.z=h.SIZE*this._vector.z}get vector(){return this._vector}set index(e){let t=e%3-1,i=Math.floor(e%9/3)-1,n=Math.floor(e/9)-1;this.vector=new s.Vector3(t,i,n)}get index(){return this._index}set mirror(e){if(e)for(let e=0;e<6;e++)this.mirrors[e]instanceof s.Mesh&&this.children.indexOf(this.mirrors[e])<0&&this.add(this.mirrors[e]);else for(let e=0;e<6;e++)this.mirrors[e]instanceof s.Mesh&&this.children.indexOf(this.mirrors[e])>=0&&this.remove(this.mirrors[e])}getColor(e){let t=new s.Vector3(0,0,0);switch(e){case n.c.L:t.x=-1;break;case n.c.R:t.x=1;break;case n.c.D:t.y=-1;break;case n.c.U:t.y=1;break;case n.c.B:t.z=-1;break;case n.c.F:t.z=1}this._quaternion.copy(this.quaternion),t.applyQuaternion(this._quaternion.inverse());let i=Math.round(t.x),r=Math.round(t.y),a=Math.round(t.z),o=0;return i<0?o=n.c.L:i>0?o=n.c.R:r<0?o=n.c.D:r>0?o=n.c.U:a<0?o=n.c.B:a>0&&(o=n.c.F),o}stick(e,t){let i;i=t.length>0?new s.MeshBasicMaterial({color:t}):this.materials[e],this.stickers[e].material=i,this.mirrors[e]instanceof s.Mesh&&(this.mirrors[e].material=i)}}h.SIZE=64,h._BORDER_WIDTH=4,h._STICKER_DEPTH=2,h._FRAME=new r(h.SIZE,h._BORDER_WIDTH),h._STICKER=new a(h.SIZE-2*h._BORDER_WIDTH-h._STICKER_DEPTH,h._STICKER_DEPTH),h._MIRROR=new o(h.SIZE-2*h._BORDER_WIDTH-h._STICKER_DEPTH,h._STICKER_DEPTH),h._MATERIALS={green:new s.MeshBasicMaterial({color:n.a.GREEN}),orange:new s.MeshBasicMaterial({color:n.a.ORANGE}),blue:new s.MeshBasicMaterial({color:n.a.BLUE}),yellow:new s.MeshBasicMaterial({color:n.a.YELLOW}),white:new s.MeshBasicMaterial({color:n.a.WHITE}),red:new s.MeshBasicMaterial({color:n.a.RED}),gray:new s.MeshBasicMaterial({color:n.a.GRAY}),black:new s.MeshBasicMaterial({color:n.a.BLACK})}},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var s=new class{constructor(){this.tweens=[],this.loop()}get length(){return this.tweens.length}loop(){requestAnimationFrame(this.loop.bind(this)),this.update()}tween(e,t,i,s){this.tweens.push(new n(e,t,i,s))}update(){if(0===this.tweens.length)return!1;for(var e=0;e<this.tweens.length;)this.tweens[e].update()?e++:this.tweens.splice(e,1);return!0}speedup(){for(const e of this.tweens)e.speedup()}finish(){let e=this.tweens.splice(0,this.tweens.length);for(const t of e)t.finish()}};class n{constructor(e,t,i,s){this.begin=e,this.end=t,this.duration=i,this.callback=s,this.value=0,this.delta=1}speedup(){this.delta=4}finish(){this.callback(this.end)}update(){this.value=this.value+this.delta;let e=this.value/this.duration;e=e>1?1:e,e=e<0?0:e,e-=1;let t=1-e*e;return this.callback(this.begin+(this.end-this.begin)*t),1!=t}}},function(e,t,i){e.exports=i(6)(11)},function(e,t,i){e.exports=i(6)(1)},function(e,t){e.exports=dll_library},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));class s{constructor(e){this._storage=window.localStorage,this.cuber=e,this.load()}load(){"0.0.1"!=this._storage.getItem("version")&&(this._storage.clear(),this._storage.setItem("version","0.0.1")),this.scale=Number(this._storage.getItem("setting.scale")||50),this.perspective=Number(this._storage.getItem("setting.perspective")||50),this.angle=Number(this._storage.getItem("setting.angle")||25),this.gradient=Number(this._storage.getItem("setting.gradient")||67),this.lock=!1,this.mirror=!1}reset(){this.scale=50,this.perspective=50,this.angle=25,this.gradient=67}get scale(){return this._scale}set scale(e){this._scale=e,this._storage.setItem("setting.scale",String(e)),this.cuber.scale=e/100+.5}get perspective(){return this._perspective}set perspective(e){this._perspective=e,this._storage.setItem("setting.perspective",String(e)),this.cuber.perspective=Math.exp((1-e/50)/1.2)}get angle(){return this._angle}set angle(e){this._angle=e,this._storage.setItem("setting.angle",String(e)),this.cuber.angle=(e/100-1)*Math.PI/4}get gradient(){return this._gradient}set gradient(e){this._gradient=e,this._storage.setItem("setting.gradient",String(e)),this.cuber.gradient=(1-e/100)*Math.PI/2}get mirror(){return this.cuber.mirror}set mirror(e){this.cuber.mirror=e}get lock(){return this.cuber.controller.lock}set lock(e){this.cuber.controller.lock=e}}},function(e,t,i){"use strict";i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return o}));var s=i(3),n=i(1);class r{constructor(e){this.callbacks=[],this.cube=e,this.queue=[],this.cube.callbacks.push(this.update.bind(this))}static shuffle(){let e="",t=["x2"],i=-1,s=["U","D","R","L","F","B"],n=-1;for(let e=0;e<24;e++){let e=[];for(;n==i;)n=Math.floor(3*Math.random());let r=Math.floor(2*Math.random());e.push(s[2*n+r]);let a=Math.random();a<.2?e.push("2"):a<.6&&e.push("'"),t.push(e.join("")),i=n}return e=t.join(" "),e}get length(){return this.queue.length}finish(){for(const e of this.queue)e.fast=!0;s.a.finish()}twist(e,t=!1,i=1,n=!1){this.queue.length>0&&(s.a.finish(),this.update()),s.a.speedup();let r=new o(e,t,i).parse();for(let e of r)e.fast=n,this.queue.push(e);this.update()}update(){if(0===this.queue.length){for(const e of this.callbacks)e();return}if(this.cube.lock)return;let e=this.queue.shift();null!=e&&this.start(e)}start(e){if("-"==e.exp)return e.fast?void this.update():void s.a.tween(0,1,n.b*e.times,e=>{1!==e&&0!==e||this.update()});if("#"==e.exp)return this.cube.history.clear(),this.cube.reset(),this.cube.dirty=!0,void this.update();if("*"==e.exp){let e=r.shuffle();return this.cube.reset(),this.twist(e,!1,1,!0),void this.cube.history.clear()}let t=-Math.PI/2;e.reverse&&(t=-t),e.times&&(t*=e.times);let i=this.cube.groups[e.exp];void 0!==i?(i.angle=0,i.hold(),e.fast&&(i.angle=t),i.twist(t)):this.update()}}class a{constructor(e,t=!1,i=1,s=!1){this.exp=e,this.reverse=t,this.times=i,this.fast=s}get value(){return 0==this.times?"":(this.exp.length>1?"(":"")+this.exp+(this.exp.length>1?")":"")+(this.reverse?"'":"")+(1==this.times?"":String(this.times))}}class o{constructor(e,t=!1,i=1){if(this.children=[],e=e.replace(/[^\*#\-xyzbsfdeulmr\(\)'0123456789]/gi,""),this.twist=new a(e,t,i),1==e.length)return/[XYZ]/.test(this.twist.exp)&&(this.twist.exp=this.twist.exp.toLowerCase()),void(/[mes]/.test(this.twist.exp)&&(this.twist.exp=this.twist.exp.toUpperCase()));let s=[],n="",r=0;for(let t=0;t<e.length;t++){let i=e.charAt(t);if(0==n.length){if(o._ACTIONS.indexOf(i)>=0){n=n.concat(i);continue}if("("===i){n=n.concat(i),r++;continue}return}0==r?o._SUFFIX.indexOf(i)>=0?n=n.concat(i):(s.push(n),n="",t--):("("===i?r++:")"===i&&r--,n=n.concat(i))}if(n.length>0&&s.push(n),0!=s.length)for(let e of s){var h=e.match(/^\((\S+)\)('?)(\d*)('?)$/i);if(null===h&&(h=e.match(/([\*#\-xyzbsfdeulmr])('?)(\d*)('?)/i)),null===h)return;let t=1==(h[2]+h[4]).length,i=0==h[3].length?1:parseInt(h[3]);this.children.push(new o(h[1],t,i))}}parse(e=!1){e=this.twist.reverse!==e;let t=[];if(0!==this.children.length)for(var i=0;i<this.twist.times;i++)for(var s=0;s<this.children.length;s++){var n=(e?this.children[this.children.length-s-1]:this.children[s]).parse(e);for(let e of n)t.push(e)}else if(""!=this.twist.exp){let i=new a(this.twist.exp,e,this.twist.times);t.push(i)}return t}get value(){return this.twist.value}}o._ACTIONS="*#-xyzbsfdeulmrXYZBFSDEULMR",o._SUFFIX="'0123456789"},function(e,t,i){"use strict";var s=i(0),n=i(11),r=i(2),a=i(1),o=i(3);class h{constructor(){this.vector=new s.Vector3}}class l{constructor(e){this.dragging=!1,this.rotating=!1,this.angle=0,this.ray=new s.Ray,this.down=new s.Vector2(0,0),this.move=new s.Vector2(0,0),this.matrix=new s.Matrix4,this.holder=new h,this.vector=new s.Vector3,this.planes=[new s.Plane(new s.Vector3(1,0,0),3*-r.a.SIZE/2),new s.Plane(new s.Vector3(0,1,0),3*-r.a.SIZE/2),new s.Plane(new s.Vector3(0,0,1),3*-r.a.SIZE/2)],this._lock=!1,this._disable=!1,this._onMouseDown=e=>(this.down.x=e.offsetX,this.down.y=e.offsetY,this.handleDown(),e.returnValue=!1,!1),this._onMouseMove=e=>(this.move.x=e.offsetX,this.move.y=e.offsetY,this.handleMove(),e.returnValue=!1,!1),this._onMouseUp=e=>(this.handleUp(),e.returnValue=!1,!1),this._onMouseOut=e=>(this.handleUp(),e.returnValue=!1,!1),this._onTouch=e=>{let t=e.changedTouches[0];switch(e.type){case"touchstart":this.down.x=t.clientX,this.down.y=t.clientY,this.handleDown();break;case"touchmove":this.move.x=t.clientX,this.move.y=t.clientY,this.handleMove();break;case"touchend":this.handleUp();break;default:return}return e.returnValue=!1,!1},this.cuber=e,this.taps=[],this.cuber.canvas.addEventListener("mousedown",this._onMouseDown),this.cuber.canvas.addEventListener("mousemove",this._onMouseMove),this.cuber.canvas.addEventListener("mouseup",this._onMouseUp),this.cuber.canvas.addEventListener("mouseout",this._onMouseOut),this.cuber.canvas.addEventListener("touchstart",this._onTouch),this.cuber.canvas.addEventListener("touchmove",this._onTouch),this.cuber.canvas.addEventListener("touchend",this._onTouch),this.loop()}get lock(){return this._lock}set lock(e){this.handleUp(),this._lock=e}get disable(){return this._disable}set disable(e){this.handleUp(),this._disable=e}loop(){requestAnimationFrame(this.loop.bind(this)),this.update()}update(){if(this.lock&&this.rotating&&this.group.angle!=this.angle){let e=(this.angle-this.group.angle)/2,t=Math.PI/2/a.b*4;e>t&&(e=t),e<-t&&(e=-t),this.group.angle+=e,this.cuber.dirty=!0}}match(){let e,t=[];var i=this.holder.index;if(-1===this.holder.index)return e=this.cuber.cube.groups.x,0===e.axis.dot(this.holder.plane.normal)&&t.push(e),e=this.cuber.cube.groups.y,0===e.axis.dot(this.holder.plane.normal)&&t.push(e),e=this.cuber.cube.groups.z,0===e.axis.dot(this.holder.plane.normal)&&t.push(e),t;var s=i%3-1,n=Math.floor(i%9/3)-1,r=Math.floor(i/9)-1;switch(s){case-1:e=this.cuber.cube.groups.L,0===e.axis.dot(this.holder.plane.normal)&&t.push(e);break;case 0:e=this.cuber.cube.groups.M,0===e.axis.dot(this.holder.plane.normal)&&t.push(e);break;case 1:e=this.cuber.cube.groups.R,0===e.axis.dot(this.holder.plane.normal)&&t.push(e)}switch(n){case-1:e=this.cuber.cube.groups.D,0===e.axis.dot(this.holder.plane.normal)&&t.push(e);break;case 0:e=this.cuber.cube.groups.E,0===e.axis.dot(this.holder.plane.normal)&&t.push(e);break;case 1:e=this.cuber.cube.groups.U,0===e.axis.dot(this.holder.plane.normal)&&t.push(e)}switch(r){case-1:e=this.cuber.cube.groups.B,0===e.axis.dot(this.holder.plane.normal)&&t.push(e);break;case 0:e=this.cuber.cube.groups.S,0===e.axis.dot(this.holder.plane.normal)&&t.push(e);break;case 1:e=this.cuber.cube.groups.F,0===e.axis.dot(this.holder.plane.normal)&&t.push(e)}return t}intersect(e,t){var i=e.x/this.cuber.width*2-1,n=-e.y/this.cuber.height*2+1;this.ray.origin.setFromMatrixPosition(this.cuber.camera.matrixWorld),this.ray.direction.set(i,n,.5).unproject(this.cuber.camera).sub(this.ray.origin).normalize(),this.ray.applyMatrix4(this.matrix.identity().getInverse(this.cuber.scene.matrix));var r=new s.Vector3;return this.ray.intersectPlane(t,r),r}handleDown(){if(this.disable||this.dragging||this.rotating)return;this.dragging=!0,this.holder.index=-1,o.a.speedup();let e=0;this.planes.forEach(t=>{var i=this.intersect(this.down,t);if(null!==i&&Math.abs(i.x)<=3*r.a.SIZE/2+.01&&Math.abs(i.y)<=3*r.a.SIZE/2+.01&&Math.abs(i.z)<=3*r.a.SIZE/2+.01){let o=Math.pow(i.x-this.ray.origin.x,2)+Math.pow(i.y-this.ray.origin.y,2)+Math.pow(i.z-this.ray.origin.z,2);if(0==e||o<e){this.holder.plane=t;var s=Math.ceil(Math.round(i.x)/r.a.SIZE-.5),n=Math.ceil(Math.round(i.y)/r.a.SIZE-.5),a=Math.ceil(Math.round(i.z)/r.a.SIZE-.5);return s<2&&s>-2&&n<2&&n>-2&&a<2&&a>-2?(this.holder.index=9*(a+1)+3*(n+1)+(s+1),13==this.holder.index&&(this.holder.index=-1)):this.holder.index=-1,void(e=o)}}},this)}handleMove(){if(!this.disable){if(this.dragging){var e=this.move.x-this.down.x,t=this.move.y-this.down.y,i=Math.sqrt(e*e+t*t);if(Math.min(this.cuber.width,this.cuber.height)/i>32)return!0;if(o.a.finish(),this.cuber.cube.lock)return this.dragging=!1,this.rotating=!1,!0;if(this.dragging=!1,this.rotating=!0,-1===this.holder.index)if(e*e>t*t)this.group=this.cuber.cube.groups.y;else{let e=new s.Vector3(3*r.a.SIZE/2,0,3*r.a.SIZE/2);e.applyMatrix4(this.cuber.scene.matrix).project(this.cuber.camera);let t=this.cuber.width/2,i=Math.round(e.x*t+t);this.down.x<i?this.group=this.cuber.cube.groups.x:this.group=this.cuber.cube.groups.z}else{var n=this.intersect(this.down,this.holder.plane),a=this.intersect(this.move,this.holder.plane);this.vector.subVectors(a,n);var h=this.vector.x,l=this.vector.y,c=this.vector.z,u=Math.max(Math.abs(h),Math.abs(l),Math.abs(c));h=Math.abs(h)===u?h:0,l=Math.abs(l)===u?l:0,c=Math.abs(c)===u?c:0,this.vector.set(h,l,c),this.holder.vector.copy(this.vector.multiply(this.vector).normalize()),this.match().some(e=>0===e.axis.dot(this.vector)&&(this.group=e,!0),this),this.vector.crossVectors(this.holder.vector,this.holder.plane.normal),this.holder.vector.multiplyScalar(this.vector.x+this.vector.y+this.vector.z)}this.group.hold()}if(this.rotating){if(-1===this.holder.index){e=this.move.x-this.down.x,t=this.move.y-this.down.y;this.group===this.cuber.cube.groups.y?this.angle=e/r.a.SIZE*Math.PI/4:this.group===this.cuber.cube.groups.x?this.angle=t/r.a.SIZE*Math.PI/4:this.angle=-t/r.a.SIZE*Math.PI/4}else{n=this.intersect(this.down,this.holder.plane),a=this.intersect(this.move,this.holder.plane);this.vector.subVectors(a,n).multiply(this.holder.vector),this.angle=-(this.vector.x+this.vector.y+this.vector.z)*(this.group.axis.x+this.group.axis.y+this.group.axis.z)/r.a.SIZE*Math.PI/4}if(!this.lock)return this.angle=0==this.angle?0:this.angle/Math.abs(this.angle)*Math.PI/2,void this.handleUp()}}}handleUp(){if(this.dragging){let e=null;switch(this.holder.plane){case this.planes[0]:e=a.c.R;break;case this.planes[1]:e=a.c.U;break;case this.planes[2]:e=a.c.F}for(let t of this.taps)t(this.holder.index,e)}this.rotating&&this.group&&null!==this.group&&(this.lock?this.group.twist(0):this.group.twist(this.angle)),this.holder.index=-1,this.dragging=!1,this.rotating=!1,this.cuber.dirty=!0}}i.d(t,"a",(function(){return c}));class c{constructor(e){this.dirty=!1,this._left=!1,this._gradient=Math.PI/6,this._perspective=1,this.canvas=e,this.controller=new l(this),this.cube=new n.a,this.renderer=new s.WebGLRenderer({canvas:e,antialias:!0}),this.renderer.autoClear=!1,this.renderer.setClearColor(a.a.BACKGROUND),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height,!0),this.scene=new s.Scene,this.scene.rotation.x=Math.PI/6,this.scene.rotation.y=-Math.PI/4+Math.PI/16,this.scene.add(this.cube),this.camera=new s.PerspectiveCamera(50,1,1,32*r.a.SIZE),this.camera.position.x=0,this.camera.position.y=0,this.camera.position.z=0,this.mirror=!1,this.scale=1,this.angle=-Math.PI/8}get mirror(){return this._mirror}set mirror(e){this._mirror=e;for(let t of this.cube.cubelets)t.mirror=e;this.dirty=!0}get scale(){return this._scale}set scale(e){this._scale=e,this.resize()}get angle(){return this._angle}set angle(e){this._angle=e,this.scene.rotation.y=e*(this.left?-1:1),this.dirty=!0}get left(){return this._left}set left(e){this._left=e;let t=this.scene.rotation.y,i=-t;o.a.finish(),o.a.tween(t,i,a.b/2,e=>{this.scene.rotation.y=e,this.dirty=!0})}get gradient(){return this._gradient}set gradient(e){this._gradient=e,this.scene.rotation.x=e,this.dirty=!0}get perspective(){return this._perspective}set perspective(e){this._perspective=e,this.resize()}resize(){let e=this.height/Math.min(this.width,this.height/1.2)/4/this.scale/this.perspective,t=2*Math.atan(e)*180/Math.PI;this.camera.aspect=this.width/this.height,this.camera.fov=t,this.camera.position.z=3*r.a.SIZE*4*this.perspective,this.camera.lookAt(this.scene.position),this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height,!0),this.dirty=!0}render(){(this.dirty||this.cube.dirty)&&(this.renderer.clear(),this.renderer.render(this.scene,this.camera),this.dirty=!1,this.cube.dirty=!1)}}},function(e,t,i){e.exports=i(6)(12)},function(e,t,i){"use strict";var s=i(0),n=i(8),r=i(1),a=i(3);class o extends s.Group{constructor(e,t,i,s){super(),this.cube=e,this._angle=0,this.cubelets=[],this.name=t,this.indices=i,this.axis=s,this.matrixAutoUpdate=!1,this.updateMatrix()}set angle(e){this.setRotationFromAxisAngle(this.axis,e),this._angle=e,this.updateMatrix(),this.cube.dirty=!0}get angle(){return this._angle}hold(){this.angle=0;for(let e of this.indices){let t=this.cube.cubelets[e];this.cubelets.push(t),this.cube.remove(t),this.add(t)}this.cube.lock=!0}drop(){for(this.angle=Math.round(this.angle/(Math.PI/2))*(Math.PI/2);;){let e=this.cubelets.pop();if(void 0===e)break;this.rotate(e),this.remove(e),this.cube.add(e),this.cube.cubelets[e.index]=e}if(this.cube.lock=!1,0!=this.angle)for(const e of this.cube.callbacks)e();this.angle=0}twist(e=this.angle){e=Math.round(e/(Math.PI/2))*(Math.PI/2);let t=this.name,i=e>0,s=Math.round(Math.abs(e)/(Math.PI/2));0!=s&&this.cube.history.record(new n.a(t,i,s));let o=e-this.angle;if(0===o)this.drop();else{var h=r.b*Math.min(1,Math.abs(o)/(Math.PI/2));a.a.tween(this.angle,e,h,t=>{this.angle=t,this.angle!==e&&0!==this.angle||this.drop()})}}rotate(e){e.rotateOnWorldAxis(this.axis,this.angle),e.vector=e.vector.applyAxisAngle(this.axis,this.angle),e.updateMatrix()}}var h=i(2);class l{constructor(){this.list=[]}record(e){if(0==this.list.length)this.list.push(e);else{let t=this.list[this.list.length-1];t.exp==e.exp?(t.times=t.times+e.times*(t.reverse==e.reverse?1:-1),t.times=t.times%4,0==t.times&&this.list.pop()):this.list.push(e)}}clear(){this.list=[]}get last(){return this.list[this.list.length-1]}get length(){return this.list.length}get moves(){let e=this.length;for(const t of this.list)/[xyz]/.test(t.exp)&&e--;return e}}i.d(t,"a",(function(){return c}));class c extends s.Group{constructor(){super(),this.dirty=!0,this.lock=!1,this.history=new l,this.cubelets=[],this.initials=[],this.callbacks=[],this.complete=!1,this.twister=new n.c(this);for(var e=0;e<27;e++){let t=new h.a(e);this.cubelets.push(t),this.initials.push(t),this.add(t)}this.groups={L:new o(this,"L",[6,15,24,3,12,21,0,9,18],new s.Vector3(-1,0,0)),D:new o(this,"D",[18,19,20,9,10,11,0,1,2],new s.Vector3(0,-1,0)),B:new o(this,"B",[8,7,6,5,4,3,2,1,0],new s.Vector3(0,0,-1)),R:new o(this,"R",[26,17,8,23,14,5,20,11,2],new s.Vector3(1,0,0)),U:new o(this,"U",[6,7,8,15,16,17,24,25,26],new s.Vector3(0,1,0)),F:new o(this,"F",[24,25,26,21,22,23,18,19,20],new s.Vector3(0,0,1)),l:new o(this,"l",[0,3,6,9,12,15,18,21,24,1,4,7,10,13,16,19,22,25],new s.Vector3(-1,0,0)),d:new o(this,"d",[0,1,2,9,10,11,18,19,20,3,4,5,12,13,14,21,22,23],new s.Vector3(0,-1,0)),b:new o(this,"b",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],new s.Vector3(0,0,-1)),r:new o(this,"r",[2,5,8,11,14,17,20,23,26,1,4,7,10,13,16,19,22,25],new s.Vector3(1,0,0)),u:new o(this,"u",[6,7,8,15,16,17,24,25,26,3,4,5,12,13,14,21,22,23],new s.Vector3(0,1,0)),f:new o(this,"f",[18,19,20,21,22,23,24,25,26,9,10,11,12,13,14,15,16,17],new s.Vector3(0,0,1)),M:new o(this,"M",[1,4,7,10,13,16,19,22,25],new s.Vector3(-1,0,0)),E:new o(this,"E",[3,4,5,12,13,14,21,22,23],new s.Vector3(0,-1,0)),S:new o(this,"S",[9,10,11,12,13,14,15,16,17],new s.Vector3(0,0,1)),x:new o(this,"x",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],new s.Vector3(1,0,0)),y:new o(this,"y",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],new s.Vector3(0,1,0)),z:new o(this,"z",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],new s.Vector3(0,0,1))};for(let e in this.groups)this.add(this.groups[e]);this.callbacks.push(()=>{let e=[0,1,2,3,4,5].every(e=>{let t=this.cubelets[this.groups[r.c[e]].indices[0]].getColor(e);return this.groups[r.c[e]].indices.every(i=>t==this.cubelets[i].getColor(e))});this.complete=e}),this.matrixAutoUpdate=!1,this.updateMatrix()}index(e){return this.initials[e].index}reset(){for(let e of this.cubelets)e.setRotationFromEuler(new s.Euler(0,0,0)),e.index=e.initial,e.updateMatrix();this.cubelets.sort((e,t)=>e.index-t.index)}stick(){for(let e=0;e<27;e++)for(let t=0;t<6;t++)this.initials[e].stick(t,"");this.dirty=!0}strip(e){this.stick();for(const t of[r.c.L,r.c.R,r.c.D,r.c.U,r.c.B,r.c.F]){let i=e[r.c[t]];if(null==i)continue;let s=this.groups[r.c[t]];for(const e of i)this.initials[s.indices[e-1]].stick(t,r.a.GRAY)}this.dirty=!0}get state(){let e=[];for(let t of this.groups.U.indices)e.push(this.cubelets[t].getColor(r.c.U));for(let t of this.groups.R.indices)e.push(this.cubelets[t].getColor(r.c.R));for(let t of this.groups.F.indices)e.push(this.cubelets[t].getColor(r.c.F));for(let t of this.groups.D.indices)e.push(this.cubelets[t].getColor(r.c.D));for(let t of this.groups.L.indices)e.push(this.cubelets[t].getColor(r.c.L));for(let t of this.groups.B.indices)e.push(this.cubelets[t].getColor(r.c.B));return e.join("")}}},function(e,t,i){"use strict";var s=i(5),n=i(4),r=i(7),a=function(e,t,i,s){var n,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(r<3?n(a):r>3?n(t,i,a):n(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let h=class extends s.default{onValueChange(e){this.$emit("input",e)}};a([Object(n.Inject)("option"),o("design:type",r.a)],h.prototype,"option",void 0),a([Object(n.Prop)({required:!0}),o("design:type",Boolean)],h.prototype,"value",void 0),a([Object(n.Watch)("value"),o("design:type",Function),o("design:paramtypes",[Boolean]),o("design:returntype",void 0)],h.prototype,"onValueChange",null),h=a([Object(n.Component)({template:i(13)})],h),t.a=h},function(e,t){e.exports='<v-bottom-sheet v-model="value">\n  <v-card flat style="margin: auto;touch-action: none;user-select: none;">\n    <v-container fluid grid-list-md text-xs-center>\n      <v-layout row wrap justify-center align-center>\n        <v-slider v-model="option.scale" always-dirty thumb-label="always" max="100" min="0" label="大小"></v-slider>\n      </v-layout>\n      <v-layout row wrap justify-center align-center>\n        <v-slider v-model="option.perspective" always-dirty thumb-label="always" max="100" min="0" label="透视"></v-slider>\n      </v-layout>\n      <v-layout row wrap justify-center align-center>\n        <v-slider v-model="option.angle" always-dirty thumb-label="always" max="100" min="0" label="左右"></v-slider>\n      </v-layout>\n      <v-layout row wrap justify-center align-center>\n        <v-slider v-model="option.gradient" always-dirty thumb-label="always" max="100" min="0" label="上下"></v-slider>\n      </v-layout>\n      <v-layout row wrap justify-center align-center>\n        <v-btn @click.native.stop.prevent="option.reset" @touchstart.native.stop.prevent="option.reset" outlined color="red">重置</v-btn>\n      </v-layout>\n    </v-container>\n  </v-card>\n</v-bottom-sheet>\n'},function(e,t,i){e.exports=i(6)(41)},function(e,t,i){e.exports=i(6)(13)},function(e,t,i){e.exports=i(6)(15)},,,function(e){e.exports=JSON.parse('[{"name":"F2L","strip":{"U":[1,2,3,4,5,6,7,8,9],"F":[1,2,3],"R":[1,2,3],"B":[1,2,3],"L":[1,2,3]},"algs":[{"name":"F2L-01","default":"(R\'FRF\')"},{"name":"F2L-02","default":"y\'(U\'R\'UR)y"},{"name":"F2L-03","default":"y\'(R\'U\'R)y"},{"name":"F2L-04","default":"(RUR\')"},{"name":"F2L-05","default":"U\'(RUR\')U2(RU\'R\')"},{"name":"F2L-06","default":"d(R\'U\'R)U2(R\'UR)y"},{"name":"F2L-07","default":"U\'(RU\'2)(R\'U2)(RU\'R\')"},{"name":"F2L-08","default":"d(R\'U2)(RU\'2)(R\'UR)y"},{"name":"F2L-09","default":"U\'(RU\'R\'U)(F\'U\'F)"},{"name":"F2L-10","default":"U\'(RUR\'U)(RUR\')"},{"name":"F2L-11","default":"U\'(RU2R\'U)(F\'U\'F)"},{"name":"F2L-12","default":"(RU\'R\'U)(RU\'R\'U2)(RU\'R\')"},{"name":"F2L-13","default":"d(R\'URU\')(R\'U\'R)y"},{"name":"F2L-14","default":"U\'(RU\'R\'U)(RUR\')"},{"name":"F2L-15","default":"(RUR\'U2)(RU\'R\'U)(RU\'R\')"},{"name":"F2L-16","default":"(RU\'R\'U)d(R\'U\'R)y"},{"name":"F2L-17","default":"(RU\'2)(R\'U\'RUR\')"},{"name":"F2L-18","default":"y\'(R\'U2)(RUR\'U\'R)y"},{"name":"F2L-19","default":"U(RU\'2)(R\'URU\')R\'"},{"name":"F2L-20","default":"y\'(U\'R\'U2)(RU\'R\'UR)y"},{"name":"F2L-21","default":"(RU\'R\'U2)(RUR\')"},{"name":"F2L-22","default":"(F\'L\')U2(LF)"},{"name":"F2L-23","default":"(RUR\'U2)(RUR\'U\')(RUR\')"},{"name":"F2L-24","default":"F(URU\'R\')(F\'RU\'R\')"},{"name":"F2L-25","default":"(R\'F\'RU)(RU\'R\'F)"},{"name":"F2L-26","default":"U(RU\'R\'U\')(F\'UF)"},{"name":"F2L-27","default":"(RU\'R\'U)(RU\'R\')"},{"name":"F2L-28","default":"(RUR\'U\')(FR\'F\'R)"},{"name":"F2L-29","default":"(R\'FRF\')(URU\'R\')"},{"name":"F2L-30","default":"(RUR\'U\')(RUR\')"},{"name":"F2L-31","default":"U\'(R\'FRF\')(RU\'R\')"},{"name":"F2L-32","default":"(RUR\'U\')2(RUR\')"},{"name":"F2L-33","default":"(RUR\'U\')(RU\'R\'U)(RU\'R\')"},{"name":"F2L-34","default":"U(RUR\'U2)(RUR\')"},{"name":"F2L-35","default":"U\'(RUR\')(F\'U\'F)"},{"name":"F2L-36","default":"U2(R\'FRF\')U2(RUR\')"},{"name":"F2L-37","default":"(R\'FRF\')(RU\'R\'U)(RU\'R\'U2)(RU\'R\')"},{"name":"F2L-38","default":"(RUR\'U\')(RU2R\'U\')(RUR\')"},{"name":"F2L-39","default":"(RU\'R\'U)(RU\'2R\'U)(RU\'R\')"},{"name":"F2L-40","default":"(RU\'R\'F)(RUR\'U\')(F\'RU\'R\')"},{"name":"F2L-41","default":"(RUR\'U\')(RU\'R\'U2)y\'(R\'U\'R)y"}]},{"name":"OLL","strip":{"F":[1,2,3,4,5,6,7,8,9],"R":[1,2,3,4,5,6,7,8,9],"B":[1,2,3,4,5,6,7,8,9],"L":[1,2,3,4,5,6,7,8,9],"D":[1,2,3,4,5,6,7,8,9]},"algs":[{"name":"OLL-01","default":"(RU\'2)(R2\'FRF\')U2(R\'FRF\')"},{"name":"OLL-02","default":"(FRUR\'U\'F\')(fRUR\'U\'f\')"},{"name":"OLL-03","default":"f(RUR\'U\')f\'U\'F(RUR\'U\')F\'"},{"name":"OLL-04","default":"f(RUR\'U\')yxR\'F(RUR\'U\')F\'"},{"name":"OLL-05","default":"r\'(U2)(RUR\'U)r"},{"name":"OLL-06","default":"r(U\'2)(R\'U\'RU\')r\'"},{"name":"OLL-07","default":"rUR\'URU\'2r\'"},{"name":"OLL-08","default":"r\'U\'RU\'R\'U2r"},{"name":"OLL-09","default":"(RUR\'U\')(R\'FR2U)(R\'U\'F\')"},{"name":"OLL-10","default":"(RUR\'U)(R\'FRF\')(RU\'2R\')"},{"name":"OLL-11","default":"r\'(R2UR\'U)(RU\'2R\'U)(rR\')"},{"name":"OLL-12","default":"F(RUR\'U\')F\'UF(RUR\'U\')F\'"},{"name":"OLL-13","default":"(rU\'r\'U\')(rUr\')(F\'UF)"},{"name":"OLL-14","default":"(R\'FRU)(R\'F\'R)(FU\'F\')"},{"name":"OLL-15","default":"(r\'U\'r)(R\'U\'RU)(r\'Ur)"},{"name":"OLL-16","default":"(rUr\')(RUR\'U\')(rU\'r\')"},{"name":"OLL-17","default":"(RUR\'U)(R\'FRF\'U2)(R\'FRF\')"},{"name":"OLL-18","default":"F(RUR\'d)(R\'U2)(R\'FRF\')"},{"name":"OLL-19","default":"MU(RUR\'U\')M\'(R\'FRF\')"},{"name":"OLL-20","default":"MU(RUR\'U\')M2U(RU\'r\')"},{"name":"OLL-21","default":"(RU\'2)(R\'U\'RUR\'U\')(RU\'R\')"},{"name":"OLL-22","default":"RU\'2(R\'2U\')(R2U\')R\'2U\'2R"},{"name":"OLL-23","default":"(R2D\')(RU2)(R\'D)(RU2R)"},{"name":"OLL-24","default":"(rUR\'U\')(r\'FRF\')"},{"name":"OLL-25","default":"F\'(rUR\'U\')(r\'FR)"},{"name":"OLL-26","default":"RU\'2R\'U\'RU\'R\'"},{"name":"OLL-27","default":"R\'U2RUR\'UR"},{"name":"OLL-28","default":"(rUR\'U\')(r\'RU)(RU\'R\')"},{"name":"OLL-29","default":"MU(RUR\'U\')(R\'FRF\')M\'"},{"name":"OLL-30","default":"(FURU2)(R\'U\'RU2)(R\'U\'F\')"},{"name":"OLL-31","default":"(R\'U\'F)(URU\'R\')(F\'R)"},{"name":"OLL-32","default":"S(RUR\'U\')(R\'FRf\')"},{"name":"OLL-33","default":"(RUR\'U\')(R\'FRF\')"},{"name":"OLL-34","default":"(RUR2U\')(R\'FRU)(RU\'F\')"},{"name":"OLL-35","default":"(RU\'2R\'2)(FRF\')(RU\'2R\')"},{"name":"OLL-36","default":"(R\'U\'RU\')(R\'URU)(lU\'R\'U)x"},{"name":"OLL-37","default":"F(RU\'R\'U\')(RUR\')F\'"},{"name":"OLL-38","default":"(RUR\'U)(RU\'R\'U\')(R\'FRF\')"},{"name":"OLL-39","default":"(LF\'L\'U\'LU)(FU\'L\')"},{"name":"OLL-40","default":"(R\'FRUR\'U\')(F\'UR)"},{"name":"OLL-41","default":"(RUR\'U)(RU2R\')F(RUR\'U\')F\'"},{"name":"OLL-42","default":"(R\'U\'RU\')(R\'U2R)F(RUR\'U\')F\'"},{"name":"OLL-43","default":"f\'(L\'U\'LU)f"},{"name":"OLL-44","default":"f(RUR\'U\')f\'"},{"name":"OLL-45","default":"F(RUR\'U\')F\'"},{"name":"OLL-46","default":"R\'U\'R\'FRF\'UR"},{"name":"OLL-47","default":"(R\'U\')(R\'FRF\')2(UR)"},{"name":"OLL-48","default":"F(RUR\'U\')2F\'"},{"name":"OLL-49","default":"(rU\'r2U)(r2Ur2U\'r)"},{"name":"OLL-50","default":"(r\'Ur2U\')(r2U\'r2Ur\')"},{"name":"OLL-51","default":"f(RUR\'U\')2f\'"},{"name":"OLL-52","default":"(RUR\'U)(Rd\'RU\')(R\'F\')"},{"name":"OLL-53","default":"(r\'U\'RU\')(R\'URU\')(R\'U2r)"},{"name":"OLL-54","default":"(rUR\'U)(RU\'R\'U)(RU2r\')"},{"name":"OLL-55","default":"(RU\'2)(R\'2U\')RU\'R\'U2(FRF\')"},{"name":"OLL-56","default":"(rUr\'U)(RU\'R\'U)(RU\'R\')(rU\'r\')"},{"name":"OLL-57","default":"(RUR\'U\')M\'(URU\'r\')"}]},{"name":"PLL","strip":{"F":[4,5,6,7,8,9],"R":[4,5,6,7,8,9],"B":[4,5,6,7,8,9],"L":[4,5,6,7,8,9],"D":[4,5,6,7,8,9]},"algs":[{"name":"PLL-Aa","default":"x(R2U\'2)(R\'D\')(RU\'2)(R\'DR\')x\'"},{"name":"PLL-Ab","default":"x(RD\'R)(U2R\'D)(RU2R\'2)x\'"},{"name":"PLL-E","default":"x\'(RU\'R\'D)(RUR\')u2\'(R\'URD)(R\'U\'R)x\'"},{"name":"PLL-F","default":"(R\'U\'F\')(RUR\'U\')(R\'FR2U\'R\'U\')(RUR\'UR)"},{"name":"PLL-Ga","default":"(R2uR\')(UR\'U\'Ru\')(R\'2F\'UF)"},{"name":"PLL-Gb","default":"(R\'d\'F)(R2u)(R\'URU\'Ru\'R\'2)"},{"name":"PLL-Gc","default":"(R\'2u\'RU\'R)(UR\'u)(R2fR\'f\')"},{"name":"PLL-Gd","default":"(RUR\')y\'(R2u\'RU\'R\'U)(R\'uR2)"},{"name":"PLL-H","default":"M2UM2U2M2UM2"},{"name":"PLL-Ja","default":"z(U\'RD\')(R2UR\'U\')(R2UDR\')z\'"},{"name":"PLL-Jb","default":"(RUR\'F\')(RUR\'U\')(R\'F)(R2U\'R\')"},{"name":"PLL-Na","default":"z(R\'UR\')z\'(RU2L\'UR\')z(UR\')z\'(RU2L\'UR\')"},{"name":"PLL-Nb","default":"z(U\'RD\')(R2UR\'U\')z\'(RUR\')z(R2UR\')z\'(RU\')"},{"name":"PLL-Ra","default":"(RU\'2)(R\'U2)(RB\'R\'U\')(RURBR2\'U)"},{"name":"PLL-Rb","default":"(R\'U2)(RU\'2)(R\'FRUR\'U\')(R\'F\'R2U\')"},{"name":"PLL-T","default":"(RUR\'U\')(R\'F)(R2U\'R\'U\')(RUR\'F\')"},{"name":"PLL-Ua","default":"(RU\'R)(URUR)(U\'R\'U\'R2)"},{"name":"PLL-Ub","default":"(R2U)(RUR\'U\')(R\'U\')(R\'UR\')"},{"name":"PLL-V","default":"(R\'UR\'U\'yx2)(R\'UR\'U\'yx)(U2R\'U\'RUR)x"},{"name":"PLL-Y","default":"F(RU\'R\'U\')(RUR\'F\')(RUR\'U\')(R\'FRF\')"},{"name":"PLL-Z","default":"(R\'U\'RU\'R)(URU\'R\'UR)(UR2U\'R\')"}]}]')},function(e,t){e.exports='<v-app>\n  <v-speed-dial v-model="menu" fixed top right direction="bottom" style="user-select: none;">\n    <template v-slot:activator>\n      <v-btn\n        @click.native.stop.prevent="menu=!menu"\n        @touchstart.native.stop.prevent="menu=!menu"\n        fab\n        depressed\n        color="primary"\n        :style="{width:size+\'px\', height:size+\'px\'}"\n      >\n        <v-icon v-if="menu" :size="size * 0.6">close</v-icon>\n        <v-icon v-else :size="size * 0.6">menu</v-icon>\n      </v-btn>\n    </template>\n    <v-btn\n      fab\n      depressed\n      color="white"\n      :style="{width:size*0.9+\'px\', height:size*0.9+\'px\'}"\n      @click.native.stop.prevent="list=!list;menu=false;"\n      @touchstart.native.stop.prevent="list=!list;menu=false;"\n    >\n      <v-icon :size="size * 0.55" color="primary">apps</v-icon>\n    </v-btn>\n    <v-btn\n      fab\n      depressed\n      color="white"\n      :style="{width:size*0.9+\'px\', height:size*0.9+\'px\'}"\n      @click.native.stop.prevent="window.location.href = \'/\'"\n      @touchstart.native.stop.prevent="window.location.href = \'/\'"\n    >\n      <v-icon :size="size * 0.55" color="primary">games</v-icon>\n    </v-btn>\n    <v-btn\n      fab\n      depressed\n      color="white"\n      :style="{width:size*0.9+\'px\', height:size*0.9+\'px\'}"\n      @click.native.stop.prevent="tune=true;menu=false;"\n      @touchstart.native.stop.prevent="tune=true;menu=false;"\n    >\n      <v-icon :size="size * 0.55" color="primary">tune</v-icon>\n    </v-btn>\n    <v-btn\n      fab\n      depressed\n      color="white"\n      :style="{width:size*0.9+\'px\', height:size*0.9+\'px\'}"\n      @click.native.stop.prevent="window.open(\'https://gitee.com/huazhechen/cuber\')"\n      @touchstart.native.stop.prevent="window.open(\'https://gitee.com/huazhechen/cuber\')"\n    >\n      <v-icon :size="size * 0.55" color="primary">code</v-icon>\n    </v-btn>\n  </v-speed-dial>\n  <div v-show="!list" v-resize="resize" style="padding:0%;background-color:#C0C0C0;user-select: none;touch-action: none;">\n    <div ref="cuber"></div>\n    <div style="margin:0%;padding:0%;background-color:#FFFFFF;" :style="{width:width + \'px\', height:(size * 4) + \'px\'}">\n      <v-container fluid grid-list-md text-xs-center>\n        <v-layout row wrap>\n          <v-flex xs12 style="display: flex">\n            <template v-for="(group, i) in algs">\n              <v-btn\n                class="headline"\n                :color="index.group == i?\'primary\':\'\'"\n                depressed\n                style="text-transform:none; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%; height: 2em; flex: 1"\n                @click.native.stop.prevent="tabs(i);"\n                @touchstart.native.stop.prevent="tabs(i);"\n              >\n                {{index.group==i?(progress != 0?\'\':name):group.name}}\n                <v-icon large v-show="index.group == i && (progress != 0)">replay</v-icon>\n              </v-btn>\n            </template>\n          </v-flex>\n          <v-flex xs12>\n            <v-text-field\n              class="headline"\n              single-line\n              hide-details\n              outlined\n              :disabled="playing"\n              :append-icon="exp==origin?\'\':\'settings_backup_restore\'"\n              @click:append="exp=origin"\n              v-model="exp"\n            >\n            </v-text-field>\n          </v-flex>\n          <v-flex xs12 style="padding-left: 5%; padding-right: 5%">\n            <v-slider style="margin: 0%" readonly hide-details thumb-label="false" ticks="always" v-model="progress" :max="actions.length"></v-slider>\n          </v-flex>\n          <v-flex xs2.4>\n            <v-btn\n              block\n              text\n              large\n              @click.native.stop.prevent="index={group:index.group, index:(index.index + algs[index.group].algs.length - 1)%algs[index.group].algs.length};"\n              @touchstart.native.stop.prevent="index={group:index.group, index:(index.index + algs[index.group].algs.length - 1)%algs[index.group].algs.length};"\n              style="margin: 0%; padding: 0%;"\n            >\n              <v-icon large>skip_previous</v-icon>\n            </v-btn>\n          </v-flex>\n          <v-flex xs2.4>\n            <v-btn\n              block\n              text\n              large\n              :disabled="progress==0"\n              @click.native.stop.prevent="backward"\n              @touchstart.native.stop.prevent="backward"\n              style="margin: 0%; padding: 0%;"\n            >\n              <v-icon large>fast_rewind</v-icon>\n            </v-btn>\n          </v-flex>\n          <v-flex xs2.4>\n            <v-btn\n              block\n              text\n              large\n              :disabled="progress == actions.length"\n              @click.native.stop.prevent="toggle"\n              @touchstart.native.stop.prevent="toggle"\n              style="margin: 0%; padding: 0%;"\n            >\n              <v-icon large>{{playing?\'pause\':\'play_arrow\'}}</v-icon>\n            </v-btn>\n          </v-flex>\n          <v-flex xs2.4>\n            <v-btn\n              block\n              text\n              large\n              :disabled="progress == actions.length"\n              @click.native.stop.prevent="forward"\n              @touchstart.native.stop.prevent="forward"\n              style="margin: 0%; padding: 0%;"\n            >\n              <v-icon large>fast_forward</v-icon>\n            </v-btn>\n          </v-flex>\n          <v-flex xs2.4>\n            <v-btn\n              block\n              text\n              large\n              @click.native.stop.prevent="index={group:index.group, index:(index.index + 1)%algs[index.group].algs.length};"\n              @touchstart.native.stop.prevent="index={group:index.group, index:(index.index + 1)%algs[index.group].algs.length};"\n              style="margin: 0%; padding: 0%;"\n            >\n              <v-icon large>skip_next</v-icon>\n            </v-btn>\n          </v-flex>\n        </v-layout>\n      </v-container>\n    </div>\n  </div>\n  <tune v-model="tune"></tune>\n  <div v-show="list" style="margin:0;display: flex;flex-flow: column;height: 100%;background-color: #C0C0C0;">\n    <div>\n      <v-tabs v-model="tab" grow color="cyan">\n        <v-tab v-for="(group,i) in algs" :key="i" :href="`#tab-${i}`">\n          {{ group.name}}\n        </v-tab>\n      </v-tabs>\n    </div>\n    <div style="flex: 1;overflow: auto;">\n      <v-tabs-items v-model="tab">\n        <v-tab-item v-for="(group,i) in pics" :key="i" :value="\'tab-\' + i" style="height: 100%;">\n          <v-layout row wrap style="margin: 0%; padding:0%; min-width: 0%; min-height: 0%;align-items: stretch;">\n            <v-flex d-flex style="padding:0%; min-width: 0%; min-height: 0%;" v-for="(pic, j) in group">\n              <v-card outlined :style="{width:Math.min(width, height) / 4+\'px\'}" style="height: 100%;">\n                <p class="title" style="text-align:center;margin: 0%;padding: 0%;color: indianred">{{algs[i].algs[j].name}}</p>\n                <img :src="pic" style="width: 100%;" @click="index={group:i, index:j};list=false;" />\n                <p style="text-align:center;word-wrap:break-word;margin: 0%;padding: 0%;">{{algs[i].algs[j].exp}}</p>\n              </v-card>\n            </v-flex>\n          </v-layout>\n        </v-tab-item>\n      </v-tabs-items>\n    </div>\n  </div>\n</v-app>\n'},,,,function(e,t,i){"use strict";i.r(t);var s=i(5),n=(i(14),i(15),i(16),i(10)),r=i.n(n),a=i(4),o=i(9),h=i(7),l=i(12),c=i(8),u=i(0),d=i(11),p=i(2);class R{constructor(){this.cube=new d.a;for(let e of this.cube.cubelets)e.mirror=!1;this.renderer=new u.WebGLRenderer({antialias:!0,preserveDrawingBuffer:!0,alpha:!0}),this.renderer.setClearColor(0,0),this.renderer.setPixelRatio(1),this.renderer.setSize(512,512,!0),this.scene=new u.Scene,this.scene.rotation.x=Math.PI/6,this.scene.rotation.y=Math.PI/16-Math.PI/4,this.scene.add(this.cube),this.camera=new u.PerspectiveCamera(50,1,1,32*p.a.SIZE);let e=2*Math.atan(.25)*180/Math.PI;this.camera.aspect=1,this.camera.fov=e,this.camera.position.z=3*p.a.SIZE*4,this.camera.lookAt(this.scene.position),this.camera.updateProjectionMatrix()}snap(e,t){this.cube.strip(e),this.cube.reset();let i=new c.b(t,!0,1).parse();for(const e of i){let t=-Math.PI/2;e.reverse&&(t=-t),e.times&&(t*=e.times);let i=this.cube.groups[e.exp];i.angle=0,i.hold(),i.angle=t,i.drop()}return this.camera.aspect=1,this.camera.updateProjectionMatrix(),this.renderer.render(this.scene,this.camera),this.renderer.domElement.toDataURL("image/png")}}var g=function(e,t,i,s){var n,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(r<3?n(a):r>3?n(t,i,a):n(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},f=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let U=class extends s.default{constructor(){super(),this.algs=i(19),this.tune=!1,this.menu=!1,this.list=!1,this.width=0,this.height=0,this.size=0,this.progress=0,this.tab=null,this.capture=new R,this.pics=[],this.playing=!1,this.index={group:0,index:0},this.actions=[],this.name="",this.origin="",this.exp="";let e=document.createElement("canvas");this.cuber=new o.a(e),this.option=new h.a(this.cuber),this.cuber.cube.twister.callbacks.push(()=>{this.play()}),this.cuber.controller.lock=!0}mounted(){if(this.$refs.cuber instanceof Element){this.$refs.cuber.appendChild(this.cuber.canvas),this.$nextTick(this.resize)}for(let e=0;e<this.algs.length;e++)this.pics.push([]);let e=window.localStorage.getItem("algs.index");if(e){let t=JSON.parse(e);this.index={group:t.group,index:t.index}}else this.index={group:0,index:0};this.loop()}loop(){requestAnimationFrame(this.loop.bind(this)),this.pics.some((e,t)=>{if(this.algs[t].algs.length==e.length)return!1;let i=window.localStorage.getItem("algs.exp."+this.algs[t].algs[e.length].name),s=this.algs[t].algs[e.length].default,n=i||s;return this.algs[t].algs[e.length].exp=n,e.push(this.capture.snap(this.algs[t].strip,n)),!0}),this.cuber.render()}resize(){this.width=window.innerWidth,this.height=window.innerHeight,this.size=Math.min(this.width/8,this.height/14),this.cuber.width=this.width,this.cuber.height=this.height-240,this.cuber.resize();let e=this.$refs.cuber;e instanceof HTMLElement&&(e.style.width=this.width+"px",e.style.height=this.height-240+"px")}onPlayingChange(){this.cuber.controller.disable=this.playing}onIndexChange(){let e=this.algs[this.index.group].strip;this.cuber.cube.strip(e),this.name=this.algs[this.index.group].algs[this.index.index].name,this.origin=this.algs[this.index.group].algs[this.index.index].default;let t=window.localStorage.getItem("algs.exp."+this.name);this.exp=t||this.origin,window.localStorage.setItem("algs.index",JSON.stringify(this.index))}onExpChange(){window.localStorage.setItem("algs.exp."+this.name,this.exp),this.pics[this.index.group][this.index.index]=this.capture.snap(this.algs[this.index.group].strip,this.exp),this.algs[this.index.group].algs[this.index.index].exp=this.exp,this.actions=new c.b(this.exp).parse(),this.init()}play(){if(this.progress==this.actions.length&&(this.playing=!1),this.playing){let e=this.actions[this.progress];this.progress++,this.cuber.cube.twister.twist(e.exp,e.reverse,e.times,!1)}}forward(){if(this.progress==this.actions.length)return;this.playing=!1;let e=this.actions[this.progress];this.progress++,this.cuber.cube.twister.twist(e.exp,e.reverse,e.times)}backward(){if(0==this.progress)return;this.playing=!1,this.progress--;let e=this.actions[this.progress];this.cuber.cube.twister.twist(e.exp,!e.reverse,e.times)}toggle(){this.playing?this.playing=!1:(this.playing=!0,this.play())}tabs(e){e==this.index.group?this.init():this.index={group:e,index:0}}init(){this.playing=!1,this.progress=0,this.cuber.cube.twister.finish(),this.cuber.cube.twister.twist("#"),this.cuber.cube.twister.twist(this.exp,!0,1,!0)}};g([Object(a.Provide)("cuber"),f("design:type",o.a)],U.prototype,"cuber",void 0),g([Object(a.Provide)("option"),f("design:type",h.a)],U.prototype,"option",void 0),g([Object(a.Watch)("playing"),f("design:type",Function),f("design:paramtypes",[]),f("design:returntype",void 0)],U.prototype,"onPlayingChange",null),g([Object(a.Watch)("index"),f("design:type",Function),f("design:paramtypes",[]),f("design:returntype",void 0)],U.prototype,"onIndexChange",null),g([Object(a.Watch)("exp"),f("design:type",Function),f("design:paramtypes",[]),f("design:returntype",void 0)],U.prototype,"onExpChange",null),U=g([Object(a.Component)({template:i(20),components:{tune:l.a}}),f("design:paramtypes",[])],U);var m=U;s.default.use(r.a);const v=new r.a({});new s.default({vuetify:v,el:"#app",render:e=>e(m)})}]);