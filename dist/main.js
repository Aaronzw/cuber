!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=19)}([function(t,e,i){t.exports=i(3)(7)},function(t,e,i){t.exports=i(3)(11)},function(t,e,i){t.exports=i(3)(1)},function(t,e){t.exports=dll_library},function(t,e,i){t.exports=function(){return i(8)('!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=1)}([function(t,e,n){(function(t){(function(){var e,n,r,o,i,s,u,h,l,c,f,p,a,v,m,F,R,y,U,g,d,D,w,b,B,L,M,T,S,O,P,x,E,C,j,J;U=(E=[0,1,2,3,4,5])[0],y=E[1],v=E[2],i=E[3],R=E[4],e=E[5],M=(C=[0,1,2,3,4,5,6,7])[0],w=C[1],B=C[2],d=C[3],l=C[4],f=C[5],u=C[6],a=C[7],L=(j=[0,1,2,3,4,5,6,7,8,9,10,11])[0],D=j[1],b=j[2],g=j[3],p=j[4],h=j[5],c=j[6],s=j[7],F=j[8],m=j[9],n=j[10],r=j[11],(J=function(){var t,e,n,r,o,i;return o=function(t){return i(9)+t},n=function(t){return o(9)+t},e=function(t){return n(9)+t},r=function(t){return e(9)+t},t=function(t){return r(9)+t},[[4,13,22,31,40,49],[[(i=function(t){return t-1})(9),o(1),n(3)],[i(7),n(1),r(3)],[i(1),r(1),t(3)],[i(3),t(1),o(3)],[e(3),n(9),o(7)],[e(1),r(9),n(7)],[e(7),t(9),r(7)],[e(9),o(9),t(7)]],[[i(6),o(2)],[i(8),n(2)],[i(4),r(2)],[i(2),t(2)],[e(6),o(8)],[e(2),n(8)],[e(4),r(8)],[e(8),t(8)],[n(6),o(4)],[n(4),r(6)],[t(6),r(4)],[t(4),o(6)]]]}())[0],O=J[1],x=J[2],T=["U","R","F","D","L","B"],S=[["U","R","F"],["U","F","L"],["U","L","B"],["U","B","R"],["D","F","R"],["D","L","F"],["D","B","L"],["D","R","B"]],P=[["U","R"],["U","F"],["U","L"],["U","B"],["D","R"],["D","F"],["D","L"],["D","B"],["F","R"],["F","L"],["B","L"],["B","R"]],o=function(){var t,o,E;function C(t){null!=t?this.init(t):this.identity(),this.newCenter=function(){var t,e;for(e=[],t=0;t<=5;++t)e.push(0);return e}(),this.newCp=function(){var t,e;for(e=[],t=0;t<=7;++t)e.push(0);return e}(),this.newEp=function(){var t,e;for(e=[],t=0;t<=11;++t)e.push(0);return e}(),this.newCo=function(){var t,e;for(e=[],t=0;t<=7;++t)e.push(0);return e}(),this.newEo=function(){var t,e;for(e=[],t=0;t<=11;++t)e.push(0);return e}()}return C.prototype.init=function(t){return this.center=t.center.slice(0),this.co=t.co.slice(0),this.ep=t.ep.slice(0),this.cp=t.cp.slice(0),this.eo=t.eo.slice(0)},C.prototype.identity=function(){return this.center=[0,1,2,3,4,5],this.cp=[0,1,2,3,4,5,6,7],this.co=function(){var t,e;for(e=[],t=0;t<=7;++t)e.push(0);return e}(),this.ep=[0,1,2,3,4,5,6,7,8,9,10,11],this.eo=function(){var t,e;for(e=[],t=0;t<=11;++t)e.push(0);return e}()},C.prototype.toJSON=function(){return{center:this.center,cp:this.cp,co:this.co,ep:this.ep,eo:this.eo}},C.prototype.asString=function(){var t,e,n,r,o,i,s,u,h,l,c;for(c=[],n=r=0;r<=5;n=++r)c[9*n+4]=T[this.center[n]];for(n=o=0;o<=7;n=++o)for(t=this.cp[n],h=this.co[n],s=i=0;i<=2;s=++i)c[O[n][(s+h)%3]]=S[t][s];for(n=u=0;u<=11;n=++u)for(e=this.ep[n],h=this.eo[n],s=l=0;l<=1;s=++l)c[x[n][(s+h)%2]]=P[e][s];return c.join("")},C.fromString=function(t){var e,n,r,o,i,s,u,h,l,c,f,p,a,v;for(r=new C,o=s=0;s<=5;o=++s)for(i=u=0;u<=5;i=++u)t[9*o+4]===T[i]&&(r.center[o]=i);for(o=h=0;h<=7;o=++h){for(c=l=0;l<=2&&("U"!==(a=t[O[o][c]])&&"D"!==a);c=++l);for(e=t[O[o][(c+1)%3]],n=t[O[o][(c+2)%3]],i=f=0;f<=7;i=++f)e===S[i][1]&&n===S[i][2]&&(r.cp[o]=i,r.co[o]=c%3)}for(o=p=0;p<=11;o=++p)for(i=v=0;v<=11;i=++v){if(t[x[o][0]]===P[i][0]&&t[x[o][1]]===P[i][1]){r.ep[o]=i,r.eo[o]=0;break}if(t[x[o][0]]===P[i][1]&&t[x[o][1]]===P[i][0]){r.ep[o]=i,r.eo[o]=1;break}}return r},C.prototype.clone=function(){return new C(this.toJSON())},C.prototype.randomize=function(){var t,e,n;return n=function(t,e){return t+(Math.random()*(e-t+1)|0)},t=function(t){var e,r,o,i,s,u,h,l;for(l=[],e=r=0,s=(o=t.length-1)-2;0<=s?r<=s:r>=s;e=0<=s?++r:--r)e!==(i=n(e,o))?(u=[t[i],t[e]],t[e]=u[0],t[i]=u[1],l.push((h=[t[o-1],t[o]],t[o]=h[0],t[o-1]=h[1],h))):l.push(void 0);return l},e=function(t,e){var r,o,i,s;for(i=0,r=o=0,s=t.length-2;0<=s?o<=s:o>=s;r=0<=s?++o:--o)i+=t[r]=n(0,e-1);return t[t.length-1]=(e-i%e)%e},function(){return t(this.cp),t(this.ep),e(this.co,3),e(this.eo,2),this}}(),C.random=function(){return(new C).randomize()},C.prototype.isSolved=function(){var t,e,n,r,o,i,s;for((n=this.clone()).move(n.upright()),e=o=0;o<=5;e=++o)if(n.center[e]!==e)return!1;for(t=i=0;i<=7;t=++i){if(n.cp[t]!==t)return!1;if(0!==n.co[t])return!1}for(r=s=0;s<=11;r=++s){if(n.ep[r]!==r)return!1;if(0!==n.eo[r])return!1}return!0},C.prototype.centerMultiply=function(t){var e,n,r,o;for(o=n=0;n<=5;o=++n)e=t.center[o],this.newCenter[o]=this.center[e];return r=[this.newCenter,this.center],this.center=r[0],this.newCenter=r[1],this},C.prototype.cornerMultiply=function(t){var e,n,r,o,i;for(i=n=0;n<=7;i=++n)e=t.cp[i],this.newCp[i]=this.cp[e],this.newCo[i]=(this.co[e]+t.co[i])%3;return r=[this.newCp,this.cp],this.cp=r[0],this.newCp=r[1],o=[this.newCo,this.co],this.co=o[0],this.newCo=o[1],this},C.prototype.edgeMultiply=function(t){var e,n,r,o,i;for(i=n=0;n<=11;i=++n)e=t.ep[i],this.newEp[i]=this.ep[e],this.newEo[i]=(this.eo[e]+t.eo[i])%2;return r=[this.newEp,this.ep],this.ep=r[0],this.newEp=r[1],o=[this.newEo,this.eo],this.eo=o[0],this.newEo=o[1],this},C.prototype.multiply=function(t){return this.centerMultiply(t),this.cornerMultiply(t),this.edgeMultiply(t),this},C.moves=[{center:[0,1,2,3,4,5],cp:[d,M,w,B,l,f,u,a],co:[0,0,0,0,0,0,0,0],ep:[g,L,D,b,p,h,c,s,F,m,n,r],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[l,w,B,M,a,f,u,d],co:[2,0,0,1,1,0,0,2],ep:[F,D,b,g,r,h,c,s,p,m,n,L],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[w,f,B,d,M,l,u,a],co:[1,2,0,0,2,1,0,0],ep:[L,m,b,g,p,F,c,s,D,h,n,r],eo:[0,1,0,0,0,1,0,0,1,1,0,0]},{center:[0,1,2,3,4,5],cp:[M,w,B,d,f,u,a,l],co:[0,0,0,0,0,0,0,0],ep:[L,D,b,g,h,c,s,p,F,m,n,r],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[M,B,u,d,l,w,f,a],co:[0,1,2,0,0,2,1,0],ep:[L,D,n,g,p,h,m,s,F,b,c,r],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[M,w,d,a,l,f,B,u],co:[0,0,1,2,0,0,2,1],ep:[L,D,b,r,p,h,c,n,F,m,g,s],eo:[0,0,0,1,0,0,0,1,0,0,1,1]},{center:[U,v,R,i,e,y],cp:[M,w,B,d,l,f,u,a],co:[0,0,0,0,0,0,0,0],ep:[L,D,b,g,p,h,c,s,m,n,r,F],eo:[0,0,0,0,0,0,0,0,1,1,1,1]},{center:[e,y,U,v,R,i],cp:[M,w,B,d,l,f,u,a],co:[0,0,0,0,0,0,0,0],ep:[L,g,b,s,p,D,c,h,F,m,n,r],eo:[0,1,0,1,0,1,0,1,0,0,0,0]},{center:[R,U,v,y,i,e],cp:[M,w,B,d,l,f,u,a],co:[0,0,0,0,0,0,0,0],ep:[b,D,c,g,L,h,p,s,F,m,n,r],eo:[1,0,1,0,1,0,1,0,0,0,0,0]}],o={U:0,R:1,F:2,D:3,L:4,B:5,E:6,M:7,S:8,x:9,y:10,z:11,u:12,r:13,f:14,d:15,l:16,b:17},t={0:"U",1:"R",2:"F",3:"D",4:"L",5:"B",6:"E",7:"M",8:"S",9:"x",10:"y",11:"z",12:"u",13:"r",14:"f",15:"d",16:"l",17:"b"},E=function(t){var e,n,r,i,s,u,h;if("string"==typeof t){for(h=[],e=0,n=(u=t.split(/\\s+/)).length;e<n;e++)if(0!==(i=u[e]).length){if(i.length>2)throw new Error("Invalid move: "+i);if(void 0===(r=o[i[0]]))throw new Error("Invalid move: "+i);if(1===i.length)s=0;else if("2"===i[1])s=1;else{if("\'"!==i[1])throw new Error("Invalid move: "+i);s=2}h.push(3*r+s)}return h}return null!=t.length?t:[t]},C.prototype.move=function(t){var e,n,r,o,i,s,u;for(n=0,o=(s=E(t)).length;n<o;n++)for(e=(i=s[n])/3|0,r=0,u=i%3;0<=u?r<=u:r>=u;0<=u?++r:--r)this.multiply(C.moves[e]);return this},C.prototype.upright=function(){var t,n,r,o,s,u;for(t=this.clone(),u=[],n=o=0;o<=5&&t.center[n]!==v;n=++o);switch(n){case i:u.push("x");break;case U:u.push("x\'");break;case e:u.push("x2");break;case y:u.push("y");break;case R:u.push("y\'")}for(u.length&&t.move(u[0]),r=s=0;s<=5&&t.center[r]!==U;r=++s);switch(r){case R:u.push("z");break;case y:u.push("z\'");break;case i:u.push("z2")}return u.join(" ")},C.inverse=function(e){var n,r,o,i,s,u,h;if((u=function(){var t,r,o,u;for(u=[],t=0,r=(o=E(e)).length;t<r;t++)i=o[t],n=i/3|0,s=i%3,u.push(3*n-(s-1)+1);return u}()).reverse(),"string"==typeof e){for(h="",r=0,o=u.length;r<o;r++)i=u[r],h+=t[n=i/3|0],1===(s=i%3)?h+="2":2===s&&(h+="\'"),h+=" ";return h.substring(0,h.length-1)}return null!=e.length?u:u[0]},C.moves.push((new C).move("R M\' L\'").toJSON()),C.moves.push((new C).move("U E\' D\'").toJSON()),C.moves.push((new C).move("F S B\'").toJSON()),C.moves.push((new C).move("U E\'").toJSON()),C.moves.push((new C).move("R M\'").toJSON()),C.moves.push((new C).move("F S").toJSON()),C.moves.push((new C).move("D E").toJSON()),C.moves.push((new C).move("L M").toJSON()),C.moves.push((new C).move("B S\'").toJSON()),C}(),void 0!==t&&null!==t?t.exports=o:this.Cube=o}).call(this)}).call(this,n(3)(t))},function(t,e,n){"use strict";n.r(e);n(2);var r=n(0),o=n.n(r);const i=self;i.addEventListener("message",t=>{if("init"==t.data.action)o.a.initSolver(),i.postMessage({action:"init"});else if("scramble"==t.data.action){let t=o.a.scramble();i.postMessage({action:"scramble",data:t})}})},function(t,e,n){(function(){var t,e,r,o,i,s,u,h,l,c,f,p,a,v,m,F,R,y,U,g,d,D,w,b,B,L,M,T,S,O,P,x,E,C=[].slice,j=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};for(U in r=this.Cube||n(0),(T=[0,1,2,3,4,5])[0],T[1],T[2],T[3],T[4],T[5],(S=[0,1,2,3,4,5,6,7])[1],S[2],S[3],S[4],S[6],i=S[7],c=(O=[0,1,2,3,4,5,6,7,8,9,10,11])[0],O[1],l=O[2],h=O[3],O[4],o=O[5],O[6],O[7],s=O[8],O[9],O[10],t=O[11],e=function(t,e){var n,r,o;if(t<e)return 0;for(e>t/2&&(e=t-e),o=1,n=t,r=1;n!==t-e;)o*=n,o/=r,n--,r++;return o},y=function(t){var e,n,r,o;for(e=1,n=r=2,o=t;2<=o?r<=o:r>=o;n=2<=o?++r:--r)e*=n;return e},g=function(t,e){return t>e?t:e},P=function(t,e,n){var r,o,i,s,u;for(u=t[e],r=o=i=e,s=n-1;i<=s?o<=s:o>=s;r=i<=s?++o:--o)t[r]=t[r+1];return t[n]=u},x=function(t,e,n){var r,o,i,s,u;for(u=t[n],r=o=i=n,s=e+1;i<=s?o<=s:o>=s;r=i<=s?++o:--o)t[r]=t[r-1];return t[e]=u},u={twist:function(t){var e,n,r,o,i,s;if(null!=t){for(i=0,e=n=6;n>=0;e=--n)o=t%3,t=t/3|0,this.co[e]=o,i+=o;return this.co[7]=(3-i%3)%3,this}for(s=0,e=r=0;r<=6;e=++r)s=3*s+this.co[e];return s},flip:function(t){var e,n,r,o,i,s;if(null!=t){for(i=0,e=n=10;n>=0;e=--n)o=t%2,t=t/2|0,this.eo[e]=o,i+=o;return this.eo[11]=(2-i%2)%2,this}for(s=0,e=r=0;r<=10;e=++r)s=2*s+this.eo[e];return s},cornerParity:function(){var t,e,n,r,o,s,u,h,l;for(l=0,t=n=o=i,s=f+1;o<=s?n<=s:n>=s;t=o<=s?++n:--n)for(e=r=u=t-1,h=f;u<=h?r<=h:r>=h;e=u<=h?++r:--r)this.cp[e]>this.cp[t]&&l++;return l%2},edgeParity:function(){var e,n,r,o,i,s,u,h,l;for(l=0,e=r=i=t,s=c+1;i<=s?r<=s:r>=s;e=i<=s?++r:--r)for(n=o=u=e-1,h=c;u<=h?o<=h:o>=h;n=u<=h?++o:--o)this.ep[n]>this.ep[e]&&l++;return l%2},URFtoDLF:(B=function(t,n,r,o){var i,s,u,h,l,c;return null==o&&(o=!1),u=y((h=r-n)+1),"corners"===t?(s=7,c="cp"):(s=11,c="ep"),l=function(){var t,e,n;for(n=[],i=t=0,e=h;0<=e?t<=e:t>=e;i=0<=e?++t:--t)n.push(0);return n}(),function(t){var f,p,a,v,m,F,R,y,U,g,d,D,w,b,B,L,M,T,S,O,E,C,j,J,N,k,z;if(null!=t){for(i=F=0,B=h;0<=B?F<=B:F>=B;i=0<=B?++F:--F)l[i]=i+n;for(p=t%u,f=t/u|0,U=this[c],i=R=0,L=s;0<=L?R<=L:R>=L;i=0<=L?++R:--R)U[i]=-1;for(v=y=1,M=h;1<=M?y<=M:y>=M;v=1<=M?++y:--y)for(m=p%(v+1),p=p/(v+1)|0;m>0;)x(l,0,v),m--;if(N=h,o)for(v=g=0,T=s;0<=T?g<=T:g>=T;v=0<=T?++g:--g)f-(a=e(s-v,N+1))>=0&&(U[v]=l[h-N],f-=a,N--);else for(v=C=S=s;S<=0?C<=0:C>=0;v=S<=0?++C:--C)f-(a=e(v,N+1))>=0&&(U[v]=l[N],f-=a,N--);return this}for(U=this[c],i=j=0,O=h;0<=O?j<=O:j>=O;i=0<=O?++j:--j)l[i]=-1;if(f=p=N=0,o)for(v=J=E=s;E<=0?J<=0:J>=0;v=E<=0?++J:--J)n<=(d=U[v])&&d<=r&&(f+=e(s-v,N+1),l[h-N]=U[v],N++);else for(v=k=0,D=s;0<=D?k<=D:k>=D;v=0<=D?++k:--k)n<=(w=U[v])&&w<=r&&(f+=e(v,N+1),l[N]=U[v],N++);for(v=z=b=h;b<=0?z<=0:z>=0;v=b<=0?++z:--z){for(m=0;l[v]!==n+v;)P(l,0,v),m++;p=(v+1)*p+m}return f*u+p}})("corners",f=S[0],S[5]),URtoUL:B("edges",c,l),UBtoDF:B("edges",h,o),URtoDF:B("edges",c,o),FRtoBR:B("edges",s,t,!0)})E=u[U],r.prototype[U]=E;v=function(t,e,n){var o,i,s,u,h,l,c,f,p,a,v;for(o="corners"===t?"cornerMultiply":"edgeMultiply",i=new r,v=[],s=l=0,a=n-1;0<=a?l<=a:l>=a;s=0<=a?++l:--l){for(i[e](s),u=[],h=f=0;f<=5;h=++f){for(c=r.moves[h],p=0;p<=2;++p)i[o](c),u.push(i[e]());i[o](c)}v.push(u)}return v},d=function(){var t,e;return t=new r,e=new r,function(n,r){var o,i;for(t.URtoUL(n),e.UBtoDF(r),o=i=0;i<=7;o=++i)if(-1!==t.ep[o]){if(-1!==e.ep[o])return-1;e.ep[o]=t.ep[o]}return e.URtoDF()}}(),r.moveTables={parity:[[1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1],[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]],twist:null,flip:null,FRtoBR:null,URFtoDLF:null,URtoDF:null,URtoUL:null,UBtoDF:null,mergeURtoDF:null},D={twist:["corners",2187],flip:["edges",2048],FRtoBR:["edges",11880],URFtoDLF:["corners",20160],URtoDF:["edges",20160],URtoUL:["edges",1320],UBtoDF:["edges",1320],mergeURtoDF:[]},r.computeMoveTables=function(){var t,e,n,r,o,i,s,u;for(0===(u=1<=arguments.length?C.call(arguments,0):[]).length&&(u=function(){var t;for(n in t=[],D)t.push(n);return t}()),e=0,t=u.length;e<t;e++)s=u[e],null===this.moveTables[s]&&("mergeURtoDF"===s?this.moveTables.mergeURtoDF=function(){var t,e,n,r;for(r=[],e=n=0;n<=335;e=++n)r.push(function(){var n,r;for(r=[],t=n=0;n<=335;t=++n)r.push(d(e,t));return r}());return r}():(o=(r=D[s])[0],i=r[1],this.moveTables[s]=v(o,s,i)));return this},p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],w=function(){var t,e,n,r,o,i,s,u;for(u=[],e=n=0;n<=5;e=++n){for(r=[],t=o=0;o<=5;t=++o)if(t!==e&&t!==e-3)for(s=i=0;i<=2;s=++i)r.push(3*t+s);u.push(r)}return u}(),a=[0,1,2,4,7,9,10,11,13,16],b=function(){var t,e,n,r,o,i,s,u,h,l;for(l=[],e=r=0;r<=5;e=++r){for(o=[],t=i=0;i<=5;t=++i)if(t!==e&&t!==e-3)for(s=0,n=(h=0===t||3===t?[0,1,2]:[1]).length;s<n;s++)u=h[s],o.push(3*t+u);l.push(o)}return l}(),L=function(t,e,n){var r,o;return o=e>>3,r=e%8<<2,null!=n?(t[o]&=~(15<<r),t[o]|=n<<r,n):(t[o]&15<<r)>>>r},m=function(t,e,n,r){var o,i,s,u,h,l,c,f,v,m,F;for(F=function(){var t,n,r;for(r=[],t=0,n=Math.ceil(e/8)-1;0<=n?t<=n:t>=n;0<=n?++t:--t)r.push(4294967295);return r}(),c=1===t?p:a,L(F,0,i=0),s=1;s!==e;){for(u=l=0,m=e-1;0<=m?l<=m:l>=m;u=0<=m?++l:--l)if(L(F,u)===i)for(o=n(u),v=0,h=c.length;v<h;v++)f=r(o,c[v]),15===L(F,f)&&(L(F,f,i+1),s++);i++}return F},r.pruningTables={sliceTwist:null,sliceFlip:null,sliceURFtoDLFParity:null,sliceURtoDFParity:null},M={sliceTwist:[1,1082565,function(t){return[t%495,t/495|0]},function(t,e){var n,o,i;return o=t[0],i=t[1],n=r.moveTables.FRtoBR[24*o][e]/24|0,495*r.moveTables.twist[i][e]+n}],sliceFlip:[1,1013760,function(t){return[t%495,t/495|0]},function(t,e){var n,o,i;return i=t[0],n=t[1],o=r.moveTables.FRtoBR[24*i][e]/24|0,495*r.moveTables.flip[n][e]+o}],sliceURFtoDLFParity:[2,967680,function(t){return[t%2,(t/2|0)%24,(t/2|0)/24|0]},function(t,e){var n,o,i,s,u;return s=t[0],u=t[1],n=t[2],o=r.moveTables.parity[s][e],i=r.moveTables.FRtoBR[u][e],2*(24*r.moveTables.URFtoDLF[n][e]+i)+o}],sliceURtoDFParity:[2,967680,function(t){return[t%2,(t/2|0)%24,(t/2|0)/24|0]},function(t,e){var n,o,i,s,u;return s=t[0],u=t[1],n=t[2],o=r.moveTables.parity[s][e],i=r.moveTables.FRtoBR[u][e],2*(24*r.moveTables.URtoDF[n][e]+i)+o}]},r.computePruningTables=function(){var t,e,n,r,o,i;for(0===(i=1<=arguments.length?C.call(arguments,0):[]).length&&(i=function(){var t;for(n in t=[],M)t.push(n);return t}()),e=0,t=i.length;e<t;e++)o=i[e],null===this.pruningTables[o]&&(r=M[o],this.pruningTables[o]=m.apply(null,r));return this},r.initSolver=function(){return r.computeMoveTables(),r.computePruningTables()},r.prototype.solveUpright=function(t){var e,n,o,i,s,u,h,l,c;return null==t&&(t=22),o=function(){var t,e,n,r,o,i,s;for(e=["U","R","F","D","L","B"],i=["","2","\'"],s=[],t=n=0;n<=5;t=++n)for(o=r=0;r<=2;o=++r)s.push(e[t]+i[o]);return s}(),e=function(){function t(t){this.parent=null,this.lastMove=null,this.depth=0,t&&this.init(t)}return t.prototype.init=function(t){return this.flip=t.flip(),this.twist=t.twist(),this.slice=t.FRtoBR()/24|0,this.parity=t.cornerParity(),this.URFtoDLF=t.URFtoDLF(),this.FRtoBR=t.FRtoBR(),this.URtoUL=t.URtoUL(),this.UBtoDF=t.UBtoDF(),this},t.prototype.solution=function(){return this.parent?this.parent.solution()+o[this.lastMove]+" ":""},t.prototype.move=function(t,e,n){return r.moveTables[t][e][n]},t.prototype.pruning=function(t,e){return L(r.pruningTables[t],e)},t.prototype.moves1=function(){return null!==this.lastMove?w[this.lastMove/3|0]:p},t.prototype.minDist1=function(){var t,e;return t=this.pruning("sliceFlip",495*this.flip+this.slice),e=this.pruning("sliceTwist",495*this.twist+this.slice),g(t,e)},t.prototype.next1=function(t){var e;return(e=n.pop()).parent=this,e.lastMove=t,e.depth=this.depth+1,e.flip=this.move("flip",this.flip,t),e.twist=this.move("twist",this.twist,t),e.slice=this.move("FRtoBR",24*this.slice,t)/24|0,e},t.prototype.moves2=function(){return null!==this.lastMove?b[this.lastMove/3|0]:a},t.prototype.minDist2=function(){var t,e,n,r;return n=2*(24*this.URtoDF+this.FRtoBR)+this.parity,t=this.pruning("sliceURtoDFParity",n),r=2*(24*this.URFtoDLF+this.FRtoBR)+this.parity,e=this.pruning("sliceURFtoDLFParity",r),g(t,e)},t.prototype.init2=function(t){if(null==t&&(t=!0),null!==this.parent)return this.parent.init2(!1),this.URFtoDLF=this.move("URFtoDLF",this.parent.URFtoDLF,this.lastMove),this.FRtoBR=this.move("FRtoBR",this.parent.FRtoBR,this.lastMove),this.parity=this.move("parity",this.parent.parity,this.lastMove),this.URtoUL=this.move("URtoUL",this.parent.URtoUL,this.lastMove),this.UBtoDF=this.move("UBtoDF",this.parent.UBtoDF,this.lastMove),t?this.URtoDF=this.move("mergeURtoDF",this.URtoUL,this.UBtoDF):void 0},t.prototype.next2=function(t){var e;return(e=n.pop()).parent=this,e.lastMove=t,e.depth=this.depth+1,e.URFtoDLF=this.move("URFtoDLF",this.URFtoDLF,t),e.FRtoBR=this.move("FRtoBR",this.FRtoBR,t),e.parity=this.move("parity",this.parity,t),e.URtoDF=this.move("URtoDF",this.URtoDF,t),e},t}(),l=null,s=function(e){var n,r,o,s;for(n=0,s=[],n=r=1,o=t;(1<=o?r<=o:r>=o)&&(i(e,n),null===l);n=1<=o?++r:--r)s.push(n++);return s},i=function(t,e){var r,o,s,u,c,f,p;if(0===e){if(0===t.minDist1()&&(null===t.lastMove||(c=t.lastMove,j.call(a,c)<0)))return h(t)}else if(e>0&&t.minDist1()<=e){for(p=[],o=0,r=(f=t.moves1()).length;o<r&&(s=f[o],u=t.next1(s),i(u,e-1),n.push(u),null===l);o++)p.push(void 0);return p}},h=function(e){var n,r,o,i;for(e.init2(),i=[],n=r=1,o=t-e.depth;(1<=o?r<=o:r>=o)&&(u(e,n),null===l);n=1<=o?++r:--r)i.push(n++);return i},u=function(t,e){var r,o,i,s,h,c;if(0===e){if(0===t.minDist2())return l=t.solution()}else if(e>0&&t.minDist2()<=e){for(c=[],o=0,r=(h=t.moves2()).length;o<r&&(i=h[o],s=t.next2(i),u(s,e-1),n.push(s),null===l);o++)c.push(void 0);return c}},s(c=(n=function(){var n,r,o;for(o=[],n=0,r=t+1;0<=r?n<=r:n>=r;0<=r?++n:--n)o.push(new e);return o}()).pop().init(this)),n.push(c),l.length>0&&(l=l.substring(0,l.length-1)),l},R={U:0,R:1,F:2,D:3,L:4,B:5},F={0:"U",1:"R",2:"F",3:"D",4:"L",5:"B"},r.prototype.solve=function(t){var e,n,o,i,s,u,h,l;for(null==t&&(t=22),l=(e=this.clone()).upright(),e.move(l),u=(new r).move(l).center,h=[],o=0,n=(s=e.solveUpright(t).split(" ")).length;o<n;o++)i=s[o],h.push(F[u[R[i[0]]]]),i.length>1&&(h[h.length-1]+=i[1]);return h.join(" ")},r.scramble=function(){return r.inverse(r.random().solve())}}).call(this)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}]);',null)}},function(t,e,i){t.exports=i(3)(12)},function(t,e){t.exports='<v-container fluid grid-list-md text-xs-center v-show="show" style="padding-top: 0%; background: white">\n  <v-layout row wrap>\n    <v-flex xs4>\n      <fast-button block @tap="twist(\'*\')" class="headline" style="height:2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">\n        <v-icon large>casino</v-icon>\n      </fast-button>\n    </v-flex>\n    <v-flex xs4>\n      <fast-button block @tap="twist(\'#\')" class="headline" style="height:2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">\n        <v-icon large>format_paint</v-icon>\n      </fast-button>\n    </v-flex>\n    <v-flex xs4>\n      <fast-button block @tap="$emit(\'hide\')" class="headline" style="height:2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">\n        <v-icon large>keyboard_hide</v-icon>\n      </fast-button>\n    </v-flex>\n    <v-flex v-for="exp in exps" d-flex xs2>\n      <fast-button @tap="twist(exp)" class="headline" style="width:auto; height:2em; min-width: 0%; min-height: 0%; margin: 0%; text-transform:none">{{exp}}\n      </fast-button>\n    </v-flex>\n    <v-flex xs4>\n      <fast-button @tap="layers==1?layers=0:layers=1" :color="layers == 1?\'primary\':\'\'" :outline="layers == 1" block class="headline" style="height:2em; min-width: 0%; min-height: 0%; margin: 0%;">\n        <v-icon large>view_carousel</v-icon>\n      </fast-button>\n    </v-flex>\n    <v-flex xs4>\n      <fast-button @tap="layers==2?layers=0:layers=2" :color="layers == 2?\'primary\':\'\'" :outline="layers == 2" block class="headline" style="height:2em; min-width: 0%; min-height: 0%; margin: 0%;">\n        <v-icon large>looks_two</v-icon>\n      </fast-button>\n    </v-flex>\n    <v-flex xs4>\n      <fast-button @tap="layers==3?layers=0:layers=3" :color="layers == 3?\'primary\':\'\'" :outline="layers == 3" block class="headline" style="height:2em; min-width: 0%; min-height: 0%; margin: 0%;">\n        <v-icon large>looks_3</v-icon>\n      </fast-button>\n    </v-flex>\n  </v-layout>\n</v-container>'},function(t,e){t.exports='<v-container fluid grid-list-md text-xs-center v-show="show" style="padding-top: 0%; background: white">\n  <v-layout row wrap>\n    <template v-for="(group, i) in scripts">\n      <v-flex xs4 style="margin: 0%; padding: 0%">\n        <fast-button class="headline" :color="type == i?\'primary\':\'\'" :outline="type == i" flat block style="text-transform:none; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%; width: 100%; height: 2em;" @tap="type = i;init();">\n          {{type==i?(progress != 0?\'\':script.name):group.name}}\n          <v-icon large v-show="type == i && (progress != 0)">replay</v-icon>\n        </fast-button>\n      </v-flex>\n    </template>\n    <v-flex xs12>\n      <v-text-field outline single-line hide-details class="headline" :append-icon="exp==script.exp?\'\':\'settings_backup_restore\'" @click:append="exp=script.exp" v-model="exp"></v-text-field>\n    </v-flex>\n    <v-flex xs12 style="padding-left: 5%; padding-right: 5%">\n      <v-slider style="margin: 0%" readonly hide-details thumb-label="false" ticks="always" v-model="progress" :max="actions.length"></v-slider>\n    </v-flex>\n    <v-flex xs2.4>\n      <v-btn icon large @mousedown="indexDown(-1)" @mouseup="indexUp(-1)" @mouseleave="indexUp(-1)" @touchstart.stop.prevent="indexDown(-1)" @touchend.stop.prevent="indexUp(-1)" style="margin: 0%; padding: 0%;">\n        <v-icon large>skip_previous</v-icon>\n      </v-btn>\n    </v-flex>\n    <v-flex xs2.4>\n      <fast-button icon large :disabled="progress==0" @tap="backward" style="margin: 0%; padding: 0%;">\n        <v-icon large>fast_rewind</v-icon>\n      </fast-button>\n    </v-flex>\n    <v-flex xs2.4>\n      <fast-button icon large :disabled="progress == actions.length" @tap="toggle" style="margin: 0%; padding: 0%;">\n        <v-icon large>{{playing?\'pause\':\'play_arrow\'}}</v-icon>\n      </fast-button>\n    </v-flex>\n    <v-flex xs2.4>\n      <fast-button icon large :disabled="progress == actions.length" @tap="forward" style="margin: 0%; padding: 0%;">\n        <v-icon large>fast_forward</v-icon>\n      </fast-button>\n    </v-flex>\n    <v-flex xs2.4>\n      <v-btn icon large @mousedown="indexDown(1)" @mouseup="indexUp(1)" @mouseleave="indexUp(1)" @touchstart.stop.prevent="indexDown(1)" @touchend.stop.prevent="indexUp(1)" style="margin: 0%; padding: 0%;">\n        <v-icon large>skip_next</v-icon>\n      </v-btn>\n    </v-flex>\n  </v-layout>\n</v-container>'},function(t,e,i){"use strict";var n=window.URL||window.webkitURL;t.exports=function(t,e){try{try{var i;try{(i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),i=i.getBlob()}catch(e){i=new Blob([t])}return new Worker(n.createObjectURL(i))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!e)throw Error("Inline worker is not supported");return new Worker(e)}}},function(t,e){t.exports='<v-container fluid grid-list-md text-xs-center v-show="show" style="padding-top: 0%; background: white">\n  <v-layout row wrap>\n    <v-flex xs12 style="margin: 0%; padding: 0%; display: table; width: 100%;">\n      <p class="headline" @click="random" style="\n                border: 2px solid rgba(0,0,0,0.54);\n                border-radius: 4px;\n                display: table-cell;\n                vertical-align:middle;\n                width: 100%;\n                height: 2.8em;\n                min-width: 0%;\n                min-height: 0%;\n                margin: 0%;\n                padding: 0%;\n            ">{{exp}}\n        <v-progress-circular v-if="working && exp == \'\'" color="primary" indeterminate></v-progress-circular>\n      </p>\n    </v-flex>\n    <v-flex xs12 style="margin: 0%; padding: 0%; display: table; width: 100%;">\n      <p class="display-4" :class="color" @mousedown="down(1)" @mouseup="up(1)" @mouseleave="up(1)" @touchstart.stop.prevent="down(1)" @touchend.stop.prevent="up(1)" style="display: table-cell; vertical-align:middle; width: 100%; height: 1.6em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">{{time}}</p>\n    </v-flex>\n  </v-layout>\n</v-container>'},function(t,e){t.exports='<v-bottom-sheet v-model="value">\n  <v-card>\n    <v-container fluid grid-list-md text-xs-center>\n      <v-layout row wrap justify-center align-center>\n        <v-flex xs3>\n          <v-icon large color="black">av_timer</v-icon>\n        </v-flex>\n        <v-flex xs3>\n          <fast-button icon :disabled="option.speed <= -4" @tap="option.speed--" style="min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">\n            <v-icon large>remove</v-icon>\n          </fast-button>\n        </v-flex>\n        <v-flex xs3>\n          <fast-button class="headline" flat block outline @tap :ripple="false" style="min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">{{option.speed}}\n          </fast-button>\n        </v-flex>\n        <v-flex xs3>\n          <fast-button icon :disabled="option.speed >= 4" @tap="option.speed++" style="min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">\n            <v-icon large>add</v-icon>\n          </fast-button>\n        </v-flex>\n      </v-layout>\n      <v-divider></v-divider>\n      <v-layout row wrap justify-center align-center>\n        <v-flex xs3>\n          <v-icon large color="black">crop_rotate</v-icon>\n        </v-flex>\n        <v-flex xs3>\n          <fast-button flat block :disabled="option.angle <= -2" @tap="option.angle--" style="min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">\n            <v-icon large>remove</v-icon>\n          </fast-button>\n        </v-flex>\n        <v-flex xs3>\n          <fast-button class="headline" flat block outline @tap :ripple="false" style="min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">{{option.angle}}\n          </fast-button>\n        </v-flex>\n        <v-flex xs3>\n          <fast-button flat block :disabled="option.angle >= 2" @tap="option.angle++" style="min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">\n            <v-icon large>add</v-icon>\n          </fast-button>\n        </v-flex>\n      </v-layout>\n      <v-divider></v-divider>\n      <v-layout row wrap justify-center align-center>\n        <v-flex xs3>\n          <v-icon large color="black">transform</v-icon>\n        </v-flex>\n        <v-flex xs3>\n          <fast-button flat block :disabled="option.size <= -4" @tap="option.size--" style="min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">\n            <v-icon large>remove</v-icon>\n          </fast-button>\n        </v-flex>\n        <v-flex xs3>\n          <fast-button class="headline" flat block outline @tap :ripple="false" style="min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">{{option.size}}\n          </fast-button>\n        </v-flex>\n        <v-flex xs3>\n          <fast-button flat block :disabled="option.size >= 4" @tap="option.size++" style="min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">\n            <v-icon large>add</v-icon>\n          </fast-button>\n        </v-flex>\n      </v-layout>\n    </v-container>\n  </v-card>\n</v-bottom-sheet>'},function(t,e){t.exports='<v-bottom-sheet v-model="value">\n  <v-card flat>\n    <v-container fluid grid-list-md text-xs-center>\n      <v-layout row wrap justify-center align-center>\n        <v-flex xs12>\n          <fast-button class="headline" block outline @tap="code" style="height: 2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">\n            <v-icon large>code</v-icon>\n          </fast-button>\n        </v-flex>\n      </v-layout>\n      <v-divider></v-divider>\n      <v-layout row wrap justify-center align-center>\n        <v-flex xs12>\n          <fast-button class="headline" block outline @tap="png" style="height: 2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">\n            <v-icon large>camera_alt</v-icon>\n          </fast-button>\n        </v-flex>\n      </v-layout>\n      <v-divider></v-divider>\n      <v-layout row wrap justify-center align-center>\n        <v-flex xs12>\n          <fast-button class="headline" color="error" block outline @tap="reset" style="height: 2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">\n            <v-icon large>delete</v-icon>\n          </fast-button>\n        </v-flex>\n      </v-layout>\n    </v-container>\n  </v-card>\n</v-bottom-sheet>'},function(t,e){t.exports='<v-bottom-sheet v-model="value">\n  <v-card flat>\n    <v-container fluid grid-list-md text-xs-center>\n      <v-layout row wrap justify-center align-center>\n        <v-flex xs3>\n          <fast-button class="headline" :color="option.mode == \'play\'?\'primary\':\'\'" flat block @tap="mode(\'play\')"\n            style="height: 2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">\n            <v-icon large>games</v-icon>\n          </fast-button>\n        </v-flex>\n        <v-flex xs3>\n          <fast-button class="headline" :color="option.mode == \'course\'?\'primary\':\'\'" flat block @tap="mode(\'course\')"\n            style="height: 2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">\n            <v-icon large>school</v-icon>\n          </fast-button>\n        </v-flex>\n        <v-flex xs3>\n          <fast-button class="headline" :color="option.mode == \'script\'?\'primary\':\'\'" flat block @tap="mode(\'script\')"\n            style="height: 2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">\n            <v-icon large>edit</v-icon>\n          </fast-button>\n        </v-flex>\n        <v-flex xs3>\n          <fast-button class="headline" :color="option.mode == \'timer\'?\'primary\':\'\'" flat block @tap="mode(\'timer\')"\n            style="height: 2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">\n            <v-icon large>timer</v-icon>\n          </fast-button>\n        </v-flex>\n      </v-layout>\n      <v-divider></v-divider>\n      <v-layout row wrap justify-center align-center>\n        <v-flex xs12>\n          <fast-button class="headline" block outline @tap="$emit(\'input\', false); tune=true" style="height: 2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">\n            <v-icon large>tune</v-icon>\n          </fast-button>\n        </v-flex>\n      </v-layout>\n      <v-divider></v-divider>\n      <v-layout row wrap justify-center align-center>\n        <v-flex xs12>\n          <fast-button class="headline" block outline @tap="$emit(\'input\', false); tool=true" style="height: 2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;">\n            <v-icon large>settings</v-icon>\n          </fast-button>\n        </v-flex>\n      </v-layout>\n    </v-container>\n  </v-card>\n  <tune-menu v-model="tune"></tune-menu>\n  <tool-menu v-model="tool"></tool-menu>\n</v-bottom-sheet>'},function(t,e){t.exports='<v-container fluid grid-list-md text-xs-center v-show="show" style="padding-top: 0%; background: white">\n  <v-layout row wrap>\n    <template v-for="(group, i) in course">\n      <v-flex xs2 style="margin: 0%; padding: 0%">\n        <fast-button class="headline" :color="(type >= i + 1)?\'primary\':\'\'" :outline="type == i + 1" flat block style="text-transform:none; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%; width: 100%; height: 2em;" @tap="type = i + 1">\n          {{type <= i + 1?i + 1:\'\'}} <v-icon large v-show="type > i + 1">done</v-icon>\n        </fast-button>\n      </v-flex>\n    </template>\n    <v-flex xs12 style="margin: 0%; padding: 0%; display: table; width: 100%;">\n      <p @click="init" class="headline blue--text" style="\n                    display: table-cell;\n                    vertical-align:middle;\n                    width: 100%;\n                    height: 1em;\n                    min-width: 0%;\n                    min-height: 0%;\n                ">\n        {{course[type - 1].name}}({{(index + 1)}}/{{course[type - 1].steps.length}})\n      </p>\n    </v-flex>\n    <v-flex xs12 style="margin: 0%; padding: 0%; display: table; width: 100%;">\n      <p class="title" style="\n                  display: table-cell;\n                  vertical-align:middle;\n                  width: 100%;\n                  height: 4em;\n                  min-width: 0%;\n                  min-height: 0%;\n                  word-break: keep-all;\n              ">\n        <span v-html="comment"></span>\n      </p>\n    </v-flex>\n    <v-flex xs12 style="padding-left: 5%; padding-right: 5%">\n      <v-slider style="margin: 0%" :disabled="actions.length == 0" readonly hide-details thumb-label="false" ticks="always" v-model="progress" :max="actions.length == 0?1:actions.length"></v-slider>\n    </v-flex>\n    <v-flex xs2.4>\n      <fast-button icon large :disabled="type == 1 && index == 0" @tap="index--" style="margin: 0%; padding: 0%;">\n        <v-icon large>skip_previous</v-icon>\n      </fast-button>\n    </v-flex>\n    <v-flex xs2.4>\n      <fast-button icon large :disabled="progress==0" @tap="backward" style="margin: 0%; padding: 0%;">\n        <v-icon large>fast_rewind</v-icon>\n      </fast-button>\n    </v-flex>\n    <v-flex xs2.4>\n      <fast-button icon large :disabled="progress == actions.length" @tap="toggle" style="margin: 0%; padding: 0%;">\n        <v-icon large color="error">{{playing?\'pause\':\'play_arrow\'}}</v-icon>\n      </fast-button>\n    </v-flex>\n    <v-flex xs2.4>\n      <fast-button icon large :disabled="progress == actions.length" @tap="forward" style="margin: 0%; padding: 0%;">\n        <v-icon large>fast_forward</v-icon>\n      </fast-button>\n    </v-flex>\n    <v-flex xs2.4>\n      <fast-button icon large :disabled="type == course.length && index == course[type - 1].steps.length - 1" @tap="index++" style="margin: 0%; padding: 0%;">\n        <v-icon large>skip_next</v-icon>\n      </fast-button>\n    </v-flex>\n  </v-layout>\n</v-container>'},function(t,e){t.exports='<v-app>\n  <div v-resize="resize">\n    <div ref=cuber></div>\n    <div ref=panel>\n      <keyboard-panel :show="option.mode == \'play\' && option.keyboard" @hide="option.keyboard = false"></keyboard-panel>\n      <course-panel :show="option.mode == \'course\'"></course-panel>\n      <script-panel :show="option.mode == \'script\'"></script-panel>\n      <timer-panel :show="option.mode == \'timer\'"></timer-panel>\n    </div>\n    <fast-button fixed top right icon large @tap="menu = !menu;">\n      <v-icon large>menu</v-icon>\n    </fast-button>\n    <fast-button v-show="option.mode == \'play\' && !option.keyboard" fixed bottom right icon large @tap="option.keyboard = !option.keyboard;">\n      <v-icon large>keyboard</v-icon>\n    </fast-button>\n    <fast-button fixed top left icon class="title" @tap v-if="exp != \'\'" style="text-transform:none">{{exp}}</fast-button>\n  </div>\n  <app-menu v-model="menu"></app-menu>\n</v-app>'},function(t,e,i){t.exports=i(3)(42)},function(t,e,i){t.exports=i(3)(13)},function(t,e,i){t.exports=i(3)(16)},function(t,e){t.exports='<v-btn @click.native.stop.prevent="$emit(\'tap\')" @touchstart.native.stop.prevent @touchend.native.stop.prevent="$emit(\'tap\')" :ripple="ripple" :flat="flat" :block="block" :icon="icon" :large="large" :outline="outline" :color="color" :fixed="fixed" :top="top" :bottom="bottom" :left="left" :right="right" :disabled="disabled">\n  <slot></slot>\n</v-btn>'},function(t,e,i){"use strict";i.r(e);var n,s=i(2),o=i(1),r=i(0);class a extends r.Geometry{constructor(t,e){super();let i=t/2,n=i-e,s=[[-n,+n,+i],[+n,+n,+i],[+n,-n,+i],[-n,-n,+i],[-n,+i,-n],[+n,+i,-n],[+n,+i,+n],[-n,+i,+n],[-i,-n,-n],[-i,+n,-n],[-i,+n,+n],[-i,-n,+n],[+n,+n,-i],[-n,+n,-i],[-n,-n,-i],[+n,-n,-i],[-n,-i,+n],[+n,-i,+n],[+n,-i,-n],[-n,-i,-n],[+i,+n,+n],[+i,+n,-n],[+i,-n,-n],[+i,-n,+n]];for(let t=0;t<s.length;t++){let e=s[t];this.vertices.push(new r.Vector3(e[0],e[1],e[2]))}for(let t=0;t<a._INDICES.length;t++){let e=a._INDICES[t],i=new r.Face3(e[0],e[1],e[2]);this.faces.push(i)}}}a._INDICES=[[1,6,7],[0,1,7],[3,0,10],[11,3,10],[17,2,3],[16,17,3],[23,20,1],[2,23,1],[5,12,13],[4,5,13],[9,13,14],[8,9,14],[22,15,12],[21,22,12],[19,14,15],[18,19,15],[7,4,9],[10,7,9],[11,8,19],[16,11,19],[23,17,18],[22,23,18],[20,21,5],[6,20,5],[20,6,1],[10,0,7],[21,12,5],[13,9,4],[23,2,17],[11,16,3],[22,18,15],[8,14,19]];!function(t){t[t.L=0]="L",t[t.R=1]="R",t[t.D=2]="D",t[t.U=3]="U",t[t.B=4]="B",t[t.F=5]="F"}(n||(n={}));class l extends r.Group{constructor(t){super(),this._vector=new r.Vector3,this._stickers=[],this._quaternion=new r.Quaternion,this.initial=t;let e=t%3-1,i=Math.floor(t%9/3)-1,s=Math.floor(t/9)-1;this.vector=new r.Vector3(e,i,s),this._materials=[this._vector.x<0?l._MATERIALS.o:l._MATERIALS.i,this._vector.x>0?l._MATERIALS.r:l._MATERIALS.i,this._vector.y<0?l._MATERIALS.w:l._MATERIALS.i,this._vector.y>0?l._MATERIALS.y:l._MATERIALS.i,this._vector.z<0?l._MATERIALS.g:l._MATERIALS.i,this._vector.z>0?l._MATERIALS.b:l._MATERIALS.i];let o=new r.Mesh(l._FRAME,l._MATERIALS.p);this.add(o);for(let t=0;t<6;t++){let e=new r.Mesh(l._EDGE,l._MATERIALS.p),i=new r.Mesh(l._STICKER,this._materials[t]);switch(t){case n.L:e.rotation.y=-Math.PI/2,e.position.x=-l.SIZE/2,i.rotation.y=-Math.PI/2,i.position.x=-l.SIZE/2,i.name="L";break;case n.R:e.rotation.y=Math.PI/2,e.position.x=l.SIZE/2,i.rotation.y=Math.PI/2,i.position.x=l.SIZE/2,i.name="R";break;case n.D:e.rotation.x=Math.PI/2,e.position.y=-l.SIZE/2,i.rotation.x=Math.PI/2,i.position.y=-l.SIZE/2,i.name="D";break;case n.U:e.rotation.x=-Math.PI/2,e.position.y=l.SIZE/2,i.rotation.x=-Math.PI/2,i.position.y=l.SIZE/2,i.name="U";break;case n.B:e.rotation.x=Math.PI,e.position.z=-l.SIZE/2,i.rotation.x=Math.PI,i.position.z=-l.SIZE/2,i.name="B";break;case n.F:e.rotation.z=0,e.position.z=l.SIZE/2,i.rotation.z=0,i.position.z=l.SIZE/2,i.name="F"}this.add(e),this.add(i),this._stickers.push(i),this.matrixAutoUpdate=!1,this.updateMatrix()}}set vector(t){this._vector.set(Math.round(t.x),Math.round(t.y),Math.round(t.z)),this._index=9*(this.vector.z+1)+3*(this.vector.y+1)+(this.vector.x+1),this.position.x=l.SIZE*this._vector.x,this.position.y=l.SIZE*this._vector.y,this.position.z=l.SIZE*this._vector.z}get vector(){return this._vector}set index(t){let e=t%3-1,i=Math.floor(t%9/3)-1,n=Math.floor(t/9)-1;this.vector=new r.Vector3(e,i,n)}get index(){return this._index}getColor(t){let e=new r.Vector3(0,0,0);switch(t){case n.L:e.x=-1;break;case n.R:e.x=1;break;case n.D:e.y=-1;break;case n.U:e.y=1;break;case n.B:e.z=-1;break;case n.F:e.z=1}this._quaternion.copy(this.quaternion),e.applyQuaternion(this._quaternion.inverse());let i=Math.round(e.x),s=Math.round(e.y),o=Math.round(e.z),a=0;return i<0?a=n.L:i>0?a=n.R:s<0?a=n.D:s>0?a=n.U:o<0?a=n.B:o>0&&(a=n.F),this._stickers[a].name}stick(){for(let t=0;t<6;t++)this._stickers[t].material=this._materials[t]}strip(t){this._stickers[t].material=l._MATERIALS.i}highlight(){for(let t=0;t<6;t++)this._stickers[t].material=l._MATERIALS.h}}l.SIZE=64,l._BORDER_WIDTH=l.SIZE/16,l._EDGE_WIDTH=l.SIZE/64,l._FRAME=new a(l.SIZE,l._BORDER_WIDTH),l._EDGE=new class extends r.ShapeGeometry{constructor(t,e){let i=new r.Shape;t/=2,i.moveTo(-t,-t),i.lineTo(-t,t),i.lineTo(t,t),i.lineTo(t,-t),i.closePath();let n=-(t-=e),s=t,o=-t,a=t,l=t/4,h=new r.Shape;h.moveTo(n,o+l),h.quadraticCurveTo(n,o,n+l,o),h.lineTo(a-l,o),h.quadraticCurveTo(a,o,a,o+l),h.lineTo(a,s-l),h.quadraticCurveTo(a,s,a-l,s),h.lineTo(n+l,s),h.quadraticCurveTo(n,s,n,s-l),h.lineTo(n,o+l),h.closePath(),i.holes.push(h),super(i)}}(l.SIZE-2*l._BORDER_WIDTH,l._EDGE_WIDTH),l._STICKER=new class extends r.ShapeGeometry{constructor(t,e){t/=2;let i=-(t-=e),n=t,s=-t,o=t,a=t/4,l=new r.Shape;l.moveTo(i,s+a),l.lineTo(i,n-a),l.quadraticCurveTo(i,n,i+a,n),l.lineTo(o-a,n),l.quadraticCurveTo(o,n,o,n-a),l.lineTo(o,s+a),l.quadraticCurveTo(o,s,o-a,s),l.lineTo(i+a,s),l.quadraticCurveTo(i,s,i,s+a),l.closePath(),super(l)}}(l.SIZE-2*l._BORDER_WIDTH,l._EDGE_WIDTH),l._MATERIALS={h:new r.MeshBasicMaterial({wireframe:!1,color:"#EA80FC"}),p:new r.MeshBasicMaterial({wireframe:!1,color:"#202020"}),i:new r.MeshBasicMaterial({wireframe:!1,color:"#808080"}),g:new r.MeshBasicMaterial({wireframe:!1,color:"#009D54"}),o:new r.MeshBasicMaterial({wireframe:!1,color:"#FF6C00"}),b:new r.MeshBasicMaterial({wireframe:!1,color:"#3D81F6"}),y:new r.MeshBasicMaterial({wireframe:!1,color:"#FDCC09"}),w:new r.MeshBasicMaterial({wireframe:!1,color:"#FFFFFF"}),r:new r.MeshBasicMaterial({wireframe:!1,color:"#DC422F"})};class h{constructor(t){this.queue=[],this._game=t}get length(){return this.queue.length}finish(){this._game.tweener.finish();for(const t of this.queue)t.fast=!0;this.update()}twist(t,e=!1,i=1,n=null,s=!1){this.finish();let o=new c(t,e,i).parse();o.length>0&&(o[o.length-1].callback=n);for(let t of o)t.fast=s,this.queue.push(t);this.update()}update(){if(0===this.queue.length||this._game.lock)return!1;let t=this.queue.shift();return void 0!=t&&(this.start(t),!0)}random(){let t="",e=[],i=-1,n=["U","D","R","L","F","B"],s=-1;for(let t=0;t<20;t++){let t=[];for(;s==i;)s=Math.floor(3*Math.random());let o=Math.floor(2*Math.random());t.push(n[2*s+o]);let r=Math.random();r<.2?t.push("2"):r<.6&&t.push("'"),e.push(t.join("")),i=s}return t=e.join(" ")}start(t){if("#"==t.exp)return this._game.cube.reset(),this._game.dirty=!0,t.callback&&t.callback(),void this.update();if("*"==t.exp){this._game.cube.reset(),this._game.dirty=!0;let e=this.random(),i=new c(e).parse();i[i.length-1].callback=t.callback;for(let t of i)t.fast=!0,this.queue.unshift(t);return void this.update()}let e=-Math.PI/2;t.reverse&&(e=-e),t.times&&(e*=t.times);let i=u.GROUPS[t.exp];if(void 0!==i){if(i.hold(this._game),t.fast)return i.angle=e,i.adjust(this._game),t.callback&&t.callback(),void this.update();{for(let e of this._game.callbacks)e(t.format);let n=this._game.duration*Math.min(1,Math.abs(e)/Math.PI);this._game.tweener.tween(i.angle,i.angle+e,n,t=>{i.angle=t,this._game.dirty=!0},()=>{i.adjust(this._game),t.callback&&t.callback(),this.update()})}}else this.update()}match(t){let e,i=[];var n=t.index;if(-1===t.index)return 0===(e=u.GROUPS.x).axis.dot(t.plane.normal)&&i.push(e),0===(e=u.GROUPS.y).axis.dot(t.plane.normal)&&i.push(e),0===(e=u.GROUPS.z).axis.dot(t.plane.normal)&&i.push(e),i;var s=n%3-1,o=Math.floor(n%9/3)-1,r=Math.floor(n/9)-1;switch(s){case-1:0===(e=u.GROUPS.L).axis.dot(t.plane.normal)&&i.push(e);break;case 0:0===(e=u.GROUPS.M).axis.dot(t.plane.normal)&&i.push(e);break;case 1:0===(e=u.GROUPS.R).axis.dot(t.plane.normal)&&i.push(e)}switch(o){case-1:0===(e=u.GROUPS.D).axis.dot(t.plane.normal)&&i.push(e);break;case 0:0===(e=u.GROUPS.E).axis.dot(t.plane.normal)&&i.push(e);break;case 1:0===(e=u.GROUPS.U).axis.dot(t.plane.normal)&&i.push(e)}switch(r){case-1:0===(e=u.GROUPS.B).axis.dot(t.plane.normal)&&i.push(e);break;case 0:0===(e=u.GROUPS.S).axis.dot(t.plane.normal)&&i.push(e);break;case 1:0===(e=u.GROUPS.F).axis.dot(t.plane.normal)&&i.push(e)}return i}}class p{constructor(){this.exp="",this.reverse=!1,this.times=1,this.fast=!1,this.callback=null}get format(){return this.fast?"":0==this.times?"":(this.exp.length>1?"(":"")+this.exp+(this.exp.length>1?")":"")+(this.reverse?"'":"")+(1==this.times?"":String(this.times))}}class c{constructor(t,e=!1,i=1){this._children=[],this._twist=new p;let n=t.replace(/[^\*#xyzbsfdeulmr\(\)'0123456789]/gi,"").match(/\([\*#xyzbsfdeulmr'\d]+\)('\d*|\d*'|\d*)|[\*#xyzbsfdeulmr]('\d*|\d*'|\d*)/gi);if(null!==n)if(1==n.length){var s=n[0].match(/^\((\S+)\)('?)(\d*)('?)$/i);if(null===s){if(null===(s=n[0].match(/([\*#xyzbsfdeulmr])('?)(\d*)('?)/i)))return;this._twist.exp=s[1],/[XYZ]/.test(this._twist.exp)&&(this._twist.exp=this._twist.exp.toLowerCase()),/[mes]/.test(this._twist.exp)&&(this._twist.exp=this._twist.exp.toUpperCase())}else this._children.push(new c(s[1]));this._twist.reverse=0!=(s[2]+s[4]).length,this._twist.times=0==s[3].length?1:parseInt(s[3]),this._twist.reverse=this._twist.reverse!==e,this._twist.times=this._twist.times*i}else{this._twist.exp=t,this._twist.reverse=e,this._twist.times=i;for(let t of n){var o=new c(t);this._children.push(o)}}}parse(t=!1){t=this._twist.reverse!==t;let e=[];if(0!==this._children.length)for(var i=0;i<this._twist.times;i++)for(var n=0;n<this._children.length;n++){var s=(t?this._children[this._children.length-n-1]:this._children[n]).parse(t);for(let t of s)e.push(t)}else if(""!=this._twist.exp){let i=new p;i.exp=this._twist.exp,i.reverse=t,i.times=this._twist.times,e.push(i)}return e}}class u extends r.Group{constructor(t,e,i){super(),this._cubelets=[],this.name=t,this.indices=e,this.axis=i,this.matrixAutoUpdate=!1,this.updateMatrix()}set angle(t){this.setRotationFromAxisAngle(this.axis,t),this._angle=t,this.updateMatrix()}get angle(){return this._angle}get exp(){let t=this._angle>0,e=Math.round(Math.abs(this._angle)/(Math.PI/2)),i=new p;return i.exp=this.name,i.times=e,i.reverse=t,i.format}hold(t){this._angle=0;for(let e of this.indices){let i=t.cube.cubelets[e];this._cubelets.push(i),t.cube.remove(i),this.add(i)}t.lock=!0}revert(t){let e=-this._angle;if(0===e){for(;;){let e=this._cubelets.pop();if(void 0===e)break;this.remove(e),t.cube.add(e),t.cube.cubelets[e.index]=e}this._angle=0,t.lock=!1,t.dirty=!0}else{var i=t.duration*Math.min(1,Math.abs(e)/Math.PI);i/=2,t.tweener.tween(this.angle,this.angle+e,i,e=>{this.angle=e,t.dirty=!0},()=>{this.revert(t)})}}adjust(t){let e=Math.round(this._angle/(Math.PI/2))*(Math.PI/2)-this._angle;if(0===e){for(;;){let e=this._cubelets.pop();if(void 0===e)break;this.rotate(e),this.remove(e),t.cube.add(e),t.cube.cubelets[e.index]=e}t.lock=!1,t.dirty=!0,this._angle=0}else{var i=t.duration*Math.min(1,Math.abs(e)/Math.PI);t.tweener.tween(this.angle,this.angle+e,i,e=>{this.angle=e,t.dirty=!0},()=>{this.adjust(t)})}}rotate(t){t.rotateOnWorldAxis(this.axis,this._angle),t.vector=t.vector.applyAxisAngle(this.axis,this._angle),t.updateMatrix()}}u.GROUPS={L:new u("L",[6,15,24,3,12,21,0,9,18],new r.Vector3(-1,0,0)),D:new u("D",[18,19,20,9,10,11,0,1,2],new r.Vector3(0,-1,0)),B:new u("B",[8,7,6,5,4,3,2,1,0],new r.Vector3(0,0,-1)),R:new u("R",[26,17,8,23,14,5,20,11,2],new r.Vector3(1,0,0)),U:new u("U",[6,7,8,15,16,17,24,25,26],new r.Vector3(0,1,0)),F:new u("F",[24,25,26,21,22,23,18,19,20],new r.Vector3(0,0,1)),l:new u("l",[0,3,6,9,12,15,18,21,24,1,4,7,10,13,16,19,22,25],new r.Vector3(-1,0,0)),d:new u("d",[0,1,2,9,10,11,18,19,20,3,4,5,12,13,14,21,22,23],new r.Vector3(0,-1,0)),b:new u("b",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],new r.Vector3(0,0,-1)),r:new u("r",[2,5,8,11,14,17,20,23,26,1,4,7,10,13,16,19,22,25],new r.Vector3(1,0,0)),u:new u("u",[6,7,8,15,16,17,24,25,26,3,4,5,12,13,14,21,22,23],new r.Vector3(0,1,0)),f:new u("f",[18,19,20,21,22,23,24,25,26,9,10,11,12,13,14,15,16,17],new r.Vector3(0,0,1)),M:new u("M",[1,4,7,10,13,16,19,22,25],new r.Vector3(-1,0,0)),E:new u("E",[3,4,5,12,13,14,21,22,23],new r.Vector3(0,-1,0)),S:new u("S",[9,10,11,12,13,14,15,16,17],new r.Vector3(0,0,1)),x:new u("x",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],new r.Vector3(1,0,0)),y:new u("y",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],new r.Vector3(0,1,0)),z:new u("z",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],new r.Vector3(0,0,1))};class d extends r.Group{constructor(){super(),this.cubelets=[],this._initial=[];for(var t=0;t<27;t++){let e=new l(t);this.cubelets.push(e),this._initial.push(e),this.add(e)}this.matrixAutoUpdate=!1,this.updateMatrix()}compare(t,e){return t.index-e.index}index(t){return this._initial[t].index}reset(){for(let t of this.cubelets)t.setRotationFromEuler(new r.Euler(0,0,0)),t.index=t.initial,t.updateMatrix();this.cubelets.sort(this.compare)}stick(){for(let t of this.cubelets)t.stick()}strip(t,e){for(let i of e)this._initial[t].strip(i)}highlight(t){this._initial[t].highlight()}get state(){let t=[];for(let e of u.GROUPS.U.indices)t.push(this.cubelets[e].getColor(n.U));for(let e of u.GROUPS.R.indices)t.push(this.cubelets[e].getColor(n.R));for(let e of u.GROUPS.F.indices)t.push(this.cubelets[e].getColor(n.F));for(let e of u.GROUPS.D.indices)t.push(this.cubelets[e].getColor(n.D));for(let e of u.GROUPS.L.indices)t.push(this.cubelets[e].getColor(n.L));for(let e of u.GROUPS.B.indices)t.push(this.cubelets[e].getColor(n.B));return t.join("")}}class g{constructor(){this._tweens=[],this.loop()}loop(){requestAnimationFrame(this.loop.bind(this)),this.update()}tween(t,e,i,n,s){this._tweens.push(new m(t,e,i,n,s))}update(){if(0===this._tweens.length)return!1;for(var t=0;t<this._tweens.length;)if(this._tweens[t].update())t++;else{let e=this._tweens.splice(t,1);for(const t of e)t.finish()}return!0}finish(){let t=this._tweens.splice(0,this._tweens.length);for(const e of t)e.finish()}}class m{constructor(t,e,i,n,s){this._value=0,this._finished=!1,this._begin=t,this._end=e,this._duration=i,this._update=n,this._finish=s}finish(){this._finished||this._update(this._end),this._finish()}update(){this._value++;let t=this._value/this._duration;t=t>1?1:t;let e=1- --t*t;return this._update(this._begin+(this._end-this._begin)*e),1!=e||(this._finished=!0,!1)}}class f{}class R{constructor(t){this._dragging=!1,this._rotating=!1,this._angle=0,this._onMouseDown=(t=>{if(this._game.lock)return!0;this._down.x=t.offsetX,this._down.y=t.offsetY,this._handleDown()}),this._onMouseMove=(t=>{this._move.x=t.offsetX,this._move.y=t.offsetY,this._handleMove()}),this._onMouseUp=(t=>{this._handleUp()}),this._onMouseOut=(t=>{this._handleUp()}),this._onTouch=(t=>{let e=t.changedTouches[0];switch(t.type){case"touchstart":if(this._game.lock)return!0;this._down.x=e.clientX,this._down.y=e.clientY,this._handleDown();break;case"touchmove":this._move.x=e.clientX,this._move.y=e.clientY,this._handleMove();break;case"touchend":this._handleUp();break;default:return}}),this._game=t,this._ray=new r.Ray,this._down=new r.Vector2(0,0),this._move=new r.Vector2(0,0),this._matrix=new r.Matrix4,this._holder=new f,this._holder.vector=new r.Vector3,this._vector=new r.Vector3,this._planes=[new r.Plane(new r.Vector3(1,0,0),3*-l.SIZE/2),new r.Plane(new r.Vector3(0,1,0),3*-l.SIZE/2),new r.Plane(new r.Vector3(0,0,1),3*-l.SIZE/2)],this._game.canvas.addEventListener("mousedown",this._onMouseDown),this._game.canvas.addEventListener("mousemove",this._onMouseMove),this._game.canvas.addEventListener("mouseup",this._onMouseUp),this._game.canvas.addEventListener("mouseout",this._onMouseOut),this._game.canvas.addEventListener("touchstart",this._onTouch,!0),this._game.canvas.addEventListener("touchmove",this._onTouch,!0),this._game.canvas.addEventListener("touchend",this._onTouch,!0),this.loop()}loop(){requestAnimationFrame(this.loop.bind(this)),this.update()}update(){if(this._rotating&&this._group.angle!=this._angle){let t=(this._angle-this._group.angle)/2,e=Math.PI/this._game.duration*4;t>e&&(t=e),t<-e&&(t=-e),this._group.angle+=t,this._game.dirty=!0}}_intersect(t,e){var i=t.x/this._game.canvas.clientWidth*2-1,n=-t.y/this._game.canvas.clientHeight*2+1;this._ray.origin.setFromMatrixPosition(this._game.camera.matrixWorld),this._ray.direction.set(i,n,.5).unproject(this._game.camera).sub(this._ray.origin).normalize(),this._ray.applyMatrix4(this._matrix.identity().getInverse(this._game.scene.matrix));var s=new r.Vector3;return this._ray.intersectPlane(e,s),s}_handleDown(){this._dragging=!0,this._holder.index=-1,this._planes.some(t=>{var e=this._intersect(this._down,t);if(null!==e&&Math.abs(e.x)<=3*l.SIZE/2+.01&&Math.abs(e.y)<=3*l.SIZE/2+.01&&Math.abs(e.z)<=3*l.SIZE/2+.01){this._holder.plane=t;var i=Math.ceil(Math.round(e.x)/l.SIZE-.5),n=Math.ceil(Math.round(e.y)/l.SIZE-.5),s=Math.ceil(Math.round(e.z)/l.SIZE-.5);return this._game.enable&&i<2&&i>-2&&n<2&&n>-2&&s<2&&s>-2?this._holder.index=9*(s+1)+3*(n+1)+(i+1):this._holder.index=-1,!0}return!1},this),this._game.dirty=!0}_handleMove(){if(this._dragging){var t=this._move.x-this._down.x,e=this._move.y-this._down.y,i=Math.sqrt(t*t+e*e);if(Math.min(this._game.canvas.clientWidth,this._game.canvas.clientHeight)/i>100)return!0;if(this._game.lock)return this._dragging=!1,this._rotating=!1,!0;if(this._dragging=!1,this._rotating=!0,-1===this._holder.index)t*t>e*e?this._group=u.GROUPS.y:this._down.x<this._game.canvas.clientWidth/2?this._group=u.GROUPS.x:this._group=u.GROUPS.z;else{var n=this._intersect(this._down,this._holder.plane),s=this._intersect(this._move,this._holder.plane);this._vector.subVectors(s,n);var o=this._vector.x,r=this._vector.y,a=this._vector.z,h=Math.max(Math.abs(o),Math.abs(r),Math.abs(a));o=Math.abs(o)===h?o:0,r=Math.abs(r)===h?r:0,a=Math.abs(a)===h?a:0,this._vector.set(o,r,a),this._holder.vector.copy(this._vector.multiply(this._vector).normalize()),this._game.twister.match(this._holder).some(t=>0===t.axis.dot(this._vector)&&(this._group=t,!0),this),this._vector.crossVectors(this._holder.vector,this._holder.plane.normal),this._holder.vector.multiplyScalar(this._vector.x+this._vector.y+this._vector.z)}this._group.hold(this._game)}if(this._rotating)if(-1===this._holder.index){t=this._move.x-this._down.x,e=this._move.y-this._down.y;this._group===u.GROUPS.y?this._angle=t/l.SIZE*Math.PI/4:this._group===u.GROUPS.x?this._angle=e/l.SIZE*Math.PI/4:this._angle=-e/l.SIZE*Math.PI/4}else{n=this._intersect(this._down,this._holder.plane),s=this._intersect(this._move,this._holder.plane);this._vector.subVectors(s,n).multiply(this._holder.vector),this._angle=-(this._vector.x+this._vector.y+this._vector.z)*(this._group.axis.x+this._group.axis.y+this._group.axis.z)/l.SIZE*Math.PI/4}}_handleUp(){if(this._rotating&&this._group&&null!==this._group)if(this._game.enable){for(let t of this._game.callbacks)t(this._group.exp);this._group.adjust(this._game)}else this._group.revert(this._game);this._holder.index=-1,this._dragging=!1,this._rotating=!1,this._game.dirty=!0}}class v{constructor(){this.lock=!1,this.enable=!0,this.dirty=!0,this.duration=60,this.callbacks=[],this.width=0,this.height=0,this.scale=1,this.scene=new r.Scene,this.scene.rotation.x=Math.PI/8,this.scene.rotation.y=Math.PI/16-Math.PI/4,this.camera=new r.PerspectiveCamera(50,1,1,32*l.SIZE),this.camera.position.x=0,this.camera.position.y=0,this.camera.position.z=3*l.SIZE*4,this.tweener=new g,this.twister=new h(this),this.cube=new d,this.scene.add(this.cube);for(let t in u.GROUPS)this.scene.add(u.GROUPS[t]);this.renderer=new r.WebGLRenderer({antialias:!0,preserveDrawingBuffer:!0}),this.renderer.setClearColor(16777215),this.renderer.setPixelRatio(window.devicePixelRatio),this.canvas=this.renderer.domElement,this.controller=new R(this),this.loop()}resize(){this.camera.aspect=this.width/this.height;let t=this.height/Math.min(this.width,this.height)*l.SIZE/4,e=2*Math.atan(t/l.SIZE)*180/Math.PI;this.camera.fov=e*this.scale,this.camera.lookAt(this.scene.position),this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height,!0),this.dirty=!0}render(){this.dirty&&(this.renderer.render(this.scene,this.camera),this.dirty=!1)}loop(){requestAnimationFrame(this.loop.bind(this)),this.render()}}var x=function(t,e,i,n){var s,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,i,r):s(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},y=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let U=class extends s.default{constructor(){super(...arguments),this.layers=0,this.operations=[["L'","U'","F'","F","U","R","L","D","B","B'","D'","R'"],["M'","E","S'","S","E'","M'","M","E","S'","S","E'","M"],["l'","u'","f'","f","u","r","l","d","b","b'","d'","r'"],["x","y'","z'","z","y","x","x'","y'","z'","z","y","x'"]]}get exps(){return this.operations[this.layers]}twist(t){this.game.twister.twist(t)}};x([Object(o.Inject)("game"),y("design:type",v)],U.prototype,"game",void 0),x([Object(o.Prop)({default:!1}),y("design:type",Boolean)],U.prototype,"show",void 0);var b=U=x([Object(o.Component)({template:i(6)})],U),w=function(t,e,i,n){var s,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,i,r):s(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},_=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let L=class extends s.default{constructor(){super(...arguments),this.progress=0,this.playing=!1,this.type=Number(window.localStorage.getItem("script.type")||0),this.index=Number(window.localStorage.getItem("script.index")||1),this.scripts=[{name:"F2L",strips:[{indexes:[6,7,8,15,16,17,24,25,26],faces:[0,1,2,3,4,5]}],scripts:[{name:"F2L-01",exp:"URU'R'"},{name:"F2L-02",exp:"y'(U'R'UR)y"},{name:"F2L-03",exp:"y'(R'U'R)y"},{name:"F2L-04",exp:"(RUR')"},{name:"F2L-05",exp:"U'(RUR')U2(RU'R')"},{name:"F2L-06",exp:"d(R'U'R)U2(R'UR)y"},{name:"F2L-07",exp:"U'(RU'2)(R'U2)(RU'R')"},{name:"F2L-08",exp:"d(R'U2)(RU'2)(R'UR)y"},{name:"F2L-09",exp:"y'(UR'U'RU'R'U'R)y"},{name:"F2L-10",exp:"U'(RUR'URUR')"},{name:"F2L-11",exp:"y'(R'URU')(R'URU'2)(R'UR)y"},{name:"F2L-12",exp:"(RU'R'U)(RU'R'U2)(RU'R')"},{name:"F2L-13",exp:"d(R'URU')(R'U'R)y"},{name:"F2L-14",exp:"U'(RU'R'U)(RUR')"},{name:"F2L-15",exp:"(RUR')(U2RU'R'URU'R')"},{name:"F2L-16",exp:"(RU'R'U)(dR'U'R)y"},{name:"F2L-17",exp:"(RU'2)(R'U'RUR')"},{name:"F2L-18",exp:"y'(R'U2)(RUR'U'R)y"},{name:"F2L-19",exp:"U(RU'2)(R'URU')R'"},{name:"F2L-20",exp:"y'(U'R'U2RU')(R'UR)y"},{name:"F2L-21",exp:"(RU'R'U2)(RUR')"},{name:"F2L-22",exp:"y'U2(R'U'RU')(R'UR)y"},{name:"F2L-23",exp:"(RUR'U2)(RUR'U')(RUR')"},{name:"F2L-24",exp:"y'(R'U'RU2)(R'U'RU)(R'U'R)y"},{name:"F2L-25",exp:"yU'(L'ULU)y'(RU'R')"},{name:"F2L-26",exp:"(URU'R'U')y'(R'UR)y"},{name:"F2L-27",exp:"(RU'R'U)(RU'R')"},{name:"F2L-28",exp:"y'(R'U)(RU')(R'UR)y"},{name:"F2L-29",exp:"y'(R'U'RU)(R'U'R)y"},{name:"F2L-30",exp:"(RUR'U')(RUR')"},{name:"F2L-31",exp:"(RU'R')y'(R'U2R)y"},{name:"F2L-32",exp:"(RUR'U')2(RUR')"},{name:"F2L-33",exp:"(RUR'U')(RU'R'URU'R')"},{name:"F2L-34",exp:"U'(RU'2R'U)(RUR')"},{name:"F2L-35",exp:"U'(RUR')d(R'U'R)y"},{name:"F2L-36",exp:"d(R'U'R)d'(RUR')"},{name:"F2L-37",exp:"(RU'2R'U)2y'(R'U'R)y"},{name:"F2L-38",exp:"(RUR'U')(RU2R'U')(RUR')"},{name:"F2L-39",exp:"(RU'R'U)(RU'2R'U)(RU'R')"},{name:"F2L-40",exp:"(RU'R'U')(RU'R')d(R'U'R)y"},{name:"F2L-41",exp:"(RUR'U')(RU'R'U)d(R'U'R)y"}]},{name:"OLL",strips:[{indexes:[6,7,8,15,16,17,24,25,26],faces:[0,1,2,4,5]}],scripts:[{name:"OLL-01",exp:"(RU'2)(R2'FRF')U2(R'FRF')"},{name:"OLL-02",exp:"(FRUR'U'F')(fRUR'U'f')"},{name:"OLL-03",exp:"f(RUR'U')f'U'F(RUR'U')F'"},{name:"OLL-04",exp:"f(RUR'U')yx(R'F)(RUR'U')F'y'"},{name:"OLL-05",exp:"(r'U2)(RUR'U)r"},{name:"OLL-06",exp:"(rU'2)(R'U'RU'r')"},{name:"OLL-07",exp:"rUR'URU'2r'"},{name:"OLL-08",exp:"r'U'RU'R'U2r"},{name:"OLL-09",exp:"(R'U'R)y'x'(RU')(R'F)(RUR')xy"},{name:"OLL-10",exp:"(RUR'U)(R'FRF')(RU'2R')"},{name:"OLL-11",exp:"r'(R2UR'U)(RU'2R'U)(rR')"},{name:"OLL-12",exp:"L2lU'z(UR'U')(R2UR')z'rR'"},{name:"OLL-13",exp:"(rU'r'U')(rUr')(F'UF)"},{name:"OLL-14",exp:"R'FRUR'F'R(FU'F')"},{name:"OLL-15",exp:"(r'U'r)(R'U'RU)(r'Ur)"},{name:"OLL-16",exp:"RBR'LUL'U'RB'R'"},{name:"OLL-17",exp:"(RUR'U)(R'FRF'U2)R'FRF'"},{name:"OLL-18",exp:"F(RUR'd)(R'U2)(R'FRF')y"},{name:"OLL-19",exp:"R'U2FRUR'U'y'R2U'2RBy"},{name:"OLL-20",exp:"r'(RU)(RUR'U'r2)(R2'U)(RU')r'"},{name:"OLL-21",exp:"(RU'2)(R'U'RUR'U')(RU'R')"},{name:"OLL-22",exp:"RU'2(R'2U')(R2U')R'2U'2R"},{name:"OLL-23",exp:"(R2D')(RU2)(R'D)(RU2R)"},{name:"OLL-24",exp:"(rUR'U')(r'FRF')"},{name:"OLL-25",exp:"F'(rUR'U')(r'FR)"},{name:"OLL-26",exp:"RU'2R'U'RU'R'"},{name:"OLL-27",exp:"R'U2RUR'UR"},{name:"OLL-28",exp:"(rUR'U')(r'RU)(RU'R')"},{name:"OLL-29",exp:"(R2U'R)F(R'U)(R2U')(R'F'R)"},{name:"OLL-30",exp:"(R2UR'B')(RU')(R2'U)(lUl')"},{name:"OLL-31",exp:"(r'F'UF)(LF'L'U'r)"},{name:"OLL-32",exp:"(RU)(B'U')(R'URBR')"},{name:"OLL-33",exp:"(RUR'U')(R'FRF')"},{name:"OLL-34",exp:"(R'U'RU)x'z'(RU)(L'U')rR'y"},{name:"OLL-35",exp:"RU'2R2'FRF'(RU'2R')"},{name:"OLL-36",exp:"R'U'RU'R'URUlU'R'Ux"},{name:"OLL-37",exp:"F(RU'R'U'RU)(R'F')"},{name:"OLL-38",exp:"(RUR'U)(RU'R'U')(R'FRF')"},{name:"OLL-39",exp:"(LF'L'U'LU)(FU'L')"},{name:"OLL-40",exp:"(R'FRUR'U')(F'UR)"},{name:"OLL-41",exp:"RU'R'U2RUyRU'R'U'F'y'"},{name:"OLL-42",exp:"(R'URU'2R'U')(F'U)(FUR)"},{name:"OLL-43",exp:"(B'U')(R'URB)"},{name:"OLL-44",exp:"f(RUR'U')f'"},{name:"OLL-45",exp:"F(RUR'U')F'"},{name:"OLL-46",exp:"(R'U')R'FRF'(UR)"},{name:"OLL-47",exp:"B'(R'U'RU)2B"},{name:"OLL-48",exp:"F(RUR'U')2F'"},{name:"OLL-49",exp:"RB'(R2F)(R2B)R2F'R"},{name:"OLL-50",exp:"L'B(L2F')(L2B')L2FL'"},{name:"OLL-51",exp:"f(RUR'U')2f'"},{name:"OLL-52",exp:"R'U'RU'R'dR'UlUxy"},{name:"OLL-53",exp:"(r'U2)(RUR'U')(RUR'U)r"},{name:"OLL-54",exp:"(rU'2)(R'U'RUR'U')(RU'r')"},{name:"OLL-55",exp:"(RU'2)(R'2U')RU'R'U2(FRF')"},{name:"OLL-56",exp:"F(RUR'U')(RF')(rUR'U')r'"},{name:"OLL-57",exp:"(RUR'U'r)(R'U)(RU'r')"}]},{name:"PLL",strips:[],scripts:[{name:"PLL-Aa",exp:"x(R2U'2)(R'D')(RU'2)(R'DR')x'"},{name:"PLL-Ab",exp:"x(RD'R)U2R'DRU2R'2x'"},{name:"PLL-E",exp:"x'(RU'R'DRUR')u2'(R'URDR'U'R)x'y2"},{name:"PLL-F",exp:"(R'U'F')(RUR'U')(R'FR2U'R'U')(RUR'UR)"},{name:"PLL-Ga",exp:"(R2uR')(UR'U'Ru')(R'2F'UF)"},{name:"PLL-Gb",exp:"(R'd'F)(R2u)(R'URU'Ru'R'2)y'"},{name:"PLL-Gc",exp:"(R'2u'RU'R)(UR'u)(R2fR'f')"},{name:"PLL-Gd",exp:"(RUR')y'(R2u'RU'R'U)(R'uR2)y"},{name:"PLL-H",exp:"M2UM2U2M2UM2"},{name:"PLL-Ja",exp:"z(U'RD')(R2UR'U')(R2UDR')z'"},{name:"PLL-Jb",exp:"(RUR'F')(RUR'U')(R'F)(R2U'R')"},{name:"PLL-Na",exp:"z(R'UR')z'(RU2L'UR')z(UR')z'(RU2L'UR')"},{name:"PLL-Nb",exp:"z(U'RD')(R2UR'U')z'(RUR')z(R2UR')z'(RU')"},{name:"PLL-Ra",exp:"(RU'2)(R'U2)(RB'R'U')(RURBR2'U)"},{name:"PLL-Rb",exp:"(R'U2)(RU'2)(R'FRUR'U')(R'F'R2U')"},{name:"PLL-T",exp:"(RUR'U')(R'F)(R2U'R'U'RUR'F')"},{name:"PLL-Ua",exp:"(RU'R)(URUR)(U'R'U'R2)"},{name:"PLL-Ub",exp:"(R2U)(RUR'U')(R'U')(R'UR')"},{name:"PLL-V",exp:"(R'UR'U'yx2)(R'UR'U'yx)(U2R'U'RUR)x"},{name:"PLL-Y",exp:"F(RU'R'U')(RUR'F')(RUR'U')(R'FRF')"},{name:"PLL-Z",exp:"(R'U'RU'R)(URU'R'UR)(UR2U'R')U2"}]}],this.timeoutTask=0,this.intervalTask=0,this.exp="",this.actions=new c(this.exp).parse()}onShowChange(t=this.show,e=this.show){t?(this.onTypeChange(),this.onIndexChange(),this.onScriptChange(),this.onExpChange(this.exp)):(this.playing=!1,e&&this.stick())}mounted(){this.onShowChange()}play(){if(this.progress==this.actions.length&&(this.playing=!1),this.playing){let t=this.actions[this.progress];this.progress++,this.game.twister.twist(t.exp,t.reverse,t.times,this.play,!1)}}forward(){if(this.progress==this.actions.length)return;this.playing=!1;let t=this.actions[this.progress];this.progress++,this.game.twister.twist(t.exp,t.reverse,t.times)}backward(){if(0==this.progress)return;this.playing=!1,this.progress--;let t=this.actions[this.progress];this.game.twister.twist(t.exp,!t.reverse,t.times)}stick(){this.game.cube.stick(),this.game.dirty=!0}strip(){let t=this.scripts[this.type].strips;for(let e of t)for(let t of e.indexes)this.game.cube.strip(t,e.faces);this.game.dirty=!0}onIndexChange(){let t=this.scripts[this.type].scripts.length;for(this.index;this.index<1;)this.index=this.index+t;for(;this.index>t;)this.index=this.index-t;window.localStorage.setItem("script.index",String(this.index))}onTypeChange(t=this.type,e=this.type){window.localStorage.setItem("script.type",String(this.type)),t!=e&&(this.index=1),this.stick(),this.strip()}get script(){let t=this.scripts[this.type].scripts[this.index-1],e={name:"",exp:""};return e.name=t.name,e.exp=t.exp,e}indexDown(t){return clearTimeout(this.timeoutTask),this.timeoutTask=setTimeout(()=>{this.timeoutTask=0,clearTimeout(this.intervalTask),this.intervalTask=setInterval(()=>{this.index=this.index+t},100)},500),!0}indexUp(t){return 0!=this.timeoutTask&&(clearTimeout(this.timeoutTask),this.index=this.index+t,this.timeoutTask=0),0!=this.intervalTask&&(clearInterval(this.intervalTask),this.intervalTask=0),!0}onExpChange(t){this.playing=!1;let e=window.localStorage,i=e.getItem(this.script.name);t==this.script.exp?e.removeItem(this.script.name):t!=i&&e.setItem(this.script.name,t),this.actions=new c(this.exp).parse(),this.$nextTick(this.init)}onScriptChange(){this.playing=!1;let t=window.localStorage;this.exp=t.getItem(this.script.name)||this.script.exp}toggle(){this.playing?this.playing=!1:(this.playing=!this.playing,this.play())}init(){this.progress=0,this.playing=!1,this.game.twister.twist("#"),this.game.twister.twist(this.exp,!0,1,null,!0)}};w([Object(o.Inject)("game"),_("design:type",v)],L.prototype,"game",void 0),w([Object(o.Prop)({default:!1}),_("design:type",Boolean)],L.prototype,"show",void 0),w([Object(o.Watch)("show"),_("design:type",Function),_("design:paramtypes",[Boolean,Boolean]),_("design:returntype",void 0)],L.prototype,"onShowChange",null),w([Object(o.Watch)("index"),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],L.prototype,"onIndexChange",null),w([Object(o.Watch)("type"),_("design:type",Function),_("design:paramtypes",[Number,Number]),_("design:returntype",void 0)],L.prototype,"onTypeChange",null),w([Object(o.Watch)("exp"),_("design:type",Function),_("design:paramtypes",[String]),_("design:returntype",void 0)],L.prototype,"onExpChange",null),w([Object(o.Watch)("script"),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],L.prototype,"onScriptChange",null);var F=L=w([Object(o.Component)({template:i(7)})],L),D=i(4),O=i.n(D),M=function(t,e,i,n){var s,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,i,r):s(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},k=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let S=class extends s.default{constructor(){super(...arguments),this.worker=new O.a,this.working=!1,this.scrambles=[],this.exp=window.localStorage.getItem("timer.exp")||"",this.start=0,this.lapse=Number(window.localStorage.getItem("timer.lapse")||0),this.timeoutTask=0,this.intervalTask=0,this.press=!1}mounted(){let t=window.localStorage,e=JSON.parse(t.getItem("timer.scrambles")||"[]");e instanceof Array&&(this.scrambles=e),this.worker.addEventListener("message",t=>{"init"==t.data.action?(this.working=!0,this.worker.postMessage({action:"scramble"})):"scramble"==t.data.action&&(this.scrambles.push(t.data.data),this.working=!1)}),this.worker.postMessage({action:"init"}),this.working=!0,this.onShowChange(this.show)}onScramblesChange(){window.localStorage.setItem("timer.scrambles",JSON.stringify(this.scrambles)),!this.working&&this.scrambles.length<16&&(this.working=!0,this.worker.postMessage({action:"scramble"})),""==this.exp&&this.scrambles.length>0&&(this.exp=this.scrambles.shift()||"")}onShowChange(t){t?(this.init(),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)):(document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp))}onKeyDown(t){32==t.keyCode&&this.down()}onKeyUp(t){32==t.keyCode&&this.up()}init(){""!=this.exp&&(this.game.twister.twist("#x2",!1,1,null,!0),this.game.twister.twist(this.exp,!1,1,null,!0))}onExpChange(t,e){window.localStorage.setItem("timer.exp",this.exp),this.show&&this.init()}get time(){let t=Math.floor(this.lapse/1e3/60),e=Math.floor(this.lapse%6e4/1e3),i=this.lapse%1e3;return(0==t?"":String(t)+":")+((0==t?"":"0")+String(e)).substr(-2)+":"+(0==this.intervalTask?("0"+String(Math.floor(i/10))).substr(-2):Math.floor(i/100))}get lock(){return!(!this.press&&0==this.intervalTask&&0==this.timeoutTask)}random(){this.lock||(0==this.scrambles.length?this.exp="":this.exp=this.scrambles.shift()||"")}down(){if(""!=this.exp&&1!=this.press)if(0!=this.intervalTask){this.press=!1,clearInterval(this.intervalTask),this.intervalTask=0;let t=new Date;this.lapse=t.getTime()-this.start,window.localStorage.setItem("timer.lapse",String(this.lapse)),this.start=0}else this.press=!0,clearTimeout(this.timeoutTask),this.timeoutTask=setTimeout(()=>{this.lapse=0,this.timeoutTask=0},550)}get color(){return this.press?0!=this.timeoutTask?"red--text":"green--text":"black--text"}up(){if(this.press&&0==this.timeoutTask){let t=new Date;this.start=t.getTime(),clearInterval(this.intervalTask),this.intervalTask=setInterval(()=>{let t=new Date;this.lapse=t.getTime()-this.start},100)}else clearTimeout(this.timeoutTask),this.timeoutTask=0;this.press=!1}};M([Object(o.Inject)("game"),k("design:type",v)],S.prototype,"game",void 0),M([Object(o.Watch)("scrambles"),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],S.prototype,"onScramblesChange",null),M([Object(o.Prop)({default:!1}),k("design:type",Boolean)],S.prototype,"show",void 0),M([Object(o.Watch)("show"),k("design:type",Function),k("design:paramtypes",[Boolean]),k("design:returntype",void 0)],S.prototype,"onShowChange",null),M([Object(o.Watch)("exp"),k("design:type",Function),k("design:paramtypes",[String,String]),k("design:returntype",void 0)],S.prototype,"onExpChange",null);var j=S=M([Object(o.Component)({template:i(9)})],S);class C{constructor(t){this._mode="",this._keyboard=!1,this._angle=1,this._size=0,this._speed=0,this._storage=window.localStorage,this._game=t,this.mode=this._storage.getItem("option.mode")||"play",this.keyboard="true"==this._storage.getItem("option.keyboard"),this.speed=Number(this._storage.getItem("option.speed")||0),this.angle=Number(this._storage.getItem("option.angle")||1),this.size=Number(this._storage.getItem("option.size")||0)}get mode(){return this._mode}set mode(t){this._mode=t,this._storage.setItem("option.mode",this._mode),this._game.enable="play"==this.mode}get keyboard(){return this._keyboard}set keyboard(t){this._keyboard=t,this._storage.setItem("option.keyboard",String(this._keyboard))}get angle(){return this._angle}set angle(t){this._angle=t,this._storage.setItem("option.angle",String(this._angle)),this._game.scene.rotation.y=-Math.PI/4+this._angle*Math.PI/16,this._game.dirty=!0}get size(){return this._size}set size(t){this._size=t,this._storage.setItem("option.size",String(this._size)),this._game.scale=Math.pow(2,-this.size/8),this._game.resize()}get speed(){return this._speed}set speed(t){this._speed=t,this._storage.setItem("option.speed",String(this._speed)),this._game.duration=50-10*this.speed}}var P=function(t,e,i,n){var s,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,i,r):s(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},T=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let B=class extends s.default{onValueChange(t){this.$emit("input",t)}};P([Object(o.Inject)("game"),T("design:type",v)],B.prototype,"game",void 0),P([Object(o.Inject)("option"),T("design:type",C)],B.prototype,"option",void 0),P([Object(o.Prop)({required:!0}),T("design:type",Boolean)],B.prototype,"value",void 0),P([Object(o.Watch)("value"),T("design:type",Function),T("design:paramtypes",[Boolean]),T("design:returntype",void 0)],B.prototype,"onValueChange",null);var I=B=P([Object(o.Component)({template:i(10)})],B),E=function(t,e,i,n){var s,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,i,r):s(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},z=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let A=class extends s.default{onValueChange(t){this.$emit("input",t)}reset(){window.localStorage.clear(),window.location.reload()}code(){window.open("https://github.com/huazhechen/cuber")}png(){let t=this.game.canvas.toDataURL("image/png").split(";base64,"),e=t[0].split(":")[1],i=window.atob(t[1]),n=i.length,s=new Uint8Array(n);for(let t=0;t<n;++t)s[t]=i.charCodeAt(t);let o=new Blob([s],{type:e}),r=document.createElement("a"),a=document.createEvent("MouseEvents");a.initEvent("click",!1,!1),r.download="cuber.png",r.href=URL.createObjectURL(o),r.dispatchEvent(a)}};E([Object(o.Inject)("game"),z("design:type",v)],A.prototype,"game",void 0),E([Object(o.Prop)({required:!0}),z("design:type",Boolean)],A.prototype,"value",void 0),E([Object(o.Watch)("value"),z("design:type",Function),z("design:paramtypes",[Boolean]),z("design:returntype",void 0)],A.prototype,"onValueChange",null);var N=A=E([Object(o.Component)({template:i(11)})],A),G=function(t,e,i,n){var s,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,i,r):s(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},V=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Z=class extends s.default{constructor(){super(...arguments),this.tune=!1,this.tool=!1}onValueChange(t){this.$emit("input",t)}mode(t){this.option.mode=t,this.$emit("input",!1)}};G([Object(o.Inject)("game"),V("design:type",v)],Z.prototype,"game",void 0),G([Object(o.Inject)("option"),V("design:type",C)],Z.prototype,"option",void 0),G([Object(o.Prop)({required:!0}),V("design:type",Boolean)],Z.prototype,"value",void 0),G([Object(o.Watch)("value"),V("design:type",Function),V("design:paramtypes",[Boolean]),V("design:returntype",void 0)],Z.prototype,"onValueChange",null);var W=Z=G([Object(o.Component)({template:i(12),components:{"tune-menu":I,"tool-menu":N}})],Z),q=function(t,e,i,n){var s,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,i,r):s(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},J=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let $=class extends s.default{constructor(){super(...arguments),this.course=[{name:"基础知识",steps:[{comment:"魔方由{中心块}、{角块}和{棱块}构成",exp:"",initial:"",strip:void 0,highlights:[]},{comment:"这是6个{中心块}",exp:"",initial:"",strip:{indexes:[0,1,2,3,5,6,7,8,9,11,15,17,18,19,20,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"这是8个{角块}",exp:"",initial:"",strip:{indexes:[1,3,4,5,7,9,10,11,12,13,14,15,16,17,19,21,22,23,25],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"这是12个{棱块}",exp:"",initial:"",strip:{indexes:[0,2,4,6,8,10,12,13,14,16,18,20,22,24,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"复原前先将{黄色}中心块朝上",exp:"z'",initial:"z",strip:{indexes:[0,1,2,3,5,6,7,8,9,11,15,17,18,19,20,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"对面中心块颜色为{白色}",exp:"xx'",initial:"",strip:{indexes:[0,1,2,3,5,6,7,8,9,11,15,17,18,19,20,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"侧面中心块颜色顺序固定 {蓝}-{红}-{绿}-{橙}",exp:"yyyy",initial:"",strip:{indexes:[0,1,2,3,5,6,7,8,9,11,15,17,18,19,20,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"黄色中心块所在层称为{顶层}",exp:"",initial:"",strip:{indexes:[0,1,2,3,4,5,9,10,11,12,13,14,18,19,20,21,22,23],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"白色中心块所在层称为{底层}",exp:"",initial:"",strip:{indexes:[3,4,5,6,7,8,12,13,14,15,16,17,21,22,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"其他块所在的称为{中层}",exp:"",initial:"",strip:{indexes:[0,1,2,6,7,8,9,10,11,15,16,17,18,19,20,24,25,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"这三块所在的位置是{工作区}",exp:"",initial:"",strip:{indexes:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,21,22,24,25],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"工作区右边称为{右层}",exp:"",initial:"",strip:{indexes:[0,1,3,4,6,7,9,10,12,13,15,16,18,19,21,22,24,25],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"工作区左边称为{左层}",exp:"",initial:"",strip:{indexes:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"左手握住这里方便右手操作",exp:"RUR'U'",initial:"",strip:{indexes:[2,5,6,7,8,11,14,15,16,17,20,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"右手握住这里方便左手操作",exp:"F'U'FU",initial:"",strip:{indexes:[6,7,8,15,16,17,18,19,20,21,22,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"我们将按照以下顺序复原整个魔方",exp:"",initial:"",strip:{indexes:[0,1,2,3,5,6,7,8,9,11,15,17,18,19,20,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"复原{底层棱块}",exp:"",initial:"",strip:{indexes:[0,2,3,5,6,7,8,15,17,18,20,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"复原三个{底层角块}",exp:"",initial:"",strip:{indexes:[3,5,6,7,8,15,17,20,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"复原三个{中层棱块}",exp:"",initial:"",strip:{indexes:[6,7,8,15,17,20,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"复原{顶层棱块}",exp:"",initial:"",strip:{indexes:[6,8,20,24,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"复原{顶层角块}",exp:"",initial:"",strip:void 0,highlights:[]}]},{name:"底层棱块",steps:[{comment:"底层棱块是有{白色}的棱块",exp:"",initial:"x",strip:{indexes:[0,2,3,4,5,6,7,8,10,12,14,15,16,17,18,20,21,22,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"{工作区}中的棱块 直接进入底层复原",exp:"R'",initial:"R",strip:{indexes:[0,2,3,5,6,7,8,15,17,18,20,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[5]},{comment:"位置要和已经复原的块{顺序}吻合 绿色需要在蓝色对面",exp:"D'R'D",initial:"u'Bu",strip:{indexes:[0,2,3,5,6,7,8,9,11,15,17,18,20,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[5]},{comment:"如果目标棱块在底层 先{转入工作区}后复原",exp:"RD'R'D",initial:"(RD'R'D)'",strip:{indexes:[0,2,3,5,6,7,8,9,11,15,17,18,20,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[5]},{comment:"如果目标棱块在顶层 先{转入工作区}后复原",exp:"B'R",initial:"(B'R)'",strip:{indexes:[0,1,2,3,5,6,7,8,9,15,17,18,20,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[23]},{comment:"全部复原后和侧面中心块对齐",exp:"D",initial:"D'",strip:{indexes:[0,2,3,5,6,7,8,15,17,18,20,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[]}]},{name:"底层角块",steps:[{comment:"底层角块是有{白色}的角块",exp:"",initial:"x",strip:{indexes:[1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,19,21,22,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"将工作区的角块移动到{顶层} 按照{相反}的顺序回归 可以{交换工作区角块}",exp:"RUR'U'",initial:"(RUR'U')'",strip:{indexes:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,21,22,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[26]},{comment:"旋转顶层将{目标块}和{目标位置} 移动到{同一工作区}内 为交换角块做准备",exp:"U",initial:"(RUR'U')'U'",strip:{indexes:[0,2,3,5,6,7,8,15,17,18,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[26]},{comment:"通过{交换工作区角块}操作 复原底层角块",exp:"RUR'U'",initial:"(RUR'U')'",strip:{indexes:[0,2,3,5,6,7,8,15,17,18,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[26]},{comment:"如果移动到顶层后白色朝上 交换后角块方向错误 ({错误示范})",exp:"RUR'U'",initial:"RUR'U'",strip:{indexes:[0,2,3,5,6,7,8,15,17,18,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[26]},{comment:"如果移动到顶层后白色朝侧面 交换后角块方向正确 ({正确示范})",exp:"F'U'FU",initial:"(F'U'FU)'",strip:{indexes:[0,2,3,5,6,7,8,15,17,18,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[26]},{comment:"如果角块位置或方向错误 交换到顶层后重新复原",exp:"(RUR'U')y'U(RUR'U')",initial:"F'U'FyF'U'F",strip:{indexes:[0,2,3,5,6,7,8,15,17,18,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[24,26]},{comment:"如果白色朝向顶层 通过多次交换的方式进行旋转",exp:"(RUR'U')3",initial:"(RUR'U')'3",strip:{indexes:[0,2,3,5,6,7,8,15,17,18,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[26]},{comment:"任选三个复原 留一个用于复原顶层角块 称为{脏角块}",exp:"",initial:"",strip:{indexes:[3,5,6,7,8,15,17,20,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[20]}]},{name:"中层棱块",steps:[{comment:"中层棱块是{没有}黄白色的棱块",exp:"",initial:"",strip:{indexes:[0,1,2,4,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,22,24,25,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"将工作区的棱块移动到{顶层} 工作区带其他顶层棱块回归 可以使棱块复原回中层",exp:"RUR'",initial:"y(DRUR'D')'",strip:{indexes:[3,6,7,8,15,17,20,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[17]},{comment:"为了防止底层角块被破坏 将脏角块移动到工作区 替换掉正确角块",exp:"D",initial:"y(DRUR'D')'",strip:{indexes:[3,6,7,8,15,17,20,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[26]},{comment:"使顶层棱块复原到中层 复原后恢复正确角块",exp:"RUR'D'",initial:"y(RUR'D')'",strip:{indexes:[3,6,7,8,15,17,20,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[17,26]},{comment:"选择左右层中 与目标棱块{侧面}颜色 相同的层进行操作",exp:"D'F'U2FD",initial:"y'(D'U'F'U'FD)'",strip:{indexes:[3,5,6,7,8,15,17,20,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[25,26]},{comment:"如果棱块位置或方向不对 交换到顶层后重新复原",exp:"D(RU'R')(F'U2F)D'",initial:"y(RU'2R'U)2y'(R'U'RU)y",strip:{indexes:[3,6,7,8,17,20,21,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[15]},{comment:"复原三个正确角块上方的棱块 留一个作为后续步骤的槽",exp:"",initial:"",strip:{indexes:[6,7,8,15,17,20,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[23]}]},{name:"顶层棱块",steps:[{comment:"顶层棱块是有{黄色}的棱块",exp:"",initial:"",strip:{indexes:[0,1,2,3,4,5,6,8,9,10,11,12,13,14,16,18,19,20,21,22,23,24,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"将{目标位置}转到 {目标棱块}去到顶层后的落点",exp:"U",initial:"RU'R'U'",strip:{indexes:[6,8,17,20,23,24,26],faces:[0,1,2,3,4,5]},highlights:[17]},{comment:"{目标棱块}去往顶层 {错误棱块}回到中层",exp:"RUR'",initial:"RU'R'",strip:{indexes:[6,8,17,20,23,24,26],faces:[0,1,2,3,4,5]},highlights:[23]},{comment:"选择左右层中 {目标棱块}去到顶层后 黄色朝上的层进行操作",exp:"F'U'F",initial:"F'UF",strip:{indexes:[6,8,20,23,24,25,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"三个正确块场景 按紧邻顺序标记为ABC {去A}-{回B}-{去C}-{回}",exp:"RUR'URUR'",initial:"RU'R'U'RU'R'",strip:{indexes:[6,8,20,23,24,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"单独一块需要旋转场景 标记旋转块O和任意正确块A {去A}-{回O}-{换边去A}-{回}",exp:"(RU'R'U)(F'UF)",initial:"(F'U'FU')(RUR')",strip:{indexes:[6,8,20,23,24,26],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"复原四个顶层棱块后 剩余的一个中层棱块自动复原",exp:"",initial:"",strip:{indexes:[6,8,20,24,26],faces:[0,1,2,3,4,5]},highlights:[]}]},{name:"顶层角块",steps:[{comment:"顶层角块是有{黄色}的角块",exp:"",initial:"",strip:{indexes:[0,1,2,3,4,5,7,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,25],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"将工作区的角块移动到{底层} 按照{相反}的顺序回归 可以{交换工作区角块}",exp:"R'D'RD",initial:"z'(R'D'RD)4U'(R'D'RD)2Uz(R'D'RD)3",strip:{indexes:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,21,22,23,24,25],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"使用底层交换角块能保护{顶层} 下两层会{暂时}打乱 最后进行处理",exp:"R'D'RD",initial:"z'(R'D'RD)4U'(R'D'RD)2Uz(R'D'RD)3",strip:{indexes:[],faces:[0,1,2,3,4,5]},highlights:[]},{comment:"转动顶层将{目标块}和{目标位置} 移动到{同一工作区}内 为交换角块做准备",exp:"U'",initial:"(R'D'RD)5U",strip:{indexes:[0,1,2,3,4,5,6,8,9,10,11,12,13,14,18,19,20,21,22,23,24],faces:[0,1,2,3,4,5]},highlights:[20]},{comment:"通过{交换工作区角块}操作 复原顶层角块",exp:"R'D'RD",initial:"(R'D'RD)5",strip:{indexes:[0,1,2,3,4,5,6,8,9,10,11,12,13,14,18,19,20,21,22,23,24],faces:[0,1,2,3,4,5]},highlights:[20]},{comment:"为了保证下两层可以恢复 只允许使用一侧交换角块 用多次交换的方式旋转角块",exp:"(R'D'RD)5",initial:"R'D'RD",strip:{indexes:[0,1,2,3,4,5,6,8,9,10,11,12,13,14,18,19,20,21,22,23,24],faces:[0,1,2,3,4,5]},highlights:[20]},{comment:"如果角块位置或方向错误 交换到底层后重新复原",exp:"(R'D'RD)U(R'D'RD)",initial:"(R'D'RD)U'(R'D'RD)3",strip:{indexes:[0,1,2,3,4,5,6,8,9,10,11,12,13,14,18,19,20,21,22,23,24],faces:[0,1,2,3,4,5]},highlights:[20,24]},{comment:"所有角块复原后 有时下两层已经复原了 此时对齐即可完成复原",exp:"U",initial:"U'",strip:void 0,highlights:[]},{comment:"所有角块复原后 有时下两层还是乱的",exp:"",initial:"z'(R'D'RD)4U'(R'D'RD)2Uz(R'D'RD)4U'",strip:void 0,highlights:[]},{comment:"将顶层与中层中心块对齐 重复交换工作区角块直到其他块复原",exp:"U(R'D'RD)2",initial:"z'(R'D'RD)4U'(R'D'RD)2Uz(R'D'RD)4U'",strip:void 0,highlights:[]},{comment:"然后将魔方向左倾倒 使错误的两块都在顶层 正常复原剩余的两块",exp:"z'(R'D'RD)2U'(R'D'RD)4Uz",initial:"z'(R'D'RD)4U'(R'D'RD)2Uz",strip:void 0,highlights:[]}]}],this.progress=0,this.type=Number(window.localStorage.getItem("course.type")||1),this.index=Number(window.localStorage.getItem("course.index")||0),this.actions=new c(this.exp).parse(),this.playing=!1}onShowChange(t=this.show,e=this.show){t?(this.onTypeChange(),this.onIndexChange(),this.onStepChange()):e&&this.stick()}mounted(){this.onShowChange()}stick(){this.game.cube.stick(),this.game.dirty=!0}strip(){let t=this.step.strip;if(void 0==t)return;for(let e of t.indexes)this.game.cube.strip(e,t.faces);let e=this.step.highlights;for(let t of e)this.game.cube.highlight(t);this.game.dirty=!0}onTypeChange(t=this.type,e=this.type){window.localStorage.setItem("course.type",String(this.type)),t<e?this.index=this.course[t-1].steps.length-1:t>e&&(this.index=0)}onIndexChange(){let t=this.course[this.type-1].steps.length;if(this.index<0){if(this.type>1)return void this.type--;this.index=0}if(this.index>=t){if(this.type<this.course.length)return void this.type++;this.index=t-1}window.localStorage.setItem("course.index",String(this.index))}onStepChange(){this.actions=new c(this.exp).parse(),this.$nextTick(this.init)}get step(){return this.course[this.type-1].steps[this.index]}get exp(){return this.step.exp||""}get initial(){return this.step.initial||""}get comment(){return this.step.comment.replace(/ /gi,"<br/>").replace(/{/gi,"<strong>").replace(/}/gi,"</strong>")}forward(){if(this.progress==this.actions.length)return;this.playing=!1;let t=this.actions[this.progress];this.progress++,this.game.twister.twist(t.exp,t.reverse,t.times,this.strip)}backward(){if(0==this.progress)return;this.playing=!1,this.progress--;let t=this.actions[this.progress];this.game.twister.twist(t.exp,!t.reverse,t.times,this.strip)}play(){if(this.progress==this.actions.length&&(this.playing=!1),this.strip(),this.playing){let t=this.actions[this.progress];this.progress++,this.game.twister.twist(t.exp,t.reverse,t.times,this.play,!1)}}toggle(){this.playing?this.playing=!1:(this.playing=!this.playing,this.play())}init(){this.playing=!1,this.game.twister.twist("#"),this.game.twister.twist(this.initial,!1,1,null,!0),this.progress=0,this.stick(),this.strip()}};q([Object(o.Inject)("game"),J("design:type",v)],$.prototype,"game",void 0),q([Object(o.Prop)({default:!1}),J("design:type",Boolean)],$.prototype,"show",void 0),q([Object(o.Watch)("show"),J("design:type",Function),J("design:paramtypes",[Boolean,Boolean]),J("design:returntype",void 0)],$.prototype,"onShowChange",null),q([Object(o.Watch)("type"),J("design:type",Function),J("design:paramtypes",[Number,Number]),J("design:returntype",void 0)],$.prototype,"onTypeChange",null),q([Object(o.Watch)("index"),J("design:type",Function),J("design:paramtypes",[]),J("design:returntype",void 0)],$.prototype,"onIndexChange",null),q([Object(o.Watch)("step"),J("design:type",Function),J("design:paramtypes",[]),J("design:returntype",void 0)],$.prototype,"onStepChange",null);var H=$=q([Object(o.Component)({template:i(13)})],$),K=function(t,e,i,n){var s,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,i,r):s(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r},Y=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let X=class extends s.default{constructor(){super(...arguments),this.game=new v,this.option=new C(this.game),this.menu=!1,this.exp="",this.task=0}onSpeedChange(){this.game.twister.twist("R",!1,1,()=>{this.game.twister.twist("R",!0,1,null,!0)},!1)}resize(){if(this.$refs.cuber instanceof HTMLElement&&this.$refs.panel instanceof HTMLElement){let t=this.$refs.cuber,e=this.$refs.panel.clientHeight,i=window.innerHeight-e;this.game.width=t.clientWidth,this.game.height=i,this.game.resize()}}mounted(){if(this.$refs.cuber instanceof Element){this.$refs.cuber.appendChild(this.game.canvas),this.resize()}this.game.callbacks.push(this.onTwist)}onTwist(t){this.exp=t,clearTimeout(this.task),this.task=setTimeout(()=>{this.exp=""},500)}onModeChange(t,e){this.$nextTick(this.resize)}onKeyboardChange(t,e){this.$nextTick(this.resize)}};K([Object(o.Provide)("game"),Y("design:type",v)],X.prototype,"game",void 0),K([Object(o.Provide)("option"),Y("design:type",C)],X.prototype,"option",void 0),K([Object(o.Watch)("option.speed"),Y("design:type",Function),Y("design:paramtypes",[]),Y("design:returntype",void 0)],X.prototype,"onSpeedChange",null),K([Object(o.Watch)("option.mode"),Y("design:type",Function),Y("design:paramtypes",[String,String]),Y("design:returntype",void 0)],X.prototype,"onModeChange",null),K([Object(o.Watch)("option.keyboard"),Y("design:type",Function),Y("design:paramtypes",[String,String]),Y("design:returntype",void 0)],X.prototype,"onKeyboardChange",null);var Q=X=K([Object(o.Component)({template:i(14),components:{"keyboard-panel":b,"course-panel":H,"script-panel":F,"timer-panel":j,"app-menu":W}})],X),tt=i(5),et=i.n(tt),it=(i(15),i(16),i(17),function(t,e,i,n){var s,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(r=(o<3?s(r):o>3?s(e,i,r):s(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r}),nt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let st=class extends s.default{};it([Object(o.Prop)({default:!1}),nt("design:type",Boolean)],st.prototype,"disabled",void 0),it([Object(o.Prop)({default:!1}),nt("design:type",Boolean)],st.prototype,"ripple",void 0),it([Object(o.Prop)({default:!1}),nt("design:type",Boolean)],st.prototype,"flat",void 0),it([Object(o.Prop)({default:!1}),nt("design:type",Boolean)],st.prototype,"block",void 0),it([Object(o.Prop)({default:!1}),nt("design:type",Boolean)],st.prototype,"icon",void 0),it([Object(o.Prop)({default:!1}),nt("design:type",Boolean)],st.prototype,"large",void 0),it([Object(o.Prop)({default:!1}),nt("design:type",Boolean)],st.prototype,"outline",void 0),it([Object(o.Prop)({default:!1}),nt("design:type",String)],st.prototype,"color",void 0),it([Object(o.Prop)({default:!1}),nt("design:type",Boolean)],st.prototype,"fixed",void 0),it([Object(o.Prop)({default:!1}),nt("design:type",Boolean)],st.prototype,"top",void 0),it([Object(o.Prop)({default:!1}),nt("design:type",Boolean)],st.prototype,"bottom",void 0),it([Object(o.Prop)({default:!1}),nt("design:type",Boolean)],st.prototype,"left",void 0),it([Object(o.Prop)({default:!1}),nt("design:type",Boolean)],st.prototype,"right",void 0);var ot=st=it([Object(o.Component)({template:i(18)})],st);s.default.use(et.a),s.default.component("fast-button",ot),new s.default({el:"#app",render:t=>t(Q)})}]);