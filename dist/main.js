!function(I){var g={};function C(A){if(g[A])return g[A].exports;var c=g[A]={i:A,l:!1,exports:{}};return I[A].call(c.exports,c,c.exports,C),c.l=!0,c.exports}C.m=I,C.c=g,C.d=function(I,g,A){C.o(I,g)||Object.defineProperty(I,g,{enumerable:!0,get:A})},C.r=function(I){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},C.t=function(I,g){if(1&g&&(I=C(I)),8&g)return I;if(4&g&&"object"==typeof I&&I&&I.__esModule)return I;var A=Object.create(null);if(C.r(A),Object.defineProperty(A,"default",{enumerable:!0,value:I}),2&g&&"string"!=typeof I)for(var c in I)C.d(A,c,function(g){return I[g]}.bind(null,c));return A},C.n=function(I){var g=I&&I.__esModule?function(){return I.default}:function(){return I};return C.d(g,"a",g),g},C.o=function(I,g){return Object.prototype.hasOwnProperty.call(I,g)},C.p="/dist/",C(C.s=12)}([function(module,exports,__webpack_require__){eval("module.exports = (__webpack_require__(3))(8);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVsZWdhdGVkIC4vbm9kZV9tb2R1bGVzL3RocmVlL2J1aWxkL3RocmVlLm1vZHVsZS5qcyBmcm9tIGRsbC1yZWZlcmVuY2UgZGxsX2xpYnJhcnk/ZjI1YiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAoX193ZWJwYWNrX3JlcXVpcmVfXygzKSkoOCk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){eval("module.exports = (__webpack_require__(3))(12);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVsZWdhdGVkIC4vbm9kZV9tb2R1bGVzL3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IvbGliL3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IuanMgZnJvbSBkbGwtcmVmZXJlbmNlIGRsbF9saWJyYXJ5P2FhNDUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gKF9fd2VicGFja19yZXF1aXJlX18oMykpKDEyKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n")},function(module,exports,__webpack_require__){eval("module.exports = (__webpack_require__(3))(1);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVsZWdhdGVkIC4vbm9kZV9tb2R1bGVzL3Z1ZS9kaXN0L3Z1ZS5lc20uanMgZnJvbSBkbGwtcmVmZXJlbmNlIGRsbF9saWJyYXJ5P2UyYjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gKF9fd2VicGFja19yZXF1aXJlX18oMykpKDEpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n")},function(module,exports){eval("module.exports = dll_library;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkbGxfbGlicmFyeVwiP2Q5MWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZGxsX2xpYnJhcnk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n")},function(module,exports,__webpack_require__){eval("module.exports = (__webpack_require__(3))(13);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVsZWdhdGVkIC4vbm9kZV9tb2R1bGVzL3Z1ZXRpZnkvZGlzdC92dWV0aWZ5LmpzIGZyb20gZGxsLXJlZmVyZW5jZSBkbGxfbGlicmFyeT83ZjEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKSgxMyk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n")},function(module,exports){eval('module.exports = "<v-container fluid grid-list-md text-xs-center v-show=\\"show\\">\\n    <v-layout row wrap>\\n        <v-flex xs12 style=\\"display: table; width: 100%\\">\\n            <p class=\\"title\\" style=\\"display: table-cell; vertical-align:middle; width: 100%; height: 2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;\\">{{queue.join(\' \')}}</p>\\n        </v-flex>\\n        <v-flex v-for=\\"operation in operations\\" d-flex xs2>\\n            <v-btn :disabled=\\"disabled || queue.length > 9\\" @click.stop.prevent=\\"twist(operation + suffix)\\" class=\\"headline\\" style=\\"width:auto; height:2em; min-width: 0%; min-height: 0%; margin: 0%; text-transform:none\\">{{operation}}{{suffix}}\\n            </v-btn>\\n        </v-flex>\\n        <v-flex d-flex xs6>\\n            <v-btn-toggle v-model=\\"shift\\" style=\\"width:100%\\" multiple>\\n                <v-btn block class=\\"headline\\" style=\\"width:auto; height:2em; min-width: 0%; min-height: 0%; margin: 0%; text-transform:none\\" value=\\"reverse\\">reverse</v-btn>\\n            </v-btn-toggle>\\n        </v-flex>\\n        <v-flex d-flex xs6>\\n            <v-btn-toggle v-model=\\"shift\\" style=\\"width:100%\\" multiple>\\n                <v-btn block class=\\"headline\\" style=\\"width:auto; height:2em; min-width: 0%; min-height: 0%; margin: 0%; text-transform:none\\" value=\\"double\\">double</v-btn>\\n            </v-btn-toggle>\\n        </v-flex>\\n    </v-layout>\\n</v-container>"\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdnVlL0tleWJvYXJkUGFuZWwvaW5kZXguaHRtbD9hNTEyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHdKQUF3Siw0RUFBNEUsdUJBQXVCLGFBQWEsYUFBYSxlQUFlLGdCQUFnQixZQUFZLGFBQWEsS0FBSyxpQkFBaUIsOE9BQThPLFlBQVksZUFBZSxnQkFBZ0IsWUFBWSx5QkFBeUIsYUFBYSxRQUFRLHVOQUF1TixZQUFZLGVBQWUsZ0JBQWdCLFlBQVksc1JBQXNSLFlBQVksZUFBZSxnQkFBZ0IsWUFBWSIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjx2LWNvbnRhaW5lciBmbHVpZCBncmlkLWxpc3QtbWQgdGV4dC14cy1jZW50ZXIgdi1zaG93PVxcXCJzaG93XFxcIj5cXG4gICAgPHYtbGF5b3V0IHJvdyB3cmFwPlxcbiAgICAgICAgPHYtZmxleCB4czEyIHN0eWxlPVxcXCJkaXNwbGF5OiB0YWJsZTsgd2lkdGg6IDEwMCVcXFwiPlxcbiAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJ0aXRsZVxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IHRhYmxlLWNlbGw7IHZlcnRpY2FsLWFsaWduOm1pZGRsZTsgd2lkdGg6IDEwMCU7IGhlaWdodDogMmVtOyBtaW4td2lkdGg6IDAlOyBtaW4taGVpZ2h0OiAwJTsgbWFyZ2luOiAwJTsgcGFkZGluZzogMCU7XFxcIj57e3F1ZXVlLmpvaW4oJyAnKX19PC9wPlxcbiAgICAgICAgPC92LWZsZXg+XFxuICAgICAgICA8di1mbGV4IHYtZm9yPVxcXCJvcGVyYXRpb24gaW4gb3BlcmF0aW9uc1xcXCIgZC1mbGV4IHhzMj5cXG4gICAgICAgICAgICA8di1idG4gOmRpc2FibGVkPVxcXCJkaXNhYmxlZCB8fCBxdWV1ZS5sZW5ndGggPiA5XFxcIiBAY2xpY2suc3RvcC5wcmV2ZW50PVxcXCJ0d2lzdChvcGVyYXRpb24gKyBzdWZmaXgpXFxcIiBjbGFzcz1cXFwiaGVhZGxpbmVcXFwiIHN0eWxlPVxcXCJ3aWR0aDphdXRvOyBoZWlnaHQ6MmVtOyBtaW4td2lkdGg6IDAlOyBtaW4taGVpZ2h0OiAwJTsgbWFyZ2luOiAwJTsgdGV4dC10cmFuc2Zvcm06bm9uZVxcXCI+e3tvcGVyYXRpb259fXt7c3VmZml4fX1cXG4gICAgICAgICAgICA8L3YtYnRuPlxcbiAgICAgICAgPC92LWZsZXg+XFxuICAgICAgICA8di1mbGV4IGQtZmxleCB4czY+XFxuICAgICAgICAgICAgPHYtYnRuLXRvZ2dsZSB2LW1vZGVsPVxcXCJzaGlmdFxcXCIgc3R5bGU9XFxcIndpZHRoOjEwMCVcXFwiIG11bHRpcGxlPlxcbiAgICAgICAgICAgICAgICA8di1idG4gYmxvY2sgY2xhc3M9XFxcImhlYWRsaW5lXFxcIiBzdHlsZT1cXFwid2lkdGg6YXV0bzsgaGVpZ2h0OjJlbTsgbWluLXdpZHRoOiAwJTsgbWluLWhlaWdodDogMCU7IG1hcmdpbjogMCU7IHRleHQtdHJhbnNmb3JtOm5vbmVcXFwiIHZhbHVlPVxcXCJyZXZlcnNlXFxcIj5yZXZlcnNlPC92LWJ0bj5cXG4gICAgICAgICAgICA8L3YtYnRuLXRvZ2dsZT5cXG4gICAgICAgIDwvdi1mbGV4PlxcbiAgICAgICAgPHYtZmxleCBkLWZsZXggeHM2PlxcbiAgICAgICAgICAgIDx2LWJ0bi10b2dnbGUgdi1tb2RlbD1cXFwic2hpZnRcXFwiIHN0eWxlPVxcXCJ3aWR0aDoxMDAlXFxcIiBtdWx0aXBsZT5cXG4gICAgICAgICAgICAgICAgPHYtYnRuIGJsb2NrIGNsYXNzPVxcXCJoZWFkbGluZVxcXCIgc3R5bGU9XFxcIndpZHRoOmF1dG87IGhlaWdodDoyZW07IG1pbi13aWR0aDogMCU7IG1pbi1oZWlnaHQ6IDAlOyBtYXJnaW46IDAlOyB0ZXh0LXRyYW5zZm9ybTpub25lXFxcIiB2YWx1ZT1cXFwiZG91YmxlXFxcIj5kb3VibGU8L3YtYnRuPlxcbiAgICAgICAgICAgIDwvdi1idG4tdG9nZ2xlPlxcbiAgICAgICAgPC92LWZsZXg+XFxuICAgIDwvdi1sYXlvdXQ+XFxuPC92LWNvbnRhaW5lcj5cIiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n')},function(module,exports){eval('module.exports = "<v-container fluid grid-list-md text-xs-center v-show=\\"show\\">\\n    <v-layout row wrap>\\n        <v-flex xs12 style=\\"margin: 0%; padding: 0%; display: table; width: 100%;\\">\\n            <p class=\\"title\\" @click=\\"if (!disabled && !playing){dialog = true}\\" style=\\"\\n            word-wrap: break-word; \\n            word-break: normal;\\n            border: 2px solid rgba(0,0,0,0.54);\\n            border-radius: 4px;\\n            display: table-cell;\\n            vertical-align:middle;\\n            width: 100%;\\n            height: 2.8em;\\n            min-width: 0%;\\n            min-height: 0%;\\n            margin: 0%;\\n            padding: 0%;\\n            \\">{{exp}}</p>\\n        </v-flex>\\n        <v-flex xs1 style=\\"margin: 0%; padding: 0%;\\">\\n            <v-spacer></v-spacer>\\n        </v-flex>\\n        <v-flex xs10 style=\\"margin: 0%; padding: 0%;\\">\\n            <v-slider readonly hide-details thumb-label=\\"false\\" ticks=\\"always\\" v-model=\\"progress\\" :max=\\"actions.length\\"></v-slider>\\n        </v-flex>\\n        <v-flex xs1 style=\\"margin: 0%; padding: 0%;\\">\\n            <v-spacer></v-spacer>\\n        </v-flex>\\n        <v-flex xs1 style=\\"margin: 0%; padding: 0%;\\">\\n            <v-spacer></v-spacer>\\n        </v-flex>\\n        <v-flex xs2 style=\\"margin: 0%; padding: 0%;\\">\\n            <v-btn icon large :disabled=\\"disabled || playing || progress==0\\" @click.stop.prevent=\\"start\\" style=\\"margin: 0%; padding: 0%;\\">\\n                <v-icon>skip_previous</v-icon>\\n            </v-btn>\\n            </v-btn>\\n        </v-flex>\\n        <v-flex xs2 style=\\"margin: 0%; padding: 0%;\\">\\n            <v-btn icon large :disabled=\\"disabled || playing || progress==0\\" @click.stop.prevent=\\"backward\\" style=\\"margin: 0%; padding: 0%;\\">\\n                <v-icon>fast_rewind</v-icon>\\n            </v-btn>\\n        </v-flex>\\n        <v-flex xs2 style=\\"margin: 0%; padding: 0%;\\">\\n            <v-btn icon large :disabled=\\"(disabled && !playing) || (progress == actions.length)\\" @click.stop.prevent=\\"playing = !playing; play();\\" style=\\"margin: 0%; padding: 0%;\\">\\n                <v-icon>{{playing?\'pause\':\'play_arrow\'}}</v-icon>\\n            </v-btn>\\n        </v-flex>\\n        <v-flex xs2 style=\\"margin: 0%; padding: 0%;\\">\\n            <v-btn icon large :disabled=\\"disabled || playing || (progress == actions.length)\\" @click.stop.prevent=\\"forward\\" style=\\"margin: 0%; padding: 0%;\\">\\n                <v-icon>fast_forward</v-icon>\\n            </v-btn>\\n        </v-flex>\\n        <v-flex xs2 style=\\"margin: 0%; padding: 0%;\\">\\n            <v-btn icon large :disabled=\\"disabled || playing || progress == actions.length\\" @click.stop.prevent=\\"end\\" style=\\"margin: 0%; padding: 0%;\\">\\n                <v-icon>skip_next</v-icon>\\n            </v-btn>\\n        </v-flex>\\n        <v-flex xs1 style=\\"margin: 0%; padding: 0%;\\">\\n            <v-spacer></v-spacer>\\n        </v-flex>\\n    </v-layout>\\n    <v-bottom-sheet v-model=\\"dialog\\">\\n        <v-card tile>\\n            <v-container fluid grid-list-md text-xs-center>\\n                <v-layout row wrap>\\n                    <v-flex xs12>\\n                        <v-btn-toggle v-model=\\"type\\" mandatory style=\\"width:100%\\">\\n                            <template v-for=\\"(group, i) in scripts\\">\\n                                <v-btn style=\\"text-transform:none;\\" block :disabled=\\"disabled || playing\\" :value=\\"i\\">{{type==i?script.name:group.name}}</v-btn>\\n                            </template>\\n                        </v-btn-toggle>\\n                    </v-flex>\\n                    <v-flex xs12>\\n                        <v-text-field outline single-line hide-details class=\\"title\\" :append-icon=\\"exp==script.exp?\'\':\'settings_backup_restore\'\\" @click:append=\\"exp=script.exp\\" v-model=\\"exp\\"></v-text-field>\\n                    </v-flex>\\n                    <v-flex xs3>\\n                        <v-btn icon large :disabled=\\"disabled\\" @click.stop.prevent=\\"index=1\\" style=\\"margin: 0%; padding: 0%;\\">\\n                            <v-icon>first_page</v-icon>\\n                        </v-btn>\\n                        </v-btn>\\n                    </v-flex>\\n                    <v-flex xs3>\\n                        <v-btn icon large :disabled=\\"disabled\\" @mousedown=\\"indexDown(-1)\\" @mouseup=\\"indexUp(-1)\\" @mouseleave=\\"indexUp(-1)\\" @touchstart.stop.prevent=\\"indexDown(-1)\\" @touchend.stop.prevent=\\"indexUp(-1)\\" style=\\"margin: 0%; padding: 0%;\\">\\n                            <v-icon>arrow_back</v-icon>\\n                        </v-btn>\\n                    </v-flex>\\n                    <v-flex xs3>\\n                        <v-btn icon large :disabled=\\"disabled\\" @mousedown=\\"indexDown(1)\\" @mouseup=\\"indexUp(1)\\" @mouseleave=\\"indexUp(1)\\" @touchstart.stop.prevent=\\"indexDown(1)\\" @touchend.stop.prevent=\\"indexUp(1)\\" style=\\"margin: 0%; padding: 0%;\\">\\n                            <v-icon>arrow_forward</v-icon>\\n                        </v-btn>\\n                    </v-flex>\\n                    <v-flex xs3>\\n                        <v-btn icon large :disabled=\\"disabled\\" @click.stop.prevent=\\"index=scripts[type].scripts.length\\" style=\\"margin: 0%; padding: 0%;\\">\\n                            <v-icon>last_page</v-icon>\\n                        </v-btn>\\n                    </v-flex>\\n                </v-layout>\\n            </v-container>\\n        </v-card>\\n    </v-bottom-sheet>\\n</v-container>"\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdnVlL1NjcmlwdFBhbmVsL2luZGV4Lmh0bWw/ODE5OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvSkFBb0osYUFBYSxnQkFBZ0IsYUFBYSx3RUFBd0UsY0FBYywrQ0FBK0Msa0NBQWtDLGlEQUFpRCxpQ0FBaUMsa0NBQWtDLG9DQUFvQywwQkFBMEIsNEJBQTRCLDRCQUE0Qiw2QkFBNkIseUJBQXlCLDBCQUEwQixtQkFBbUIsS0FBSyxnRUFBZ0UsYUFBYSxtR0FBbUcsYUFBYSw0TUFBNE0sYUFBYSxrR0FBa0csYUFBYSxrR0FBa0csYUFBYSxxSUFBcUksYUFBYSwySkFBMkosYUFBYSx3SUFBd0ksYUFBYSxtSUFBbUksYUFBYSxpSkFBaUosUUFBUSxzQkFBc0IsYUFBYSwrQkFBK0IsOEJBQThCLDJGQUEyRixhQUFhLHdKQUF3SixhQUFhLG9JQUFvSSxhQUFhLGtKQUFrSixhQUFhLGlJQUFpSSxhQUFhLG9mQUFvZiwwREFBMEQsZ0NBQWdDLDBpQkFBMGlCLGFBQWEsMmJBQTJiLGFBQWEsb1pBQW9aLGFBQWEsbVRBQW1ULGFBQWEiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8di1jb250YWluZXIgZmx1aWQgZ3JpZC1saXN0LW1kIHRleHQteHMtY2VudGVyIHYtc2hvdz1cXFwic2hvd1xcXCI+XFxuICAgIDx2LWxheW91dCByb3cgd3JhcD5cXG4gICAgICAgIDx2LWZsZXggeHMxMiBzdHlsZT1cXFwibWFyZ2luOiAwJTsgcGFkZGluZzogMCU7IGRpc3BsYXk6IHRhYmxlOyB3aWR0aDogMTAwJTtcXFwiPlxcbiAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJ0aXRsZVxcXCIgQGNsaWNrPVxcXCJpZiAoIWRpc2FibGVkICYmICFwbGF5aW5nKXtkaWFsb2cgPSB0cnVlfVxcXCIgc3R5bGU9XFxcIlxcbiAgICAgICAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDsgXFxuICAgICAgICAgICAgd29yZC1icmVhazogbm9ybWFsO1xcbiAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYmEoMCwwLDAsMC41NCk7XFxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgICAgICAgICAgIGRpc3BsYXk6IHRhYmxlLWNlbGw7XFxuICAgICAgICAgICAgdmVydGljYWwtYWxpZ246bWlkZGxlO1xcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgICAgICAgIGhlaWdodDogMi44ZW07XFxuICAgICAgICAgICAgbWluLXdpZHRoOiAwJTtcXG4gICAgICAgICAgICBtaW4taGVpZ2h0OiAwJTtcXG4gICAgICAgICAgICBtYXJnaW46IDAlO1xcbiAgICAgICAgICAgIHBhZGRpbmc6IDAlO1xcbiAgICAgICAgICAgIFxcXCI+e3tleHB9fTwvcD5cXG4gICAgICAgIDwvdi1mbGV4PlxcbiAgICAgICAgPHYtZmxleCB4czEgc3R5bGU9XFxcIm1hcmdpbjogMCU7IHBhZGRpbmc6IDAlO1xcXCI+XFxuICAgICAgICAgICAgPHYtc3BhY2VyPjwvdi1zcGFjZXI+XFxuICAgICAgICA8L3YtZmxleD5cXG4gICAgICAgIDx2LWZsZXggeHMxMCBzdHlsZT1cXFwibWFyZ2luOiAwJTsgcGFkZGluZzogMCU7XFxcIj5cXG4gICAgICAgICAgICA8di1zbGlkZXIgcmVhZG9ubHkgaGlkZS1kZXRhaWxzIHRodW1iLWxhYmVsPVxcXCJmYWxzZVxcXCIgdGlja3M9XFxcImFsd2F5c1xcXCIgdi1tb2RlbD1cXFwicHJvZ3Jlc3NcXFwiIDptYXg9XFxcImFjdGlvbnMubGVuZ3RoXFxcIj48L3Ytc2xpZGVyPlxcbiAgICAgICAgPC92LWZsZXg+XFxuICAgICAgICA8di1mbGV4IHhzMSBzdHlsZT1cXFwibWFyZ2luOiAwJTsgcGFkZGluZzogMCU7XFxcIj5cXG4gICAgICAgICAgICA8di1zcGFjZXI+PC92LXNwYWNlcj5cXG4gICAgICAgIDwvdi1mbGV4PlxcbiAgICAgICAgPHYtZmxleCB4czEgc3R5bGU9XFxcIm1hcmdpbjogMCU7IHBhZGRpbmc6IDAlO1xcXCI+XFxuICAgICAgICAgICAgPHYtc3BhY2VyPjwvdi1zcGFjZXI+XFxuICAgICAgICA8L3YtZmxleD5cXG4gICAgICAgIDx2LWZsZXggeHMyIHN0eWxlPVxcXCJtYXJnaW46IDAlOyBwYWRkaW5nOiAwJTtcXFwiPlxcbiAgICAgICAgICAgIDx2LWJ0biBpY29uIGxhcmdlIDpkaXNhYmxlZD1cXFwiZGlzYWJsZWQgfHwgcGxheWluZyB8fCBwcm9ncmVzcz09MFxcXCIgQGNsaWNrLnN0b3AucHJldmVudD1cXFwic3RhcnRcXFwiIHN0eWxlPVxcXCJtYXJnaW46IDAlOyBwYWRkaW5nOiAwJTtcXFwiPlxcbiAgICAgICAgICAgICAgICA8di1pY29uPnNraXBfcHJldmlvdXM8L3YtaWNvbj5cXG4gICAgICAgICAgICA8L3YtYnRuPlxcbiAgICAgICAgICAgIDwvdi1idG4+XFxuICAgICAgICA8L3YtZmxleD5cXG4gICAgICAgIDx2LWZsZXggeHMyIHN0eWxlPVxcXCJtYXJnaW46IDAlOyBwYWRkaW5nOiAwJTtcXFwiPlxcbiAgICAgICAgICAgIDx2LWJ0biBpY29uIGxhcmdlIDpkaXNhYmxlZD1cXFwiZGlzYWJsZWQgfHwgcGxheWluZyB8fCBwcm9ncmVzcz09MFxcXCIgQGNsaWNrLnN0b3AucHJldmVudD1cXFwiYmFja3dhcmRcXFwiIHN0eWxlPVxcXCJtYXJnaW46IDAlOyBwYWRkaW5nOiAwJTtcXFwiPlxcbiAgICAgICAgICAgICAgICA8di1pY29uPmZhc3RfcmV3aW5kPC92LWljb24+XFxuICAgICAgICAgICAgPC92LWJ0bj5cXG4gICAgICAgIDwvdi1mbGV4PlxcbiAgICAgICAgPHYtZmxleCB4czIgc3R5bGU9XFxcIm1hcmdpbjogMCU7IHBhZGRpbmc6IDAlO1xcXCI+XFxuICAgICAgICAgICAgPHYtYnRuIGljb24gbGFyZ2UgOmRpc2FibGVkPVxcXCIoZGlzYWJsZWQgJiYgIXBsYXlpbmcpIHx8IChwcm9ncmVzcyA9PSBhY3Rpb25zLmxlbmd0aClcXFwiIEBjbGljay5zdG9wLnByZXZlbnQ9XFxcInBsYXlpbmcgPSAhcGxheWluZzsgcGxheSgpO1xcXCIgc3R5bGU9XFxcIm1hcmdpbjogMCU7IHBhZGRpbmc6IDAlO1xcXCI+XFxuICAgICAgICAgICAgICAgIDx2LWljb24+e3twbGF5aW5nPydwYXVzZSc6J3BsYXlfYXJyb3cnfX08L3YtaWNvbj5cXG4gICAgICAgICAgICA8L3YtYnRuPlxcbiAgICAgICAgPC92LWZsZXg+XFxuICAgICAgICA8di1mbGV4IHhzMiBzdHlsZT1cXFwibWFyZ2luOiAwJTsgcGFkZGluZzogMCU7XFxcIj5cXG4gICAgICAgICAgICA8di1idG4gaWNvbiBsYXJnZSA6ZGlzYWJsZWQ9XFxcImRpc2FibGVkIHx8IHBsYXlpbmcgfHwgKHByb2dyZXNzID09IGFjdGlvbnMubGVuZ3RoKVxcXCIgQGNsaWNrLnN0b3AucHJldmVudD1cXFwiZm9yd2FyZFxcXCIgc3R5bGU9XFxcIm1hcmdpbjogMCU7IHBhZGRpbmc6IDAlO1xcXCI+XFxuICAgICAgICAgICAgICAgIDx2LWljb24+ZmFzdF9mb3J3YXJkPC92LWljb24+XFxuICAgICAgICAgICAgPC92LWJ0bj5cXG4gICAgICAgIDwvdi1mbGV4PlxcbiAgICAgICAgPHYtZmxleCB4czIgc3R5bGU9XFxcIm1hcmdpbjogMCU7IHBhZGRpbmc6IDAlO1xcXCI+XFxuICAgICAgICAgICAgPHYtYnRuIGljb24gbGFyZ2UgOmRpc2FibGVkPVxcXCJkaXNhYmxlZCB8fCBwbGF5aW5nIHx8IHByb2dyZXNzID09IGFjdGlvbnMubGVuZ3RoXFxcIiBAY2xpY2suc3RvcC5wcmV2ZW50PVxcXCJlbmRcXFwiIHN0eWxlPVxcXCJtYXJnaW46IDAlOyBwYWRkaW5nOiAwJTtcXFwiPlxcbiAgICAgICAgICAgICAgICA8di1pY29uPnNraXBfbmV4dDwvdi1pY29uPlxcbiAgICAgICAgICAgIDwvdi1idG4+XFxuICAgICAgICA8L3YtZmxleD5cXG4gICAgICAgIDx2LWZsZXggeHMxIHN0eWxlPVxcXCJtYXJnaW46IDAlOyBwYWRkaW5nOiAwJTtcXFwiPlxcbiAgICAgICAgICAgIDx2LXNwYWNlcj48L3Ytc3BhY2VyPlxcbiAgICAgICAgPC92LWZsZXg+XFxuICAgIDwvdi1sYXlvdXQ+XFxuICAgIDx2LWJvdHRvbS1zaGVldCB2LW1vZGVsPVxcXCJkaWFsb2dcXFwiPlxcbiAgICAgICAgPHYtY2FyZCB0aWxlPlxcbiAgICAgICAgICAgIDx2LWNvbnRhaW5lciBmbHVpZCBncmlkLWxpc3QtbWQgdGV4dC14cy1jZW50ZXI+XFxuICAgICAgICAgICAgICAgIDx2LWxheW91dCByb3cgd3JhcD5cXG4gICAgICAgICAgICAgICAgICAgIDx2LWZsZXggeHMxMj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8di1idG4tdG9nZ2xlIHYtbW9kZWw9XFxcInR5cGVcXFwiIG1hbmRhdG9yeSBzdHlsZT1cXFwid2lkdGg6MTAwJVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSB2LWZvcj1cXFwiKGdyb3VwLCBpKSBpbiBzY3JpcHRzXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2LWJ0biBzdHlsZT1cXFwidGV4dC10cmFuc2Zvcm06bm9uZTtcXFwiIGJsb2NrIDpkaXNhYmxlZD1cXFwiZGlzYWJsZWQgfHwgcGxheWluZ1xcXCIgOnZhbHVlPVxcXCJpXFxcIj57e3R5cGU9PWk/c2NyaXB0Lm5hbWU6Z3JvdXAubmFtZX19PC92LWJ0bj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3YtYnRuLXRvZ2dsZT5cXG4gICAgICAgICAgICAgICAgICAgIDwvdi1mbGV4PlxcbiAgICAgICAgICAgICAgICAgICAgPHYtZmxleCB4czEyPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx2LXRleHQtZmllbGQgb3V0bGluZSBzaW5nbGUtbGluZSBoaWRlLWRldGFpbHMgY2xhc3M9XFxcInRpdGxlXFxcIiA6YXBwZW5kLWljb249XFxcImV4cD09c2NyaXB0LmV4cD8nJzonc2V0dGluZ3NfYmFja3VwX3Jlc3RvcmUnXFxcIiBAY2xpY2s6YXBwZW5kPVxcXCJleHA9c2NyaXB0LmV4cFxcXCIgdi1tb2RlbD1cXFwiZXhwXFxcIj48L3YtdGV4dC1maWVsZD5cXG4gICAgICAgICAgICAgICAgICAgIDwvdi1mbGV4PlxcbiAgICAgICAgICAgICAgICAgICAgPHYtZmxleCB4czM+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHYtYnRuIGljb24gbGFyZ2UgOmRpc2FibGVkPVxcXCJkaXNhYmxlZFxcXCIgQGNsaWNrLnN0b3AucHJldmVudD1cXFwiaW5kZXg9MVxcXCIgc3R5bGU9XFxcIm1hcmdpbjogMCU7IHBhZGRpbmc6IDAlO1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2LWljb24+Zmlyc3RfcGFnZTwvdi1pY29uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdi1idG4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC92LWJ0bj5cXG4gICAgICAgICAgICAgICAgICAgIDwvdi1mbGV4PlxcbiAgICAgICAgICAgICAgICAgICAgPHYtZmxleCB4czM+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHYtYnRuIGljb24gbGFyZ2UgOmRpc2FibGVkPVxcXCJkaXNhYmxlZFxcXCIgQG1vdXNlZG93bj1cXFwiaW5kZXhEb3duKC0xKVxcXCIgQG1vdXNldXA9XFxcImluZGV4VXAoLTEpXFxcIiBAbW91c2VsZWF2ZT1cXFwiaW5kZXhVcCgtMSlcXFwiIEB0b3VjaHN0YXJ0LnN0b3AucHJldmVudD1cXFwiaW5kZXhEb3duKC0xKVxcXCIgQHRvdWNoZW5kLnN0b3AucHJldmVudD1cXFwiaW5kZXhVcCgtMSlcXFwiIHN0eWxlPVxcXCJtYXJnaW46IDAlOyBwYWRkaW5nOiAwJTtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8di1pY29uPmFycm93X2JhY2s8L3YtaWNvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3YtYnRuPlxcbiAgICAgICAgICAgICAgICAgICAgPC92LWZsZXg+XFxuICAgICAgICAgICAgICAgICAgICA8di1mbGV4IHhzMz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8di1idG4gaWNvbiBsYXJnZSA6ZGlzYWJsZWQ9XFxcImRpc2FibGVkXFxcIiBAbW91c2Vkb3duPVxcXCJpbmRleERvd24oMSlcXFwiIEBtb3VzZXVwPVxcXCJpbmRleFVwKDEpXFxcIiBAbW91c2VsZWF2ZT1cXFwiaW5kZXhVcCgxKVxcXCIgQHRvdWNoc3RhcnQuc3RvcC5wcmV2ZW50PVxcXCJpbmRleERvd24oMSlcXFwiIEB0b3VjaGVuZC5zdG9wLnByZXZlbnQ9XFxcImluZGV4VXAoMSlcXFwiIHN0eWxlPVxcXCJtYXJnaW46IDAlOyBwYWRkaW5nOiAwJTtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8di1pY29uPmFycm93X2ZvcndhcmQ8L3YtaWNvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3YtYnRuPlxcbiAgICAgICAgICAgICAgICAgICAgPC92LWZsZXg+XFxuICAgICAgICAgICAgICAgICAgICA8di1mbGV4IHhzMz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8di1idG4gaWNvbiBsYXJnZSA6ZGlzYWJsZWQ9XFxcImRpc2FibGVkXFxcIiBAY2xpY2suc3RvcC5wcmV2ZW50PVxcXCJpbmRleD1zY3JpcHRzW3R5cGVdLnNjcmlwdHMubGVuZ3RoXFxcIiBzdHlsZT1cXFwibWFyZ2luOiAwJTsgcGFkZGluZzogMCU7XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHYtaWNvbj5sYXN0X3BhZ2U8L3YtaWNvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3YtYnRuPlxcbiAgICAgICAgICAgICAgICAgICAgPC92LWZsZXg+XFxuICAgICAgICAgICAgICAgIDwvdi1sYXlvdXQ+XFxuICAgICAgICAgICAgPC92LWNvbnRhaW5lcj5cXG4gICAgICAgIDwvdi1jYXJkPlxcbiAgICA8L3YtYm90dG9tLXNoZWV0Plxcbjwvdi1jb250YWluZXI+XCIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n')},function(module,exports){eval('module.exports = "<v-container fluid grid-list-md text-xs-center v-show=\\"show\\">\\n    <v-layout row wrap>\\n        <v-flex xs12 style=\\"margin: 0%; padding: 0%; display: table; width: 100%;\\">\\n            <p class=\\"title\\" @click=\\"random\\" style=\\"\\n                border: 2px solid rgba(0,0,0,0.54);\\n                border-radius: 4px;\\n                display: table-cell;\\n                vertical-align:middle;\\n                width: 100%;\\n                height: 2.8em;\\n                min-width: 0%;\\n                min-height: 0%;\\n                margin: 0%;\\n                padding: 0%;\\n            \\">{{exp}}</p>\\n        </v-flex>\\n        <v-flex xs12 style=\\"margin: 0%; padding: 0%; display: table; width: 100%;\\">\\n            <p class=\\"display-4\\" :class=\\"color\\" @mousedown=\\"down(1)\\" @mouseup=\\"up(1)\\" @mouseleave=\\"up(1)\\" @touchstart.stop.prevent=\\"down(1)\\" @touchend.stop.prevent=\\"up(1)\\" style=\\"display: table-cell; vertical-align:middle; width: 100%; height: 2em; min-width: 0%; min-height: 0%; margin: 0%; padding: 0%;\\">{{time}}</p>\\n        </v-flex>\\n    </v-layout>\\n</v-container>"\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdnVlL1RpbWVyUGFuZWwvaW5kZXguaHRtbD9kZjE3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9KQUFvSixhQUFhLGdCQUFnQixhQUFhLG1IQUFtSCxxQ0FBcUMsc0NBQXNDLHdDQUF3Qyw4QkFBOEIsZ0NBQWdDLGdDQUFnQyxpQ0FBaUMsNkJBQTZCLDhCQUE4QixtQkFBbUIsS0FBSyxpRUFBaUUsYUFBYSxnQkFBZ0IsYUFBYSwyTkFBMk4sdUJBQXVCLGFBQWEsYUFBYSxlQUFlLGdCQUFnQixZQUFZLGFBQWEsS0FBSyxNQUFNIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHYtY29udGFpbmVyIGZsdWlkIGdyaWQtbGlzdC1tZCB0ZXh0LXhzLWNlbnRlciB2LXNob3c9XFxcInNob3dcXFwiPlxcbiAgICA8di1sYXlvdXQgcm93IHdyYXA+XFxuICAgICAgICA8di1mbGV4IHhzMTIgc3R5bGU9XFxcIm1hcmdpbjogMCU7IHBhZGRpbmc6IDAlOyBkaXNwbGF5OiB0YWJsZTsgd2lkdGg6IDEwMCU7XFxcIj5cXG4gICAgICAgICAgICA8cCBjbGFzcz1cXFwidGl0bGVcXFwiIEBjbGljaz1cXFwicmFuZG9tXFxcIiBzdHlsZT1cXFwiXFxuICAgICAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYmEoMCwwLDAsMC41NCk7XFxuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gICAgICAgICAgICAgICAgZGlzcGxheTogdGFibGUtY2VsbDtcXG4gICAgICAgICAgICAgICAgdmVydGljYWwtYWxpZ246bWlkZGxlO1xcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAyLjhlbTtcXG4gICAgICAgICAgICAgICAgbWluLXdpZHRoOiAwJTtcXG4gICAgICAgICAgICAgICAgbWluLWhlaWdodDogMCU7XFxuICAgICAgICAgICAgICAgIG1hcmdpbjogMCU7XFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAlO1xcbiAgICAgICAgICAgIFxcXCI+e3tleHB9fTwvcD5cXG4gICAgICAgIDwvdi1mbGV4PlxcbiAgICAgICAgPHYtZmxleCB4czEyIHN0eWxlPVxcXCJtYXJnaW46IDAlOyBwYWRkaW5nOiAwJTsgZGlzcGxheTogdGFibGU7IHdpZHRoOiAxMDAlO1xcXCI+XFxuICAgICAgICAgICAgPHAgY2xhc3M9XFxcImRpc3BsYXktNFxcXCIgOmNsYXNzPVxcXCJjb2xvclxcXCIgQG1vdXNlZG93bj1cXFwiZG93bigxKVxcXCIgQG1vdXNldXA9XFxcInVwKDEpXFxcIiBAbW91c2VsZWF2ZT1cXFwidXAoMSlcXFwiIEB0b3VjaHN0YXJ0LnN0b3AucHJldmVudD1cXFwiZG93bigxKVxcXCIgQHRvdWNoZW5kLnN0b3AucHJldmVudD1cXFwidXAoMSlcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiB0YWJsZS1jZWxsOyB2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDJlbTsgbWluLXdpZHRoOiAwJTsgbWluLWhlaWdodDogMCU7IG1hcmdpbjogMCU7IHBhZGRpbmc6IDAlO1xcXCI+e3t0aW1lfX08L3A+XFxuICAgICAgICA8L3YtZmxleD5cXG4gICAgPC92LWxheW91dD5cXG48L3YtY29udGFpbmVyPlwiIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n')},function(module,exports){eval('module.exports = "<v-app>\\n    <div v-resize=\\"resize\\">\\n        <div ref=cuber></div>\\n        <div ref=panel>\\n            <keyboard-panel :show=\\"mode == \'keyboard\'\\"></keyboard-panel>\\n            <script-panel :disabled=\\"lock\\" :show=\\"mode == \'script\'\\"></script-panel>\\n            <timer-panel :disabled=\\"lock\\" :show=\\"mode == \'timer\'\\"></timer-panel>\\n        </div>\\n        <v-btn :disabled=\\"lock\\" fixed top right icon large outline @click.stop.prevent=\\"onMenuClick\\">\\n            <v-icon>menu</v-icon>\\n        </v-btn>\\n        <v-btn fixed top left icon outline class=\\"title\\" @click.stop.prevent v-if=\\"mode == \'touch\' && exp != \'\'\\" style=\\"text-transform:none\\">{{exp}}</v-btn>\\n    </div>\\n    <v-bottom-sheet v-model=\\"menu\\">\\n        <v-card flat>\\n            <v-container fluid grid-list-md text-xs-center>\\n                <v-layout row wrap justify-center align-center>\\n                    <v-flex xs3>\\n                        <p style=\\"margin: 0%; padding: 0%; text-align: left\\">Mode:</p>\\n                    </v-flex>\\n                    <v-flex xs9>\\n                        <v-btn-toggle v-model=\\"mode\\" mandatory style=\\"width:100%\\">\\n                            <v-btn flat block value=\\"touch\\">\\n                                <v-icon>touch_app</v-icon>\\n                            </v-btn>\\n                            <v-btn flat block value=\\"keyboard\\">\\n                                <v-icon>keyboard</v-icon>\\n                            </v-btn>\\n                            <v-btn flat block value=\\"script\\">\\n                                <v-icon>videocam</v-icon>\\n                            </v-btn>\\n                            <v-btn flat block value=\\"timer\\">\\n                                <v-icon>timer</v-icon>\\n                            </v-btn>\\n                        </v-btn-toggle>\\n                    </v-flex>\\n                    <v-flex xs3>\\n                        <p style=\\"margin: 0%; padding: 0%; text-align: left;\\">Action:</p>\\n                    </v-flex>\\n                    <v-flex xs3>\\n                        <v-btn flat outline block @click.stop.prevent=\\"game.reset()\\" :disabled=\\"lock || !(mode==\'touch\' || mode==\'keyboard\')\\">\\n                            <v-icon>autorenew</v-icon>\\n                        </v-btn>\\n                    </v-flex>\\n                    <v-flex xs3>\\n                        <v-btn flat outline block @click.stop.prevent=\\"game.random()\\" :disabled=\\"lock || !(mode==\'touch\' || mode==\'keyboard\')\\">\\n                            <v-icon>casino</v-icon>\\n                        </v-btn>\\n                    </v-flex>\\n                    <v-flex xs3>\\n                        <v-btn flat outline block @click.stop.prevent=\\"reset()\\" color=\\"error\\" :disabled=\\"lock\\">\\n                            <v-icon>delete</v-icon>\\n                        </v-btn>\\n                    </v-flex>\\n                    <v-flex xs3>\\n                        <p style=\\"margin: 0%; padding: 0%; text-align: left\\">Frames:</p>\\n                    </v-flex>\\n                    <v-flex xs3>\\n                        <v-btn icon :disabled=\\"game.duration == 1\\" @click.stop.prevent=\\"game.duration--\\" style=\\"margin: 0%; padding: 0%;\\">\\n                            <v-icon>remove</v-icon>\\n                        </v-btn>\\n                    </v-flex>\\n                    <v-flex xs3>\\n                        <v-btn depressed outline @click.stop.prevent :ripple=\\"false\\" style=\\"margin: 0%; padding: 0%;\\">{{game.duration}}\\n                        </v-btn>\\n                    </v-flex>\\n                    <v-flex xs3>\\n                        <v-btn icon @click.stop.prevent=\\"game.duration++\\" style=\\"margin: 0%; padding: 0%;\\">\\n                            <v-icon>add</v-icon>\\n                        </v-btn>\\n                    </v-flex>\\n                </v-layout>\\n            </v-container>\\n        </v-card>\\n    </v-bottom-sheet>\\n</v-app>"\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdnVlL0FwcC9pbmRleC5odG1sP2M4OTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa3JCQUFrckIsS0FBSyxrU0FBa1MsYUFBYSxzOUJBQXM5QixhQUFhLGtCQUFrQiwwK0JBQTArQixhQUFhLGtPQUFrTyxhQUFhLHVRQUF1USxhQUFhLEtBQUssZUFBZSxvTUFBb00sYUFBYSIsImZpbGUiOiI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjx2LWFwcD5cXG4gICAgPGRpdiB2LXJlc2l6ZT1cXFwicmVzaXplXFxcIj5cXG4gICAgICAgIDxkaXYgcmVmPWN1YmVyPjwvZGl2PlxcbiAgICAgICAgPGRpdiByZWY9cGFuZWw+XFxuICAgICAgICAgICAgPGtleWJvYXJkLXBhbmVsIDpzaG93PVxcXCJtb2RlID09ICdrZXlib2FyZCdcXFwiPjwva2V5Ym9hcmQtcGFuZWw+XFxuICAgICAgICAgICAgPHNjcmlwdC1wYW5lbCA6ZGlzYWJsZWQ9XFxcImxvY2tcXFwiIDpzaG93PVxcXCJtb2RlID09ICdzY3JpcHQnXFxcIj48L3NjcmlwdC1wYW5lbD5cXG4gICAgICAgICAgICA8dGltZXItcGFuZWwgOmRpc2FibGVkPVxcXCJsb2NrXFxcIiA6c2hvdz1cXFwibW9kZSA9PSAndGltZXInXFxcIj48L3RpbWVyLXBhbmVsPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8di1idG4gOmRpc2FibGVkPVxcXCJsb2NrXFxcIiBmaXhlZCB0b3AgcmlnaHQgaWNvbiBsYXJnZSBvdXRsaW5lIEBjbGljay5zdG9wLnByZXZlbnQ9XFxcIm9uTWVudUNsaWNrXFxcIj5cXG4gICAgICAgICAgICA8di1pY29uPm1lbnU8L3YtaWNvbj5cXG4gICAgICAgIDwvdi1idG4+XFxuICAgICAgICA8di1idG4gZml4ZWQgdG9wIGxlZnQgaWNvbiBvdXRsaW5lIGNsYXNzPVxcXCJ0aXRsZVxcXCIgQGNsaWNrLnN0b3AucHJldmVudCB2LWlmPVxcXCJtb2RlID09ICd0b3VjaCcgJiYgZXhwICE9ICcnXFxcIiBzdHlsZT1cXFwidGV4dC10cmFuc2Zvcm06bm9uZVxcXCI+e3tleHB9fTwvdi1idG4+XFxuICAgIDwvZGl2PlxcbiAgICA8di1ib3R0b20tc2hlZXQgdi1tb2RlbD1cXFwibWVudVxcXCI+XFxuICAgICAgICA8di1jYXJkIGZsYXQ+XFxuICAgICAgICAgICAgPHYtY29udGFpbmVyIGZsdWlkIGdyaWQtbGlzdC1tZCB0ZXh0LXhzLWNlbnRlcj5cXG4gICAgICAgICAgICAgICAgPHYtbGF5b3V0IHJvdyB3cmFwIGp1c3RpZnktY2VudGVyIGFsaWduLWNlbnRlcj5cXG4gICAgICAgICAgICAgICAgICAgIDx2LWZsZXggeHMzPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPVxcXCJtYXJnaW46IDAlOyBwYWRkaW5nOiAwJTsgdGV4dC1hbGlnbjogbGVmdFxcXCI+TW9kZTo8L3A+XFxuICAgICAgICAgICAgICAgICAgICA8L3YtZmxleD5cXG4gICAgICAgICAgICAgICAgICAgIDx2LWZsZXggeHM5PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx2LWJ0bi10b2dnbGUgdi1tb2RlbD1cXFwibW9kZVxcXCIgbWFuZGF0b3J5IHN0eWxlPVxcXCJ3aWR0aDoxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHYtYnRuIGZsYXQgYmxvY2sgdmFsdWU9XFxcInRvdWNoXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2LWljb24+dG91Y2hfYXBwPC92LWljb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdi1idG4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2LWJ0biBmbGF0IGJsb2NrIHZhbHVlPVxcXCJrZXlib2FyZFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8di1pY29uPmtleWJvYXJkPC92LWljb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdi1idG4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2LWJ0biBmbGF0IGJsb2NrIHZhbHVlPVxcXCJzY3JpcHRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHYtaWNvbj52aWRlb2NhbTwvdi1pY29uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3YtYnRuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8di1idG4gZmxhdCBibG9jayB2YWx1ZT1cXFwidGltZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHYtaWNvbj50aW1lcjwvdi1pY29uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3YtYnRuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdi1idG4tdG9nZ2xlPlxcbiAgICAgICAgICAgICAgICAgICAgPC92LWZsZXg+XFxuICAgICAgICAgICAgICAgICAgICA8di1mbGV4IHhzMz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT1cXFwibWFyZ2luOiAwJTsgcGFkZGluZzogMCU7IHRleHQtYWxpZ246IGxlZnQ7XFxcIj5BY3Rpb246PC9wPlxcbiAgICAgICAgICAgICAgICAgICAgPC92LWZsZXg+XFxuICAgICAgICAgICAgICAgICAgICA8di1mbGV4IHhzMz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8di1idG4gZmxhdCBvdXRsaW5lIGJsb2NrIEBjbGljay5zdG9wLnByZXZlbnQ9XFxcImdhbWUucmVzZXQoKVxcXCIgOmRpc2FibGVkPVxcXCJsb2NrIHx8ICEobW9kZT09J3RvdWNoJyB8fCBtb2RlPT0na2V5Ym9hcmQnKVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2LWljb24+YXV0b3JlbmV3PC92LWljb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC92LWJ0bj5cXG4gICAgICAgICAgICAgICAgICAgIDwvdi1mbGV4PlxcbiAgICAgICAgICAgICAgICAgICAgPHYtZmxleCB4czM+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHYtYnRuIGZsYXQgb3V0bGluZSBibG9jayBAY2xpY2suc3RvcC5wcmV2ZW50PVxcXCJnYW1lLnJhbmRvbSgpXFxcIiA6ZGlzYWJsZWQ9XFxcImxvY2sgfHwgIShtb2RlPT0ndG91Y2gnIHx8IG1vZGU9PSdrZXlib2FyZCcpXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHYtaWNvbj5jYXNpbm88L3YtaWNvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3YtYnRuPlxcbiAgICAgICAgICAgICAgICAgICAgPC92LWZsZXg+XFxuICAgICAgICAgICAgICAgICAgICA8di1mbGV4IHhzMz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8di1idG4gZmxhdCBvdXRsaW5lIGJsb2NrIEBjbGljay5zdG9wLnByZXZlbnQ9XFxcInJlc2V0KClcXFwiIGNvbG9yPVxcXCJlcnJvclxcXCIgOmRpc2FibGVkPVxcXCJsb2NrXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHYtaWNvbj5kZWxldGU8L3YtaWNvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3YtYnRuPlxcbiAgICAgICAgICAgICAgICAgICAgPC92LWZsZXg+XFxuICAgICAgICAgICAgICAgICAgICA8di1mbGV4IHhzMz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT1cXFwibWFyZ2luOiAwJTsgcGFkZGluZzogMCU7IHRleHQtYWxpZ246IGxlZnRcXFwiPkZyYW1lczo8L3A+XFxuICAgICAgICAgICAgICAgICAgICA8L3YtZmxleD5cXG4gICAgICAgICAgICAgICAgICAgIDx2LWZsZXggeHMzPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx2LWJ0biBpY29uIDpkaXNhYmxlZD1cXFwiZ2FtZS5kdXJhdGlvbiA9PSAxXFxcIiBAY2xpY2suc3RvcC5wcmV2ZW50PVxcXCJnYW1lLmR1cmF0aW9uLS1cXFwiIHN0eWxlPVxcXCJtYXJnaW46IDAlOyBwYWRkaW5nOiAwJTtcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8di1pY29uPnJlbW92ZTwvdi1pY29uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdi1idG4+XFxuICAgICAgICAgICAgICAgICAgICA8L3YtZmxleD5cXG4gICAgICAgICAgICAgICAgICAgIDx2LWZsZXggeHMzPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx2LWJ0biBkZXByZXNzZWQgb3V0bGluZSBAY2xpY2suc3RvcC5wcmV2ZW50IDpyaXBwbGU9XFxcImZhbHNlXFxcIiBzdHlsZT1cXFwibWFyZ2luOiAwJTsgcGFkZGluZzogMCU7XFxcIj57e2dhbWUuZHVyYXRpb259fVxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdi1idG4+XFxuICAgICAgICAgICAgICAgICAgICA8L3YtZmxleD5cXG4gICAgICAgICAgICAgICAgICAgIDx2LWZsZXggeHMzPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx2LWJ0biBpY29uIEBjbGljay5zdG9wLnByZXZlbnQ9XFxcImdhbWUuZHVyYXRpb24rK1xcXCIgc3R5bGU9XFxcIm1hcmdpbjogMCU7IHBhZGRpbmc6IDAlO1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx2LWljb24+YWRkPC92LWljb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC92LWJ0bj5cXG4gICAgICAgICAgICAgICAgICAgIDwvdi1mbGV4PlxcbiAgICAgICAgICAgICAgICA8L3YtbGF5b3V0PlxcbiAgICAgICAgICAgIDwvdi1jb250YWluZXI+XFxuICAgICAgICA8L3YtY2FyZD5cXG4gICAgPC92LWJvdHRvbS1zaGVldD5cXG48L3YtYXBwPlwiIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n')},function(module,exports,__webpack_require__){eval("module.exports = (__webpack_require__(3))(14);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVsZWdhdGVkIC4vbm9kZV9tb2R1bGVzL3Z1ZXRpZnkvZGlzdC92dWV0aWZ5LmNzcyBmcm9tIGRsbC1yZWZlcmVuY2UgZGxsX2xpYnJhcnk/YWM0YSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAoX193ZWJwYWNrX3JlcXVpcmVfXygzKSkoMTQpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n")},function(module,exports,__webpack_require__){eval("module.exports = (__webpack_require__(3))(16);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVsZWdhdGVkIC4vbm9kZV9tb2R1bGVzL3R5cGVmYWNlLXJvYm90by9pbmRleC5jc3MgZnJvbSBkbGwtcmVmZXJlbmNlIGRsbF9saWJyYXJ5P2FmOGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKSgxNik7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///10\n")},function(module,exports,__webpack_require__){eval("module.exports = (__webpack_require__(3))(43);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVsZWdhdGVkIC4vbm9kZV9tb2R1bGVzL21hdGVyaWFsLWRlc2lnbi1pY29ucy9pY29uZm9udC9tYXRlcmlhbC1pY29ucy5jc3MgZnJvbSBkbGwtcmVmZXJlbmNlIGRsbF9saWJyYXJ5PzQ3M2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKSg0Myk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///11\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: delegated ./node_modules/vue/dist/vue.esm.js from dll-reference dll_library\nvar vue_esmfrom_dll_reference_dll_library = __webpack_require__(2);\n\n// EXTERNAL MODULE: delegated ./node_modules/vue-property-decorator/lib/vue-property-decorator.js from dll-reference dll_library\nvar vue_property_decoratorfrom_dll_reference_dll_library = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/vue/KeyboardPanel/index.ts\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (undefined && undefined.__metadata) || function (k, v) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\nlet KeyboardPanel_KeyboardPanel = class KeyboardPanel extends vue_esmfrom_dll_reference_dll_library["default"] {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.queue = [];\r\n        this.shift = [];\r\n        this.operations = [\r\n            "L",\r\n            "D",\r\n            "B",\r\n            "R",\r\n            "U",\r\n            "F",\r\n            "l",\r\n            "d",\r\n            "b",\r\n            "r",\r\n            "u",\r\n            "f",\r\n            "M",\r\n            "E",\r\n            "S",\r\n            "x",\r\n            "y",\r\n            "z"\r\n        ];\r\n    }\r\n    get suffix() {\r\n        let result = "";\r\n        result = result.concat(this.shift.indexOf("reverse") == -1 ? "" : "\'");\r\n        result = result.concat(this.shift.indexOf("double") == -1 ? "" : "2");\r\n        return result;\r\n    }\r\n    twist(operation) {\r\n        this.queue.push(operation);\r\n        this.app.game.twister.twist(operation, false, 1, this.callback, false);\r\n    }\r\n    callback() {\r\n        this.queue.shift();\r\n    }\r\n};\r\n__decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Inject"])(\'app\'),\r\n    __metadata("design:type", vue_App)\r\n], KeyboardPanel_KeyboardPanel.prototype, "app", void 0);\r\n__decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Prop"])({ default: false }),\r\n    __metadata("design:type", Boolean)\r\n], KeyboardPanel_KeyboardPanel.prototype, "show", void 0);\r\n__decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Prop"])({ default: false }),\r\n    __metadata("design:type", Boolean)\r\n], KeyboardPanel_KeyboardPanel.prototype, "disabled", void 0);\r\nKeyboardPanel_KeyboardPanel = __decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Component"])({\r\n        template: __webpack_require__(5)\r\n    })\r\n], KeyboardPanel_KeyboardPanel);\r\n/* harmony default export */ var vue_KeyboardPanel = (KeyboardPanel_KeyboardPanel);\r\n\n// EXTERNAL MODULE: delegated ./node_modules/three/build/three.module.js from dll-reference dll_library\nvar three_modulefrom_dll_reference_dll_library = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/cube/group.ts\n\r\n\r\nclass group_CubeletGroup extends three_modulefrom_dll_reference_dll_library["Group"] {\r\n    constructor(name, indices, axis) {\r\n        super();\r\n        this._cubelets = [];\r\n        this.name = name;\r\n        this._indices = indices;\r\n        this.axis = axis;\r\n        this.matrixAutoUpdate = false;\r\n        this.updateMatrix();\r\n    }\r\n    set angle(angle) {\r\n        this.setRotationFromAxisAngle(this.axis, angle);\r\n        this._angle = angle;\r\n        this.updateMatrix();\r\n    }\r\n    get angle() {\r\n        return this._angle;\r\n    }\r\n    get exp() {\r\n        let reverse = this._angle > 0;\r\n        let times = Math.round(Math.abs(this._angle) / (Math.PI / 2));\r\n        let action = new TwistAction();\r\n        action.exp = this.name;\r\n        action.times = times;\r\n        action.reverse = reverse;\r\n        return action.format();\r\n    }\r\n    hold(game) {\r\n        this._angle = 0;\r\n        this._indices.forEach(i => {\r\n            let cubelet = game.cube.cubelets[i];\r\n            this._cubelets.push(cubelet);\r\n            game.cube.remove(cubelet);\r\n            this.add(cubelet);\r\n        }, this);\r\n        game.lock = true;\r\n    }\r\n    revert(game) {\r\n        let angle = -this._angle;\r\n        if (angle === 0) {\r\n            while (true) {\r\n                let cubelet = this._cubelets.pop();\r\n                if (undefined === cubelet) {\r\n                    break;\r\n                }\r\n                this.remove(cubelet);\r\n                game.cube.add(cubelet);\r\n                game.cube.cubelets[cubelet.index] = cubelet;\r\n            }\r\n            this._angle = 0;\r\n            game.lock = false;\r\n            game.dirty = true;\r\n        }\r\n        else {\r\n            var duration = game.duration * Math.min(0.5, Math.abs(angle) / Math.PI);\r\n            game.tweener.tween(this.angle, this.angle + angle, duration, (value) => {\r\n                this.angle = value;\r\n                game.dirty = true;\r\n            }, () => {\r\n                this.revert(game);\r\n            });\r\n        }\r\n    }\r\n    adjust(game) {\r\n        let angle = Math.round(this._angle / (Math.PI / 2)) * (Math.PI / 2) - this._angle;\r\n        if (angle === 0) {\r\n            while (true) {\r\n                let cubelet = this._cubelets.pop();\r\n                if (undefined === cubelet) {\r\n                    break;\r\n                }\r\n                this.rotate(cubelet);\r\n                this.remove(cubelet);\r\n                game.cube.add(cubelet);\r\n                game.cube.cubelets[cubelet.index] = cubelet;\r\n            }\r\n            game.lock = false;\r\n            game.dirty = true;\r\n            for (let callback of game.callbacks) {\r\n                callback(this.exp);\r\n            }\r\n            this._angle = 0;\r\n        }\r\n        else {\r\n            var duration = game.duration * Math.min(0.5, Math.abs(angle) / Math.PI);\r\n            game.tweener.tween(this.angle, this.angle + angle, duration, (value) => {\r\n                this.angle = value;\r\n                game.dirty = true;\r\n            }, () => {\r\n                this.adjust(game);\r\n            });\r\n        }\r\n    }\r\n    rotate(cubelet) {\r\n        cubelet.rotateOnWorldAxis(this.axis, this._angle);\r\n        cubelet.vector = cubelet.vector.applyAxisAngle(this.axis, this._angle);\r\n        cubelet.updateMatrix();\r\n    }\r\n}\r\ngroup_CubeletGroup.GROUPS = {\r\n    L: new group_CubeletGroup("L", [0, 3, 6, 9, 12, 15, 18, 21, 24], new three_modulefrom_dll_reference_dll_library["Vector3"](-1, 0, 0)),\r\n    D: new group_CubeletGroup("D", [0, 1, 2, 9, 10, 11, 18, 19, 20], new three_modulefrom_dll_reference_dll_library["Vector3"](0, -1, 0)),\r\n    B: new group_CubeletGroup("B", [0, 1, 2, 3, 4, 5, 6, 7, 8], new three_modulefrom_dll_reference_dll_library["Vector3"](0, 0, -1)),\r\n    R: new group_CubeletGroup("R", [2, 5, 8, 11, 14, 17, 20, 23, 26], new three_modulefrom_dll_reference_dll_library["Vector3"](+1, 0, 0)),\r\n    U: new group_CubeletGroup("U", [6, 7, 8, 15, 16, 17, 24, 25, 26], new three_modulefrom_dll_reference_dll_library["Vector3"](0, +1, 0)),\r\n    F: new group_CubeletGroup("F", [18, 19, 20, 21, 22, 23, 24, 25, 26], new three_modulefrom_dll_reference_dll_library["Vector3"](0, 0, +1)),\r\n    l: new group_CubeletGroup("l", [0, 3, 6, 9, 12, 15, 18, 21, 24, 1, 4, 7, 10, 13, 16, 19, 22, 25], new three_modulefrom_dll_reference_dll_library["Vector3"](-1, 0, 0)),\r\n    d: new group_CubeletGroup("d", [0, 1, 2, 9, 10, 11, 18, 19, 20, 3, 4, 5, 12, 13, 14, 21, 22, 23], new three_modulefrom_dll_reference_dll_library["Vector3"](0, -1, 0)),\r\n    b: new group_CubeletGroup("b", [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17], new three_modulefrom_dll_reference_dll_library["Vector3"](0, 0, -1)),\r\n    r: new group_CubeletGroup("r", [2, 5, 8, 11, 14, 17, 20, 23, 26, 1, 4, 7, 10, 13, 16, 19, 22, 25], new three_modulefrom_dll_reference_dll_library["Vector3"](+1, 0, 0)),\r\n    u: new group_CubeletGroup("u", [6, 7, 8, 15, 16, 17, 24, 25, 26, 3, 4, 5, 12, 13, 14, 21, 22, 23], new three_modulefrom_dll_reference_dll_library["Vector3"](0, +1, 0)),\r\n    f: new group_CubeletGroup("f", [18, 19, 20, 21, 22, 23, 24, 25, 26, 9, 10, 11, 12, 13, 14, 15, 16, 17], new three_modulefrom_dll_reference_dll_library["Vector3"](0, 0, +1)),\r\n    M: new group_CubeletGroup("M", [1, 4, 7, 10, 13, 16, 19, 22, 25], new three_modulefrom_dll_reference_dll_library["Vector3"](-1, 0, 0)),\r\n    E: new group_CubeletGroup("E", [3, 4, 5, 12, 13, 14, 21, 22, 23], new three_modulefrom_dll_reference_dll_library["Vector3"](0, -1, 0)),\r\n    S: new group_CubeletGroup("S", [9, 10, 11, 12, 13, 14, 15, 16, 17], new three_modulefrom_dll_reference_dll_library["Vector3"](0, 0, +1)),\r\n    x: new group_CubeletGroup("x", [\r\n        0,\r\n        1,\r\n        2,\r\n        3,\r\n        4,\r\n        5,\r\n        6,\r\n        7,\r\n        8,\r\n        9,\r\n        10,\r\n        11,\r\n        12,\r\n        13,\r\n        14,\r\n        15,\r\n        16,\r\n        17,\r\n        18,\r\n        19,\r\n        20,\r\n        21,\r\n        22,\r\n        23,\r\n        24,\r\n        25,\r\n        26\r\n    ], new three_modulefrom_dll_reference_dll_library["Vector3"](+1, 0, 0)),\r\n    y: new group_CubeletGroup("y", [\r\n        0,\r\n        1,\r\n        2,\r\n        3,\r\n        4,\r\n        5,\r\n        6,\r\n        7,\r\n        8,\r\n        9,\r\n        10,\r\n        11,\r\n        12,\r\n        13,\r\n        14,\r\n        15,\r\n        16,\r\n        17,\r\n        18,\r\n        19,\r\n        20,\r\n        21,\r\n        22,\r\n        23,\r\n        24,\r\n        25,\r\n        26\r\n    ], new three_modulefrom_dll_reference_dll_library["Vector3"](0, +1, 0)),\r\n    z: new group_CubeletGroup("z", [\r\n        0,\r\n        1,\r\n        2,\r\n        3,\r\n        4,\r\n        5,\r\n        6,\r\n        7,\r\n        8,\r\n        9,\r\n        10,\r\n        11,\r\n        12,\r\n        13,\r\n        14,\r\n        15,\r\n        16,\r\n        17,\r\n        18,\r\n        19,\r\n        20,\r\n        21,\r\n        22,\r\n        23,\r\n        24,\r\n        25,\r\n        26\r\n    ], new three_modulefrom_dll_reference_dll_library["Vector3"](0, 0, +1))\r\n};\r\n\n// CONCATENATED MODULE: ./src/cube/twister.ts\n\r\nclass twister_Twister {\r\n    constructor(game) {\r\n        this._queue = [];\r\n        this._game = game;\r\n    }\r\n    get length() {\r\n        return this._queue.length;\r\n    }\r\n    twist(exp, reverse = false, times = 1, callback = null, fast = false) {\r\n        let list = new TwistNode(exp, reverse, times).parse();\r\n        if (fast) {\r\n            list.forEach(function (element) {\r\n                let angle = -Math.PI / 2;\r\n                if (element.reverse) {\r\n                    angle = -angle;\r\n                }\r\n                if (element.times) {\r\n                    angle = angle * element.times;\r\n                }\r\n                let part = group_CubeletGroup.GROUPS[element.exp];\r\n                if (part === undefined) {\r\n                    return;\r\n                }\r\n                part.hold(this._game);\r\n                part.angle = angle;\r\n                part.adjust(this._game);\r\n            }, this);\r\n            if (callback) {\r\n                callback();\r\n            }\r\n        }\r\n        else {\r\n            list[list.length - 1].callback = callback;\r\n            list.forEach(function (element) {\r\n                this._queue.push(element);\r\n            }, this);\r\n            this.update();\r\n        }\r\n    }\r\n    update() {\r\n        if (this._queue.length === 0 || this._game.lock) {\r\n            return false;\r\n        }\r\n        let twist = this._queue.shift();\r\n        if (undefined == twist) {\r\n            return false;\r\n        }\r\n        this.start(twist);\r\n        return true;\r\n    }\r\n    start(action) {\r\n        let angle = -Math.PI / 2;\r\n        if (action.reverse) {\r\n            angle = -angle;\r\n        }\r\n        if (action.times) {\r\n            angle = angle * action.times;\r\n        }\r\n        let duration = this._game.duration * Math.min(0.5, Math.abs(angle) / Math.PI);\r\n        let part = group_CubeletGroup.GROUPS[action.exp];\r\n        if (part === undefined) {\r\n            return;\r\n        }\r\n        part.hold(this._game);\r\n        this._game.tweener.tween(part.angle, part.angle + angle, duration, (value) => {\r\n            part.angle = value;\r\n            this._game.dirty = true;\r\n        }, () => {\r\n            part.adjust(this._game);\r\n            if (action.callback) {\r\n                action.callback();\r\n            }\r\n            this.update();\r\n            this._game.dirty = true;\r\n        });\r\n    }\r\n    match(holder) {\r\n        let g;\r\n        let result = [];\r\n        var index = holder.index;\r\n        if (holder.index === -1) {\r\n            g = group_CubeletGroup.GROUPS.x;\r\n            if (g.axis.dot(holder.plane.normal) === 0) {\r\n                result.push(g);\r\n            }\r\n            g = group_CubeletGroup.GROUPS.y;\r\n            if (g.axis.dot(holder.plane.normal) === 0) {\r\n                result.push(g);\r\n            }\r\n            g = group_CubeletGroup.GROUPS.z;\r\n            if (g.axis.dot(holder.plane.normal) === 0) {\r\n                result.push(g);\r\n            }\r\n            return result;\r\n        }\r\n        var x = (index % 3) - 1;\r\n        var y = Math.floor((index % 9) / 3) - 1;\r\n        var z = Math.floor(index / 9) - 1;\r\n        switch (x) {\r\n            case -1:\r\n                g = group_CubeletGroup.GROUPS.L;\r\n                if (g.axis.dot(holder.plane.normal) === 0) {\r\n                    result.push(g);\r\n                }\r\n                break;\r\n            case 0:\r\n                g = group_CubeletGroup.GROUPS.M;\r\n                if (g.axis.dot(holder.plane.normal) === 0) {\r\n                    result.push(g);\r\n                }\r\n                break;\r\n            case 1:\r\n                g = group_CubeletGroup.GROUPS.R;\r\n                if (g.axis.dot(holder.plane.normal) === 0) {\r\n                    result.push(g);\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        switch (y) {\r\n            case -1:\r\n                g = group_CubeletGroup.GROUPS.D;\r\n                if (g.axis.dot(holder.plane.normal) === 0) {\r\n                    result.push(g);\r\n                }\r\n                break;\r\n            case 0:\r\n                g = group_CubeletGroup.GROUPS.E;\r\n                if (g.axis.dot(holder.plane.normal) === 0) {\r\n                    result.push(g);\r\n                }\r\n                break;\r\n            case 1:\r\n                g = group_CubeletGroup.GROUPS.U;\r\n                if (g.axis.dot(holder.plane.normal) === 0) {\r\n                    result.push(g);\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        switch (z) {\r\n            case -1:\r\n                g = group_CubeletGroup.GROUPS.B;\r\n                if (g.axis.dot(holder.plane.normal) === 0) {\r\n                    result.push(g);\r\n                }\r\n                break;\r\n            case 0:\r\n                g = group_CubeletGroup.GROUPS.S;\r\n                if (g.axis.dot(holder.plane.normal) === 0) {\r\n                    result.push(g);\r\n                }\r\n                break;\r\n            case 1:\r\n                g = group_CubeletGroup.GROUPS.F;\r\n                if (g.axis.dot(holder.plane.normal) === 0) {\r\n                    result.push(g);\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n}\r\nclass TwistAction {\r\n    constructor() {\r\n        this.exp = "";\r\n        this.reverse = false;\r\n        this.times = 1;\r\n        this.callback = null;\r\n    }\r\n    format() {\r\n        return this.times == 0\r\n            ? ""\r\n            : (this.exp.length > 1 ? "(" : "") +\r\n                this.exp +\r\n                (this.exp.length > 1 ? ")" : "") +\r\n                (this.reverse ? "\'" : "") +\r\n                (this.times == 1 ? "" : String(this.times));\r\n    }\r\n}\r\nclass TwistNode {\r\n    constructor(exp, reverse = false, times = 1) {\r\n        this._children = [];\r\n        this._twist = new TwistAction();\r\n        let list = exp\r\n            .replace(/[^xyzbsfdeulmr\\(\\)\'0123456789]/gi, "")\r\n            .match(/\\([xyzbsfdeulmr\'\\d]+\\)(\'\\d*|\\d*\'|\\d*)|[xyzbsfdeulmr](\'\\d*|\\d*\'|\\d*)/gi);\r\n        if (null === list) {\r\n            return;\r\n        }\r\n        if (list.length == 1) {\r\n            var values = list[0].match(/^\\((\\S+)\\)(\'?)(\\d*)(\'?)$/i);\r\n            if (values === null) {\r\n                values = list[0].match(/([xyzbsfdeulmr])(\'?)(\\d*)(\'?)/i);\r\n                if (null === values) {\r\n                    return;\r\n                }\r\n                this._twist.exp = values[1];\r\n                if (/[XYZ]/.test(this._twist.exp)) {\r\n                    this._twist.exp = this._twist.exp.toLowerCase();\r\n                }\r\n                if (/[mes]/.test(this._twist.exp)) {\r\n                    this._twist.exp = this._twist.exp.toUpperCase();\r\n                }\r\n            }\r\n            else {\r\n                this._children.push(new TwistNode(values[1]));\r\n            }\r\n            this._twist.reverse = (values[2] + values[4]).length == 0 ? false : true;\r\n            this._twist.times = values[3].length == 0 ? 1 : parseInt(values[3]);\r\n            this._twist.reverse = this._twist.reverse !== reverse;\r\n            this._twist.times = this._twist.times * times;\r\n        }\r\n        else {\r\n            this._twist.exp = exp;\r\n            this._twist.reverse = reverse;\r\n            this._twist.times = times;\r\n            list.forEach(function (c) {\r\n                var t = new TwistNode(c);\r\n                this._children.push(t);\r\n            }, this);\r\n        }\r\n    }\r\n    parse(reverse = false) {\r\n        reverse = this._twist.reverse !== reverse;\r\n        let _result = [];\r\n        if (0 !== this._children.length) {\r\n            for (var i = 0; i < this._twist.times; i++) {\r\n                for (var j = 0; j < this._children.length; j++) {\r\n                    var n;\r\n                    if (reverse) {\r\n                        n = this._children[this._children.length - j - 1];\r\n                    }\r\n                    else {\r\n                        n = this._children[j];\r\n                    }\r\n                    var list = n.parse(reverse);\r\n                    list.forEach(function (element) {\r\n                        _result.push(element);\r\n                    }, this);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            let action = new TwistAction();\r\n            action.exp = this._twist.exp;\r\n            action.reverse = reverse;\r\n            action.times = this._twist.times;\r\n            _result.push(action);\r\n        }\r\n        return _result;\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/vue/ScriptPanel/index.ts\nvar ScriptPanel_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar ScriptPanel_metadata = (undefined && undefined.__metadata) || function (k, v) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\nlet ScriptPanel_ScriptPanel = class ScriptPanel extends vue_esmfrom_dll_reference_dll_library["default"] {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.progress = 0;\r\n        this.playing = false;\r\n        this.dialog = false;\r\n        this.type = Number(window.localStorage.getItem("script.type") || 0);\r\n        this.index = Number(window.localStorage.getItem("script.index") || 1);\r\n        this.scripts = [\r\n            {\r\n                name: "F2L",\r\n                strips: [\r\n                    {\r\n                        indexs: [6, 7, 8, 15, 16, 17, 24, 25, 26],\r\n                        faces: [0, 1, 2, 3, 4, 5]\r\n                    }\r\n                ],\r\n                scripts: [\r\n                    { name: "F2L-01", exp: "URU\'R\'" },\r\n                    { name: "F2L-02", exp: "x(UR\'U\'l)" },\r\n                    { name: "F2L-03", exp: "y\'(R\'U\'R)y" },\r\n                    { name: "F2L-04", exp: "(RUR\')" },\r\n                    { name: "F2L-05", exp: "y\'R2y\'(R\'U\'RU)yR2y" },\r\n                    { name: "F2L-06", exp: "R2y(RUR\'U\')y\'R2" },\r\n                    { name: "F2L-07", exp: "U\'(RU\'U\')(R\'U2)(RU\'R\')" },\r\n                    { name: "F2L-08", exp: "d(R\'U2)(RU\'U\')(R\'UR)y" },\r\n                    { name: "F2L-09", exp: "(R2U)y(RU\'R\'F2)y\'" },\r\n                    { name: "F2L-10", exp: "y\'(R2U\')(F\'UF)R2y" },\r\n                    { name: "F2L-11", exp: "y\'(RU\'U\')R\'2U\'R2U\'R\'y" },\r\n                    { name: "F2L-12", exp: "(R\'U2)(R2\'U)(R2\'UR)" },\r\n                    { name: "F2L-13", exp: "d(R\'URU\')(R\'U\'R)y" },\r\n                    { name: "F2L-14", exp: "U\'(RU\'R\'U)(RUR\')" },\r\n                    { name: "F2L-15", exp: "y\'(R\'U)(Rd\'U\')(RUR\')" },\r\n                    { name: "F2L-16", exp: "(RU\'R\'U)(dR\'U\'R)y" },\r\n                    { name: "F2L-17", exp: "(RU\'U\')(R\'U\'RU)R\'" },\r\n                    { name: "F2L-18", exp: "y\'(R\'U2)(RUR\'U\')Ry" },\r\n                    { name: "F2L-19", exp: "U(RU\'U\')(R\'URU\')R\'" },\r\n                    { name: "F2L-20", exp: "d\'zU\'(R2U)(R\'U\'RU)z\'y\'" },\r\n                    { name: "F2L-21", exp: "Ry(RU2R\'F\')y\'" },\r\n                    { name: "F2L-22", exp: "F\'L\'U2rUx\'" },\r\n                    { name: "F2L-23", exp: "(U2R2\'U2)(R\'U\'RU\'R2)" },\r\n                    { name: "F2L-24", exp: "y\'(U2R2\'U2)(RUR\'UR2)y" },\r\n                    { name: "F2L-25", exp: "yU\'(L\'ULU)y\'(RU\'R\')" },\r\n                    { name: "F2L-26", exp: "(URU\'R\'U\')y\'(R\'UR)y" },\r\n                    { name: "F2L-27", exp: "(RU\'R\'U)(RU\'R\')" },\r\n                    { name: "F2L-28", exp: "y\'(R\'U)(RU\')(R\'UR)y" },\r\n                    { name: "F2L-29", exp: "y\'(R\'U\'RU)(R\'U\'R)y" },\r\n                    { name: "F2L-30", exp: "(RUR\'U\')(RUR\')" },\r\n                    { name: "F2L-31", exp: "(RU\'R\')y\'(R\'U2R)y" },\r\n                    { name: "F2L-32", exp: "(RUR\'U\')2(RUR\')" },\r\n                    { name: "F2L-33", exp: "U\'(RU\')(R\'U2)(RU\'R\')" },\r\n                    { name: "F2L-34", exp: "U\'(RU\'U\'R\'U)(RUR\')" },\r\n                    { name: "F2L-35", exp: "U\'(RUR\')d(R\'U\'R)y" },\r\n                    { name: "F2L-36", exp: "d(R\'U\'R)d\'(RUR\')" },\r\n                    { name: "F2L-37", exp: "(RU\'2R\'U)2y\'(R\'U\'R)y" },\r\n                    { name: "F2L-38", exp: "(RUR\'U\')(RU\'U\'R\'U\')(RUR\')" },\r\n                    { name: "F2L-39", exp: "(RU\'U\')(RUR\'U)(RU\'U\')R2" },\r\n                    { name: "F2L-40", exp: "(RU\'RU)y(RU\'R\'F2)y\'" },\r\n                    { name: "F2L-41", exp: "R2y(RUR\'U\')y\'(R\'UR\')" }\r\n                ]\r\n            },\r\n            {\r\n                name: "OLL",\r\n                strips: [\r\n                    {\r\n                        indexs: [6, 7, 8, 15, 16, 17, 24, 25, 26],\r\n                        faces: [0, 1, 2, 4, 5]\r\n                    }\r\n                ],\r\n                scripts: [\r\n                    { name: "OLL-01", exp: "(RU\'2)(R2\'FRF\')U2(R\'FRF\')" },\r\n                    { name: "OLL-02", exp: "(FRUR\'U\'F\')(fRUR\'U\'f\')" },\r\n                    { name: "OLL-03", exp: "f(RUR\'U\')f\'U\'F(RUR\'U\')F\'" },\r\n                    { name: "OLL-04", exp: "f(RUR\'U\')yx(R\'F)(RUR\'U\')F\'y\'" },\r\n                    { name: "OLL-05", exp: "(r\'U2)(RUR\'U)r" },\r\n                    { name: "OLL-06", exp: "(rU\'2)(R\'U\'RU\'r\')" },\r\n                    { name: "OLL-07", exp: "rUR\'URU\'2r\'" },\r\n                    { name: "OLL-08", exp: "r\'U\'RU\'R\'U2r" },\r\n                    { name: "OLL-09", exp: "(R\'U\'R)y\'x\'(RU\')(R\'F)(RUR\')xy" },\r\n                    { name: "OLL-10", exp: "(RUR\'U)(R\'FRF\')(RU\'2R\')" },\r\n                    { name: "OLL-11", exp: "r\'(R2UR\'U)(RU\'2R\'U)(rR\')" },\r\n                    { name: "OLL-12", exp: "L2lU\'z(UR\'U\')(R2UR\')z\'rR\'" },\r\n                    { name: "OLL-13", exp: "(rU\'r\'U\')(rUr\')(F\'UF)" },\r\n                    { name: "OLL-14", exp: "R\'FRUR\'F\'R(FU\'F\')" },\r\n                    { name: "OLL-15", exp: "(r\'U\'r)(R\'U\'RU)(r\'Ur)" },\r\n                    { name: "OLL-16", exp: "RBR\'LUL\'U\'RB\'R\'" },\r\n                    { name: "OLL-17", exp: "(RUR\'U)(R\'FRF\'U2)R\'FRF\'" },\r\n                    { name: "OLL-18", exp: "F(RUR\'d)(R\'U2)(R\'FRF\')y" },\r\n                    { name: "OLL-19", exp: "R\'U2FRUR\'U\'y\'R2U\'2RBy" },\r\n                    { name: "OLL-20", exp: "r\'(RU)(RUR\'U\'r2)(R2\'U)(RU\')r\'" },\r\n                    { name: "OLL-21", exp: "(RU\'2)(R\'U\'RUR\'U\')(RU\'R\')" },\r\n                    { name: "OLL-22", exp: "RU\'2(R\'2U\')(R2U\')R\'2U\'2R" },\r\n                    { name: "OLL-23", exp: "(R2D\')(RU2)(R\'D)(RU2R)" },\r\n                    { name: "OLL-24", exp: "(rUR\'U\')(r\'FRF\')" },\r\n                    { name: "OLL-25", exp: "F\'(rUR\'U\')(r\'FR)" },\r\n                    { name: "OLL-26", exp: "RU\'2R\'U\'RU\'R\'" },\r\n                    { name: "OLL-27", exp: "R\'U2RUR\'UR" },\r\n                    { name: "OLL-28", exp: "(rUR\'U\')(r\'RU)(RU\'R\')" },\r\n                    { name: "OLL-29", exp: "(R2U\'R)F(R\'U)(R2U\')(R\'F\'R)" },\r\n                    { name: "OLL-30", exp: "(R2UR\'B\')(RU\')(R2\'U)(lUl\')" },\r\n                    { name: "OLL-31", exp: "(r\'F\'UF)(LF\'L\'U\'r)" },\r\n                    { name: "OLL-32", exp: "(RU)(B\'U\')(R\'URBR\')" },\r\n                    { name: "OLL-33", exp: "(RUR\'U\')(R\'FRF\')" },\r\n                    { name: "OLL-34", exp: "(R\'U\'RU)x\'z\'(RU)(L\'U\')rR\'y" },\r\n                    { name: "OLL-35", exp: "RU\'2R2\'FRF\'(RU\'2R\')" },\r\n                    { name: "OLL-36", exp: "R\'U\'RU\'R\'URUlU\'R\'Ux" },\r\n                    { name: "OLL-37", exp: "F(RU\'R\'U\'RU)(R\'F\')" },\r\n                    { name: "OLL-38", exp: "(RUR\'U)(RU\'R\'U\')(R\'FRF\')" },\r\n                    { name: "OLL-39", exp: "(LF\'L\'U\'LU)(FU\'L\')" },\r\n                    { name: "OLL-40", exp: "(R\'FRUR\'U\')(F\'UR)" },\r\n                    { name: "OLL-41", exp: "RU\'R\'U2RUyRU\'R\'U\'F\'y\'" },\r\n                    { name: "OLL-42", exp: "(R\'URU\'2R\'U\')(F\'U)(FUR)" },\r\n                    { name: "OLL-43", exp: "(B\'U\')(R\'URB)" },\r\n                    { name: "OLL-44", exp: "f(RUR\'U\')f\'" },\r\n                    { name: "OLL-45", exp: "F(RUR\'U\')F\'" },\r\n                    { name: "OLL-46", exp: "(R\'U\')R\'FRF\'(UR)" },\r\n                    { name: "OLL-47", exp: "B\'(R\'U\'RU)2B" },\r\n                    { name: "OLL-48", exp: "F(RUR\'U\')2F\'" },\r\n                    { name: "OLL-49", exp: "RB\'(R2F)(R2B)R2F\'R" },\r\n                    { name: "OLL-50", exp: "L\'B(L2F\')(L2B\')L2FL\'" },\r\n                    { name: "OLL-51", exp: "f(RUR\'U\')2f\'" },\r\n                    { name: "OLL-52", exp: "R\'U\'RU\'R\'dR\'UlUxy" },\r\n                    { name: "OLL-53", exp: "(r\'U2)(RUR\'U\')(RUR\'U)r" },\r\n                    { name: "OLL-54", exp: "(rU\'2)(R\'U\'RUR\'U\')(RU\'r\')" },\r\n                    { name: "OLL-55", exp: "(RU\'2)(R\'2U\')RU\'R\'U2(FRF\')" },\r\n                    { name: "OLL-56", exp: "F(RUR\'U\')(RF\')(rUR\'U\')r\'" },\r\n                    { name: "OLL-57", exp: "(RUR\'U\'r)(R\'U)(RU\'r\')" }\r\n                ]\r\n            },\r\n            {\r\n                name: "PLL",\r\n                strips: [],\r\n                scripts: [\r\n                    { name: "PLL-Aa", exp: "x(R2U\'2)(R\'D\')(RU\'2)(R\'DR\')x\'" },\r\n                    { name: "PLL-Ab", exp: "x(RD\'R)U2R\'DRU2R\'2x\'" },\r\n                    {\r\n                        name: "PLL-E",\r\n                        exp: "x\'(RU\'R\'DRUR\')u2\'(R\'URDR\'U\'R)x\'y2"\r\n                    },\r\n                    {\r\n                        name: "PLL-F",\r\n                        exp: "(R\'U\'F\')(RUR\'U\')(R\'FR2U\'R\'U\')(RUR\'UR)"\r\n                    },\r\n                    { name: "PLL-Ga", exp: "(R2uR\')(UR\'U\'Ru\')(R\'2F\'UF)" },\r\n                    { name: "PLL-Gb", exp: "(R\'d\'F)(R2u)(R\'URU\'Ru\'R\'2)y\'" },\r\n                    { name: "PLL-Gc", exp: "(R\'2u\'RU\'R)(UR\'u)(R2fR\'f\')" },\r\n                    { name: "PLL-Gd", exp: "(RUR\')y\'(R2u\'RU\'R\'U)(R\'uR2)y" },\r\n                    { name: "PLL-H", exp: "M2UM2U2M2UM2" },\r\n                    { name: "PLL-Ja", exp: "z(U\'RD\')(R2UR\'U\')(R2UDR\')z\'" },\r\n                    { name: "PLL-Jb", exp: "(RUR\'F\')(RUR\'U\')(R\'F)(R2U\'R\')" },\r\n                    {\r\n                        name: "PLL-Na",\r\n                        exp: "z(R\'UR\')z\'(RU2L\'UR\')z(UR\')z\'(RU2L\'UR\')"\r\n                    },\r\n                    {\r\n                        name: "PLL-Nb",\r\n                        exp: "z(U\'RD\')(R2UR\'U\')z\'(RUR\')z(R2UR\')z\'(RU\')"\r\n                    },\r\n                    { name: "PLL-Ra", exp: "(RU\'2)(R\'U2)(RB\'R\'U\')(RURBR2\'U)" },\r\n                    {\r\n                        name: "PLL-Rb",\r\n                        exp: "(R\'U2)(RU\'2)(R\'FRUR\'U\')(R\'F\'R2U\')"\r\n                    },\r\n                    { name: "PLL-T", exp: "(RUR\'U\')(R\'F)(R2U\'R\'U\'RUR\'F\')" },\r\n                    { name: "PLL-Ua", exp: "(RU\'R)(URUR)(U\'R\'U\'R2)" },\r\n                    { name: "PLL-Ub", exp: "(R2U)(RUR\'U\')(R\'U\')(R\'UR\')" },\r\n                    {\r\n                        name: "PLL-V",\r\n                        exp: "(R\'UR\'U\'yx2)(R\'UR\'U\'yx)(U2R\'U\'RUR)x"\r\n                    },\r\n                    {\r\n                        name: "PLL-Y",\r\n                        exp: "F(RU\'R\'U\')(RUR\'F\')(RUR\'U\')(R\'FRF\')"\r\n                    },\r\n                    {\r\n                        name: "PLL-Z",\r\n                        exp: "(R\'U\'RU\'R)(URU\'R\'UR)(UR2U\'R\')U2"\r\n                    }\r\n                ]\r\n            }\r\n        ];\r\n        this.timeoutTask = 0;\r\n        this.intervalTask = 0;\r\n        this.exp = "";\r\n        this.actions = new TwistNode(this.exp).parse();\r\n    }\r\n    onShowChange(to, from) {\r\n        this.stick();\r\n        if (to) {\r\n            this.onTypeChange();\r\n            this.onIndexChange();\r\n            this.onScriptChange();\r\n            this.onExpChange(this.exp);\r\n        }\r\n        else {\r\n            this.playing = false;\r\n        }\r\n    }\r\n    play() {\r\n        if (this.progress == this.actions.length) {\r\n            this.playing = false;\r\n        }\r\n        if (this.playing) {\r\n            this.forward();\r\n        }\r\n    }\r\n    forward() {\r\n        if (this.progress == this.actions.length) {\r\n            return;\r\n        }\r\n        let action = this.actions[this.progress];\r\n        this.app.game.twister.twist(action.exp, action.reverse, action.times, this.play, false);\r\n        this.progress++;\r\n    }\r\n    backward() {\r\n        if (this.progress == 0) {\r\n            return;\r\n        }\r\n        this.progress--;\r\n        let action = this.actions[this.progress];\r\n        this.app.game.twister.twist(action.exp, !action.reverse, action.times, this.play, false);\r\n    }\r\n    end() {\r\n        if (this.progress == this.actions.length) {\r\n            return;\r\n        }\r\n        let start = this.progress;\r\n        let end = this.actions.length;\r\n        let actions = this.actions.slice(start, end);\r\n        for (let action of actions) {\r\n            this.app.game.twister.twist(action.exp, action.reverse, action.times, null, true);\r\n        }\r\n        this.progress = this.actions.length;\r\n    }\r\n    start() {\r\n        if (this.progress == 0) {\r\n            return;\r\n        }\r\n        let start = 0;\r\n        let end = this.progress;\r\n        let actions = this.actions.slice(start, end).reverse();\r\n        for (let action of actions) {\r\n            this.app.game.twister.twist(action.exp, !action.reverse, action.times, null, true);\r\n        }\r\n        this.progress = 0;\r\n    }\r\n    stick() {\r\n        this.app.game.cube.stick();\r\n        this.app.game.dirty = true;\r\n    }\r\n    strip() {\r\n        let strips = this.scripts[this.type].strips;\r\n        for (let strip of strips) {\r\n            for (let index of strip.indexs) {\r\n                this.app.game.cube.strip(index, strip.faces);\r\n            }\r\n        }\r\n        this.app.game.dirty = true;\r\n    }\r\n    onIndexChange() {\r\n        let storage = window.localStorage;\r\n        storage.setItem("script.index", String(this.index));\r\n    }\r\n    onTypeChange(to = this.type, from = this.type) {\r\n        let storage = window.localStorage;\r\n        storage.setItem("script.type", String(this.type));\r\n        if (to != from) {\r\n            this.index = 1;\r\n        }\r\n        this.stick();\r\n        this.strip();\r\n    }\r\n    get script() {\r\n        let length = this.scripts[this.type].scripts.length;\r\n        let index = this.index;\r\n        while (index < 1) {\r\n            index = index + length;\r\n        }\r\n        while (index > length) {\r\n            index = index - length;\r\n        }\r\n        let script = this.scripts[this.type].scripts[index - 1];\r\n        let result = { name: "", exp: "" };\r\n        result.name = script.name;\r\n        result.exp = script.exp;\r\n        return result;\r\n    }\r\n    indexDown(delta) {\r\n        clearTimeout(this.timeoutTask);\r\n        this.timeoutTask = setTimeout(() => {\r\n            this.timeoutTask = 0;\r\n            clearTimeout(this.intervalTask);\r\n            this.intervalTask = setInterval(() => {\r\n                this.index = this.index + delta;\r\n            }, 100);\r\n        }, 500);\r\n        return true;\r\n    }\r\n    indexUp(delta) {\r\n        if (this.timeoutTask != 0) {\r\n            clearTimeout(this.timeoutTask);\r\n            this.index = this.index + delta;\r\n            this.timeoutTask = 0;\r\n        }\r\n        if (this.intervalTask != 0) {\r\n            clearInterval(this.intervalTask);\r\n            this.intervalTask = 0;\r\n        }\r\n        return true;\r\n    }\r\n    onExpChange(value) {\r\n        let storage = window.localStorage;\r\n        let saved = storage.getItem(this.script.name);\r\n        if (value == this.script.exp) {\r\n            storage.removeItem(this.script.name);\r\n        }\r\n        else if (value != saved) {\r\n            storage.setItem(this.script.name, value);\r\n        }\r\n        this.actions = new TwistNode(this.exp).parse();\r\n        this.reset();\r\n    }\r\n    onScriptChange() {\r\n        let storage = window.localStorage;\r\n        this.exp = storage.getItem(this.script.name) || this.script.exp;\r\n    }\r\n    reset() {\r\n        this.progress = 0;\r\n        this.playing = false;\r\n        this.app.game.reset();\r\n        this.app.game.twister.twist(this.exp, true, 1, null, true);\r\n    }\r\n};\r\nScriptPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Inject"])("app"),\r\n    ScriptPanel_metadata("design:type", vue_App)\r\n], ScriptPanel_ScriptPanel.prototype, "app", void 0);\r\nScriptPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Prop"])({ default: false }),\r\n    ScriptPanel_metadata("design:type", Boolean)\r\n], ScriptPanel_ScriptPanel.prototype, "show", void 0);\r\nScriptPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Watch"])("show"),\r\n    ScriptPanel_metadata("design:type", Function),\r\n    ScriptPanel_metadata("design:paramtypes", [Boolean, Boolean]),\r\n    ScriptPanel_metadata("design:returntype", void 0)\r\n], ScriptPanel_ScriptPanel.prototype, "onShowChange", null);\r\nScriptPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Prop"])({ default: false }),\r\n    ScriptPanel_metadata("design:type", Boolean)\r\n], ScriptPanel_ScriptPanel.prototype, "disabled", void 0);\r\nScriptPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Watch"])("index"),\r\n    ScriptPanel_metadata("design:type", Function),\r\n    ScriptPanel_metadata("design:paramtypes", []),\r\n    ScriptPanel_metadata("design:returntype", void 0)\r\n], ScriptPanel_ScriptPanel.prototype, "onIndexChange", null);\r\nScriptPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Watch"])("type"),\r\n    ScriptPanel_metadata("design:type", Function),\r\n    ScriptPanel_metadata("design:paramtypes", [Number, Number]),\r\n    ScriptPanel_metadata("design:returntype", void 0)\r\n], ScriptPanel_ScriptPanel.prototype, "onTypeChange", null);\r\nScriptPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Watch"])("exp"),\r\n    ScriptPanel_metadata("design:type", Function),\r\n    ScriptPanel_metadata("design:paramtypes", [String]),\r\n    ScriptPanel_metadata("design:returntype", void 0)\r\n], ScriptPanel_ScriptPanel.prototype, "onExpChange", null);\r\nScriptPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Watch"])("script"),\r\n    ScriptPanel_metadata("design:type", Function),\r\n    ScriptPanel_metadata("design:paramtypes", []),\r\n    ScriptPanel_metadata("design:returntype", void 0)\r\n], ScriptPanel_ScriptPanel.prototype, "onScriptChange", null);\r\nScriptPanel_ScriptPanel = ScriptPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Component"])({\r\n        template: __webpack_require__(6)\r\n    })\r\n], ScriptPanel_ScriptPanel);\r\n/* harmony default export */ var vue_ScriptPanel = (ScriptPanel_ScriptPanel);\r\n\n// CONCATENATED MODULE: ./src/cube/cubelet.ts\n\r\n\r\nclass cubelet_Frame extends three_modulefrom_dll_reference_dll_library["Geometry"] {\r\n    constructor(size, border) {\r\n        super();\r\n        let _O = size / 2;\r\n        let _I = _O - border;\r\n        let _verts = [\r\n            [-_I, +_I, +_O],\r\n            [+_I, +_I, +_O],\r\n            [+_I, -_I, +_O],\r\n            [-_I, -_I, +_O],\r\n            [-_I, +_O, -_I],\r\n            [+_I, +_O, -_I],\r\n            [+_I, +_O, +_I],\r\n            [-_I, +_O, +_I],\r\n            [-_O, -_I, -_I],\r\n            [-_O, +_I, -_I],\r\n            [-_O, +_I, +_I],\r\n            [-_O, -_I, +_I],\r\n            [+_I, +_I, -_O],\r\n            [-_I, +_I, -_O],\r\n            [-_I, -_I, -_O],\r\n            [+_I, -_I, -_O],\r\n            [-_I, -_O, +_I],\r\n            [+_I, -_O, +_I],\r\n            [+_I, -_O, -_I],\r\n            [-_I, -_O, -_I],\r\n            [+_O, +_I, +_I],\r\n            [+_O, +_I, -_I],\r\n            [+_O, -_I, -_I],\r\n            [+_O, -_I, +_I]\r\n        ];\r\n        for (let i = 0; i < _verts.length; i++) {\r\n            let _vert = _verts[i];\r\n            this.vertices.push(new three_modulefrom_dll_reference_dll_library["Vector3"](_vert[0], _vert[1], _vert[2]));\r\n        }\r\n        for (let i = 0; i < cubelet_Frame._INDICES.length; i++) {\r\n            let _indice = cubelet_Frame._INDICES[i];\r\n            let _face = new three_modulefrom_dll_reference_dll_library["Face3"](_indice[0], _indice[1], _indice[2]);\r\n            this.faces.push(_face);\r\n        }\r\n    }\r\n}\r\ncubelet_Frame._INDICES = [\r\n    [1, 6, 7],\r\n    [0, 1, 7],\r\n    [3, 0, 10],\r\n    [11, 3, 10],\r\n    [17, 2, 3],\r\n    [16, 17, 3],\r\n    [23, 20, 1],\r\n    [2, 23, 1],\r\n    [5, 12, 13],\r\n    [4, 5, 13],\r\n    [9, 13, 14],\r\n    [8, 9, 14],\r\n    [22, 15, 12],\r\n    [21, 22, 12],\r\n    [19, 14, 15],\r\n    [18, 19, 15],\r\n    [7, 4, 9],\r\n    [10, 7, 9],\r\n    [11, 8, 19],\r\n    [16, 11, 19],\r\n    [23, 17, 18],\r\n    [22, 23, 18],\r\n    [20, 21, 5],\r\n    [6, 20, 5],\r\n    [20, 6, 1],\r\n    [10, 0, 7],\r\n    [21, 12, 5],\r\n    [13, 9, 4],\r\n    [23, 2, 17],\r\n    [11, 16, 3],\r\n    [22, 18, 15],\r\n    [8, 14, 19]\r\n];\r\nclass cubelet_Sticker extends three_modulefrom_dll_reference_dll_library["ShapeGeometry"] {\r\n    constructor(size, edge) {\r\n        size = size / 2;\r\n        size = size - edge;\r\n        let left = -size;\r\n        let bottom = size;\r\n        let top = -size;\r\n        let right = size;\r\n        let radius = size / 4;\r\n        let shape = new three_modulefrom_dll_reference_dll_library["Shape"]();\r\n        shape.moveTo(left, top + radius);\r\n        shape.lineTo(left, bottom - radius);\r\n        shape.quadraticCurveTo(left, bottom, left + radius, bottom);\r\n        shape.lineTo(right - radius, bottom);\r\n        shape.quadraticCurveTo(right, bottom, right, bottom - radius);\r\n        shape.lineTo(right, top + radius);\r\n        shape.quadraticCurveTo(right, top, right - radius, top);\r\n        shape.lineTo(left + radius, top);\r\n        shape.quadraticCurveTo(left, top, left, top + radius);\r\n        shape.closePath();\r\n        super(shape);\r\n    }\r\n}\r\nclass cubelet_Edge extends three_modulefrom_dll_reference_dll_library["ShapeGeometry"] {\r\n    constructor(size, edge) {\r\n        let shape = new three_modulefrom_dll_reference_dll_library["Shape"]();\r\n        size = size / 2;\r\n        shape.moveTo(-size, -size);\r\n        shape.lineTo(-size, size);\r\n        shape.lineTo(size, size);\r\n        shape.lineTo(size, -size);\r\n        shape.closePath();\r\n        size = size - edge;\r\n        let left = -size;\r\n        let bottom = size;\r\n        let top = -size;\r\n        let right = size;\r\n        let radius = size / 4;\r\n        let hole = new three_modulefrom_dll_reference_dll_library["Shape"]();\r\n        hole.moveTo(left, top + radius);\r\n        hole.quadraticCurveTo(left, top, left + radius, top);\r\n        hole.lineTo(right - radius, top);\r\n        hole.quadraticCurveTo(right, top, right, top + radius);\r\n        hole.lineTo(right, bottom - radius);\r\n        hole.quadraticCurveTo(right, bottom, right - radius, bottom);\r\n        hole.lineTo(left + radius, bottom);\r\n        hole.quadraticCurveTo(left, bottom, left, bottom - radius);\r\n        hole.lineTo(left, top + radius);\r\n        hole.closePath();\r\n        shape.holes.push(hole);\r\n        super(shape);\r\n    }\r\n}\r\nclass cubelet_Cubelet extends three_modulefrom_dll_reference_dll_library["Group"] {\r\n    constructor(index) {\r\n        super();\r\n        this._vector = new three_modulefrom_dll_reference_dll_library["Vector3"]();\r\n        this._stickers = [];\r\n        this.initial = index;\r\n        let _x = (index % 3) - 1;\r\n        let _y = Math.floor((index % 9) / 3) - 1;\r\n        let _z = Math.floor(index / 9) - 1;\r\n        this.vector = new three_modulefrom_dll_reference_dll_library["Vector3"](_x, _y, _z);\r\n        this._materials = [\r\n            this._vector.x < 0 ? cubelet_Cubelet._MATERIALS.o : cubelet_Cubelet._MATERIALS.i,\r\n            this._vector.x > 0 ? cubelet_Cubelet._MATERIALS.r : cubelet_Cubelet._MATERIALS.i,\r\n            this._vector.y < 0 ? cubelet_Cubelet._MATERIALS.w : cubelet_Cubelet._MATERIALS.i,\r\n            this._vector.y > 0 ? cubelet_Cubelet._MATERIALS.y : cubelet_Cubelet._MATERIALS.i,\r\n            this._vector.z < 0 ? cubelet_Cubelet._MATERIALS.g : cubelet_Cubelet._MATERIALS.i,\r\n            this._vector.z > 0 ? cubelet_Cubelet._MATERIALS.b : cubelet_Cubelet._MATERIALS.i\r\n        ];\r\n        let _frame = new three_modulefrom_dll_reference_dll_library["Mesh"](cubelet_Cubelet._FRAME, cubelet_Cubelet._MATERIALS.p);\r\n        this.add(_frame);\r\n        for (let i = 0; i < 6; i++) {\r\n            let _edge = new three_modulefrom_dll_reference_dll_library["Mesh"](cubelet_Cubelet._EDGE, cubelet_Cubelet._MATERIALS.p);\r\n            let _sticker = new three_modulefrom_dll_reference_dll_library["Mesh"](cubelet_Cubelet._STICKER, this._materials[i]);\r\n            switch (i) {\r\n                case 0:\r\n                    _edge.rotation.y = -Math.PI / 2;\r\n                    _edge.position.x = -cubelet_Cubelet._SIZE / 2;\r\n                    _sticker.rotation.y = -Math.PI / 2;\r\n                    _sticker.position.x = -cubelet_Cubelet._SIZE / 2;\r\n                    break;\r\n                case 1:\r\n                    _edge.rotation.y = Math.PI / 2;\r\n                    _edge.position.x = cubelet_Cubelet._SIZE / 2;\r\n                    _sticker.rotation.y = Math.PI / 2;\r\n                    _sticker.position.x = cubelet_Cubelet._SIZE / 2;\r\n                    break;\r\n                case 2:\r\n                    _edge.rotation.x = Math.PI / 2;\r\n                    _edge.position.y = -cubelet_Cubelet._SIZE / 2;\r\n                    _sticker.rotation.x = Math.PI / 2;\r\n                    _sticker.position.y = -cubelet_Cubelet._SIZE / 2;\r\n                    break;\r\n                case 3:\r\n                    _edge.rotation.x = -Math.PI / 2;\r\n                    _edge.position.y = cubelet_Cubelet._SIZE / 2;\r\n                    _sticker.rotation.x = -Math.PI / 2;\r\n                    _sticker.position.y = cubelet_Cubelet._SIZE / 2;\r\n                    break;\r\n                case 4:\r\n                    _edge.rotation.x = Math.PI;\r\n                    _edge.position.z = -cubelet_Cubelet._SIZE / 2;\r\n                    _sticker.rotation.x = Math.PI;\r\n                    _sticker.position.z = -cubelet_Cubelet._SIZE / 2;\r\n                    break;\r\n                case 5:\r\n                    _edge.rotation.z = 0;\r\n                    _edge.position.z = cubelet_Cubelet._SIZE / 2;\r\n                    _sticker.rotation.z = 0;\r\n                    _sticker.position.z = cubelet_Cubelet._SIZE / 2;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            this.add(_edge);\r\n            this.add(_sticker);\r\n            this._stickers.push(_sticker);\r\n            this.matrixAutoUpdate = false;\r\n            this.updateMatrix();\r\n        }\r\n    }\r\n    set vector(vector) {\r\n        this._vector.set(Math.round(vector.x), Math.round(vector.y), Math.round(vector.z));\r\n        this._index =\r\n            (this.vector.z + 1) * 9 + (this.vector.y + 1) * 3 + (this.vector.x + 1);\r\n        this.position.x = cubelet_Cubelet._SIZE * this._vector.x;\r\n        this.position.y = cubelet_Cubelet._SIZE * this._vector.y;\r\n        this.position.z = cubelet_Cubelet._SIZE * this._vector.z;\r\n    }\r\n    get vector() {\r\n        return this._vector;\r\n    }\r\n    set index(index) {\r\n        let _x = (index % 3) - 1;\r\n        let _y = Math.floor((index % 9) / 3) - 1;\r\n        let _z = Math.floor(index / 9) - 1;\r\n        this.vector = new three_modulefrom_dll_reference_dll_library["Vector3"](_x, _y, _z);\r\n    }\r\n    get index() {\r\n        return this._index;\r\n    }\r\n    get identity() {\r\n        return cubelet_Cubelet.positions.indexOf(this.initial);\r\n    }\r\n    get orientation() {\r\n        return 0;\r\n    }\r\n    stick() {\r\n        for (let i = 0; i < 6; i++) {\r\n            this._stickers[i].material = this._materials[i];\r\n        }\r\n    }\r\n    strip(face) {\r\n        this._stickers[face].material = cubelet_Cubelet._MATERIALS.i;\r\n    }\r\n}\r\ncubelet_Cubelet._SIZE = 32;\r\ncubelet_Cubelet._BORDER_WIDTH = 2;\r\ncubelet_Cubelet._EDGE_WIDTH = 1;\r\ncubelet_Cubelet._FRAME = new cubelet_Frame(cubelet_Cubelet._SIZE, cubelet_Cubelet._BORDER_WIDTH);\r\ncubelet_Cubelet._EDGE = new cubelet_Edge(cubelet_Cubelet._SIZE - 2 * cubelet_Cubelet._BORDER_WIDTH, cubelet_Cubelet._EDGE_WIDTH);\r\ncubelet_Cubelet._STICKER = new cubelet_Sticker(cubelet_Cubelet._SIZE - 2 * cubelet_Cubelet._BORDER_WIDTH, cubelet_Cubelet._EDGE_WIDTH);\r\ncubelet_Cubelet._MATERIALS = {\r\n    p: new three_modulefrom_dll_reference_dll_library["MeshBasicMaterial"]({ wireframe: false, color: "#000000" }),\r\n    i: new three_modulefrom_dll_reference_dll_library["MeshBasicMaterial"]({ wireframe: false, color: "#303030" }),\r\n    g: new three_modulefrom_dll_reference_dll_library["MeshBasicMaterial"]({ wireframe: false, color: "#009D54" }),\r\n    o: new three_modulefrom_dll_reference_dll_library["MeshBasicMaterial"]({ wireframe: false, color: "#FF6C00" }),\r\n    b: new three_modulefrom_dll_reference_dll_library["MeshBasicMaterial"]({ wireframe: false, color: "#3D81F6" }),\r\n    y: new three_modulefrom_dll_reference_dll_library["MeshBasicMaterial"]({ wireframe: false, color: "#FDCC09" }),\r\n    w: new three_modulefrom_dll_reference_dll_library["MeshBasicMaterial"]({ wireframe: false, color: "#FFFFFF" }),\r\n    r: new three_modulefrom_dll_reference_dll_library["MeshBasicMaterial"]({ wireframe: false, color: "#DC422F" })\r\n};\r\ncubelet_Cubelet.positions = [\r\n    25,\r\n    17,\r\n    7,\r\n    15,\r\n    19,\r\n    11,\r\n    1,\r\n    9,\r\n    23,\r\n    21,\r\n    5,\r\n    3,\r\n    26,\r\n    8,\r\n    6,\r\n    24,\r\n    20,\r\n    18,\r\n    0,\r\n    2\r\n];\r\n\n// CONCATENATED MODULE: ./src/cube/cube.ts\n\r\n\r\n\r\nclass cube_Cube extends three_modulefrom_dll_reference_dll_library["Group"] {\r\n    constructor(game) {\r\n        super();\r\n        this.cubelets = [];\r\n        this._initial = [];\r\n        for (var i = 0; i < 27; i++) {\r\n            let cubelet = new cubelet_Cubelet(i);\r\n            this.cubelets.push(cubelet);\r\n            this._initial.push(cubelet);\r\n            this.add(cubelet);\r\n        }\r\n        this.matrixAutoUpdate = false;\r\n        this.updateMatrix();\r\n    }\r\n    compare(left, right) {\r\n        return left.index - right.index;\r\n    }\r\n    reset() {\r\n        for (let cubelet of this.cubelets) {\r\n            cubelet.setRotationFromEuler(new three_modulefrom_dll_reference_dll_library["Euler"](0, 0, 0));\r\n            cubelet.index = cubelet.initial;\r\n            cubelet.updateMatrix();\r\n        }\r\n        this.cubelets.sort(this.compare);\r\n    }\r\n    stick() {\r\n        for (let cubelet of this.cubelets) {\r\n            cubelet.stick();\r\n        }\r\n    }\r\n    strip(index, faces) {\r\n        for (let face of faces) {\r\n            this._initial[index].strip(face);\r\n        }\r\n    }\r\n    get state() {\r\n        let positions = [];\r\n        let orientations = [];\r\n        for (let position of cubelet_Cubelet.positions) {\r\n            positions.push(this.cubelets[position].identity);\r\n            orientations.push(this.cubelets[position].orientation);\r\n        }\r\n        return positions.concat(orientations);\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/cube/tweener.ts\nclass Tweener {\r\n    constructor() {\r\n        this._tweens = [];\r\n        this.loop();\r\n    }\r\n    loop() {\r\n        requestAnimationFrame(this.loop.bind(this));\r\n        this.update();\r\n    }\r\n    tween(begin, end, duration, update, finish) {\r\n        this._tweens.push(new Tween(begin, end, duration, update, finish));\r\n    }\r\n    update() {\r\n        if (this._tweens.length === 0)\r\n            return false;\r\n        var i = 0;\r\n        while (i < this._tweens.length) {\r\n            if (this._tweens[i].update()) {\r\n                i++;\r\n            }\r\n            else {\r\n                this._tweens.splice(i, 1);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\nclass Tween {\r\n    constructor(begin, end, duration, update, finish) {\r\n        this._value = 0;\r\n        this._begin = begin;\r\n        this._end = end;\r\n        this._duration = duration;\r\n        this._update = update;\r\n        this._finish = finish;\r\n    }\r\n    update() {\r\n        this._value++;\r\n        let elapsed = this._value / this._duration;\r\n        elapsed = elapsed > 1 ? 1 : elapsed;\r\n        let value = 1 - --elapsed * elapsed;\r\n        this._update(this._begin + (this._end - this._begin) * value);\r\n        if (value == 1) {\r\n            this._finish();\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/cube/holder.ts\nclass Holder {\r\n}\r\n\n// CONCATENATED MODULE: ./src/cube/controller.ts\n\r\n\r\n\r\n\r\nclass controller_Controller {\r\n    constructor(game) {\r\n        this._dragging = false;\r\n        this._rotating = false;\r\n        this._onMouseDown = (event) => {\r\n            if (this._game.lock) {\r\n                return true;\r\n            }\r\n            this._down.x = event.offsetX;\r\n            this._down.y = event.offsetY;\r\n            this._handleDown();\r\n        };\r\n        this._onMouseMove = (event) => {\r\n            this._move.x = event.offsetX;\r\n            this._move.y = event.offsetY;\r\n            this._handleMove();\r\n        };\r\n        this._onMouseUp = (event) => {\r\n            this._handleUp();\r\n        };\r\n        this._onMouseOut = (event) => {\r\n            this._handleUp();\r\n        };\r\n        this._onTouch = (event) => {\r\n            let touches = event.changedTouches;\r\n            let first = touches[0];\r\n            switch (event.type) {\r\n                case "touchstart":\r\n                    if (this._game.lock) {\r\n                        return true;\r\n                    }\r\n                    this._down.x = first.clientX;\r\n                    this._down.y = first.clientY;\r\n                    this._handleDown();\r\n                    break;\r\n                case "touchmove":\r\n                    this._move.x = first.clientX;\r\n                    this._move.y = first.clientY;\r\n                    this._handleMove();\r\n                    break;\r\n                case "touchend":\r\n                    this._handleUp();\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n        };\r\n        this._game = game;\r\n        this._ray = new three_modulefrom_dll_reference_dll_library["Ray"]();\r\n        this._down = new three_modulefrom_dll_reference_dll_library["Vector2"](0, 0);\r\n        this._move = new three_modulefrom_dll_reference_dll_library["Vector2"](0, 0);\r\n        this._matrix = new three_modulefrom_dll_reference_dll_library["Matrix4"]();\r\n        this._holder = new Holder();\r\n        this._holder.vector = new three_modulefrom_dll_reference_dll_library["Vector3"]();\r\n        this._vector = new three_modulefrom_dll_reference_dll_library["Vector3"]();\r\n        this._planes = [\r\n            new three_modulefrom_dll_reference_dll_library["Plane"](new three_modulefrom_dll_reference_dll_library["Vector3"](1, 0, 0), (-game_Game.SIZE * 3) / 64),\r\n            new three_modulefrom_dll_reference_dll_library["Plane"](new three_modulefrom_dll_reference_dll_library["Vector3"](0, 1, 0), (-game_Game.SIZE * 3) / 64),\r\n            new three_modulefrom_dll_reference_dll_library["Plane"](new three_modulefrom_dll_reference_dll_library["Vector3"](0, 0, 1), (-game_Game.SIZE * 3) / 64)\r\n        ];\r\n        this._game.canvas.addEventListener("mousedown", this._onMouseDown);\r\n        this._game.canvas.addEventListener("mousemove", this._onMouseMove);\r\n        this._game.canvas.addEventListener("mouseup", this._onMouseUp);\r\n        this._game.canvas.addEventListener("mouseout", this._onMouseOut);\r\n        this._game.canvas.addEventListener("touchstart", this._onTouch, true);\r\n        this._game.canvas.addEventListener("touchmove", this._onTouch, true);\r\n        this._game.canvas.addEventListener("touchend", this._onTouch, true);\r\n    }\r\n    _intersect(point, plane) {\r\n        var x = (point.x / this._game.canvas.clientWidth) * 2 - 1;\r\n        var y = -(point.y / this._game.canvas.clientHeight) * 2 + 1;\r\n        this._ray.origin.setFromMatrixPosition(this._game.camera.matrixWorld);\r\n        this._ray.direction\r\n            .set(x, y, 0.5)\r\n            .unproject(this._game.camera)\r\n            .sub(this._ray.origin)\r\n            .normalize();\r\n        this._ray.applyMatrix4(this._matrix.identity().getInverse(this._game.scene.matrix));\r\n        var result = new three_modulefrom_dll_reference_dll_library["Vector3"]();\r\n        this._ray.intersectPlane(plane, result);\r\n        return result;\r\n    }\r\n    _handleDown() {\r\n        this._dragging = true;\r\n        this._holder.index = -1;\r\n        this._planes.some(plane => {\r\n            var point = this._intersect(this._down, plane);\r\n            if (point !== null) {\r\n                if (Math.abs(point.x) <= 48 + 0.01 &&\r\n                    Math.abs(point.y) <= 48 + 0.01 &&\r\n                    Math.abs(point.z) <= 48 + 0.01) {\r\n                    this._holder.plane = plane;\r\n                    var x = Math.ceil(Math.round(point.x) / 32 - 0.5);\r\n                    var y = Math.ceil(Math.round(point.y) / 32 - 0.5);\r\n                    var z = Math.ceil(Math.round(point.z) / 32 - 0.5);\r\n                    if (x < 2 && x > -2 && y < 2 && y > -2 && z < 2 && z > -2) {\r\n                        this._holder.index = (z + 1) * 9 + (y + 1) * 3 + (x + 1);\r\n                    }\r\n                    else {\r\n                        this._holder.index = -1;\r\n                    }\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }, this);\r\n        this._game.dirty = true;\r\n    }\r\n    _handleMove() {\r\n        if (this._dragging) {\r\n            var dx = this._move.x - this._down.x;\r\n            var dy = this._move.y - this._down.y;\r\n            var d = Math.sqrt(dx * dx + dy * dy);\r\n            if (Math.min(this._game.canvas.clientWidth, this._game.canvas.clientHeight) /\r\n                d >\r\n                100) {\r\n                return true;\r\n            }\r\n            if (this._game.lock) {\r\n                this._dragging = false;\r\n                this._rotating = false;\r\n                return true;\r\n            }\r\n            this._dragging = false;\r\n            this._rotating = true;\r\n            if (this._holder.index === -1) {\r\n                if (dx * dx > dy * dy) {\r\n                    this._group = group_CubeletGroup.GROUPS.y;\r\n                }\r\n                else {\r\n                    if (this._down.x < this._game.canvas.clientWidth / 2) {\r\n                        this._group = group_CubeletGroup.GROUPS.x;\r\n                    }\r\n                    else {\r\n                        this._group = group_CubeletGroup.GROUPS.z;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                var start = this._intersect(this._down, this._holder.plane);\r\n                var end = this._intersect(this._move, this._holder.plane);\r\n                this._vector.subVectors(end, start);\r\n                var x = this._vector.x;\r\n                var y = this._vector.y;\r\n                var z = this._vector.z;\r\n                var max = Math.max(Math.abs(x), Math.abs(y), Math.abs(z));\r\n                x = Math.abs(x) === max ? x : 0;\r\n                y = Math.abs(y) === max ? y : 0;\r\n                z = Math.abs(z) === max ? z : 0;\r\n                this._vector.set(x, y, z);\r\n                this._holder.vector.copy(this._vector.multiply(this._vector).normalize());\r\n                let groups = this._game.twister.match(this._holder);\r\n                groups.some(element => {\r\n                    if (element.axis.dot(this._vector) === 0) {\r\n                        this._group = element;\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                }, this);\r\n                this._vector.crossVectors(this._holder.vector, this._holder.plane.normal);\r\n                this._holder.vector.multiplyScalar(this._vector.x + this._vector.y + this._vector.z);\r\n            }\r\n            this._group.hold(this._game);\r\n        }\r\n        if (this._rotating) {\r\n            if (this._holder.index === -1) {\r\n                var dx = this._move.x - this._down.x;\r\n                var dy = this._move.y - this._down.y;\r\n                if (this._group === group_CubeletGroup.GROUPS.y) {\r\n                    this._group.angle =\r\n                        (dx /\r\n                            Math.min(this._game.canvas.clientWidth, this._game.canvas.clientHeight)) *\r\n                            Math.PI *\r\n                            2;\r\n                }\r\n                else {\r\n                    if (this._group === group_CubeletGroup.GROUPS.x) {\r\n                        this._group.angle =\r\n                            (dy /\r\n                                Math.min(this._game.canvas.clientWidth, this._game.canvas.clientHeight)) *\r\n                                Math.PI *\r\n                                2;\r\n                    }\r\n                    else {\r\n                        this._group.angle =\r\n                            (-dy /\r\n                                Math.min(this._game.canvas.clientWidth, this._game.canvas.clientHeight)) *\r\n                                Math.PI *\r\n                                2;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                var start = this._intersect(this._down, this._holder.plane);\r\n                var end = this._intersect(this._move, this._holder.plane);\r\n                this._vector.subVectors(end, start).multiply(this._holder.vector);\r\n                this._group.angle =\r\n                    ((-(this._vector.x + this._vector.y + this._vector.z) *\r\n                        (this._group.axis.x + this._group.axis.y + this._group.axis.z)) /\r\n                        game_Game.SIZE) *\r\n                        Math.PI *\r\n                        8;\r\n            }\r\n            this._game.dirty = true;\r\n        }\r\n    }\r\n    _handleUp() {\r\n        if (this._rotating) {\r\n            if (this._group && this._group !== null) {\r\n                if (this._game.enable) {\r\n                    this._group.adjust(this._game);\r\n                }\r\n                else {\r\n                    this._group.revert(this._game);\r\n                }\r\n            }\r\n        }\r\n        this._holder.index = -1;\r\n        this._dragging = false;\r\n        this._rotating = false;\r\n        this._game.dirty = true;\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/cube/game.ts\n\r\n\r\n\r\n\r\n\r\n\r\nclass game_Game {\r\n    constructor() {\r\n        this.lock = false;\r\n        this.enable = true;\r\n        this.dirty = true;\r\n        this.duration = 60;\r\n        this.callbacks = [];\r\n        this.scene = new three_modulefrom_dll_reference_dll_library["Scene"]();\r\n        this.scene.rotation.x = Math.PI / 8;\r\n        this.scene.rotation.y = Math.PI / 16 - Math.PI / 4;\r\n        this.camera = new three_modulefrom_dll_reference_dll_library["PerspectiveCamera"](50, 1, 1, game_Game.SIZE);\r\n        this.camera.position.x = 0;\r\n        this.camera.position.y = 0;\r\n        this.camera.position.z = game_Game.SIZE / 3;\r\n        this.tweener = new Tweener();\r\n        this.twister = new twister_Twister(this);\r\n        this.cube = new cube_Cube(this);\r\n        this.scene.add(this.cube);\r\n        for (let key in group_CubeletGroup.GROUPS) {\r\n            this.scene.add(group_CubeletGroup.GROUPS[key]);\r\n        }\r\n        this.renderer = new three_modulefrom_dll_reference_dll_library["WebGLRenderer"]({ antialias: true });\r\n        this.renderer.setClearColor(0xffffff);\r\n        this.renderer.setPixelRatio(window.devicePixelRatio);\r\n        this.canvas = this.renderer.domElement;\r\n        this.controller = new controller_Controller(this);\r\n        this.loop();\r\n    }\r\n    random() {\r\n        let result = "";\r\n        if (!this.lock) {\r\n            let exps = [];\r\n            let last = -1;\r\n            let actions = ["U", "D", "R", "L", "F", "B"];\r\n            let axis = -1;\r\n            for (let i = 0; i < 20; i++) {\r\n                let exp = [];\r\n                while (axis == last) {\r\n                    axis = Math.floor(Math.random() * 3);\r\n                }\r\n                let side = Math.floor(Math.random() * 2);\r\n                exp.push(actions[axis * 2 + side]);\r\n                let suffix = Math.random();\r\n                if (suffix < 0.2) {\r\n                    exp.push("2");\r\n                }\r\n                else if (suffix < 0.6) {\r\n                    exp.push("\'");\r\n                }\r\n                exps.push(exp.join(""));\r\n                last = axis;\r\n            }\r\n            result = exps.join(" ");\r\n            this.twister.twist(result, false, 1, null, true);\r\n            this.dirty = true;\r\n        }\r\n        return result;\r\n    }\r\n    reset() {\r\n        if (!this.lock) {\r\n            this.cube.reset();\r\n            this.dirty = true;\r\n        }\r\n    }\r\n    resize(width, height) {\r\n        this.camera.aspect = width / height;\r\n        let min = ((height / Math.min(width, height)) * game_Game.SIZE) / 4;\r\n        let fov = (2 * Math.atan(min / game_Game.SIZE) * 180) / Math.PI;\r\n        this.camera.fov = fov;\r\n        this.camera.lookAt(this.scene.position);\r\n        this.camera.updateProjectionMatrix();\r\n        this.renderer.setSize(width, height, true);\r\n        this.dirty = true;\r\n    }\r\n    render() {\r\n        if (this.dirty) {\r\n            this.renderer.render(this.scene, this.camera);\r\n            this.dirty = false;\r\n        }\r\n    }\r\n    loop() {\r\n        requestAnimationFrame(this.loop.bind(this));\r\n        this.render();\r\n    }\r\n}\r\ngame_Game.SIZE = 1024;\r\n\n// CONCATENATED MODULE: ./src/vue/TimerPanel/index.ts\nvar TimerPanel_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar TimerPanel_metadata = (undefined && undefined.__metadata) || function (k, v) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\nlet TimerPanel_TimerPanel = class TimerPanel extends vue_esmfrom_dll_reference_dll_library["default"] {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.exp = window.localStorage.getItem("timer.exp") || "";\r\n        this.start = 0;\r\n        this.lapse = Number(window.localStorage.getItem("timer.lapse") || 0);\r\n        this.timeoutTask = 0;\r\n        this.intervalTask = 0;\r\n        this.press = false;\r\n    }\r\n    onShowChange(to, from) {\r\n        if (to) {\r\n            if (this.exp == "") {\r\n                this.random();\r\n            }\r\n            else {\r\n                this.app.game.reset();\r\n                this.app.game.twister.twist(this.exp, false, 1, null, true);\r\n            }\r\n        }\r\n    }\r\n    onExpChange(to, from) {\r\n        let storage = window.localStorage;\r\n        storage.setItem("timer.exp", this.exp);\r\n    }\r\n    get time() {\r\n        let min = Math.floor(this.lapse / 1000 / 60);\r\n        let sec = Math.floor((this.lapse % (1000 * 60)) / 1000);\r\n        let ms = Math.floor((this.lapse % 1000) / 10);\r\n        return ((min == 0 ? "" : String(min) + ":") +\r\n            ("0" + String(sec)).substr(-2) +\r\n            ":" +\r\n            ("0" + String(ms)).substr(-2));\r\n    }\r\n    random() {\r\n        this.app.game.reset();\r\n        this.exp = this.app.game.random();\r\n    }\r\n    down() {\r\n        this.press = true;\r\n        if (this.lapse != 0) {\r\n            if (this.start != 0) {\r\n                clearInterval(this.intervalTask);\r\n                this.intervalTask = 0;\r\n                let date = new Date();\r\n                this.lapse = date.getTime() - this.start;\r\n                let storage = window.localStorage;\r\n                storage.setItem("timer.lapse", String(this.lapse));\r\n                this.start = 0;\r\n            }\r\n            else {\r\n                clearTimeout(this.timeoutTask);\r\n                this.timeoutTask = setTimeout(() => {\r\n                    this.lapse = 0;\r\n                    this.timeoutTask = 0;\r\n                }, 1000);\r\n            }\r\n        }\r\n    }\r\n    get color() {\r\n        if (this.press) {\r\n            if (this.timeoutTask != 0) {\r\n                return "red--text";\r\n            }\r\n            if (this.lapse == 0) {\r\n                return "green--text";\r\n            }\r\n        }\r\n        return "black--text";\r\n    }\r\n    up() {\r\n        this.press = false;\r\n        clearTimeout(this.timeoutTask);\r\n        this.timeoutTask = 0;\r\n        if (this.lapse == 0) {\r\n            let date = new Date();\r\n            this.start = date.getTime();\r\n            clearInterval(this.intervalTask);\r\n            this.intervalTask = setInterval(() => {\r\n                let date = new Date();\r\n                this.lapse = date.getTime() - this.start;\r\n            }, 100);\r\n        }\r\n    }\r\n};\r\nTimerPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Inject"])("app"),\r\n    TimerPanel_metadata("design:type", vue_App)\r\n], TimerPanel_TimerPanel.prototype, "app", void 0);\r\nTimerPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Prop"])({ default: false }),\r\n    TimerPanel_metadata("design:type", Boolean)\r\n], TimerPanel_TimerPanel.prototype, "show", void 0);\r\nTimerPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Watch"])("show"),\r\n    TimerPanel_metadata("design:type", Function),\r\n    TimerPanel_metadata("design:paramtypes", [Boolean, Boolean]),\r\n    TimerPanel_metadata("design:returntype", void 0)\r\n], TimerPanel_TimerPanel.prototype, "onShowChange", null);\r\nTimerPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Watch"])("exp"),\r\n    TimerPanel_metadata("design:type", Function),\r\n    TimerPanel_metadata("design:paramtypes", [String, String]),\r\n    TimerPanel_metadata("design:returntype", void 0)\r\n], TimerPanel_TimerPanel.prototype, "onExpChange", null);\r\nTimerPanel_TimerPanel = TimerPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Component"])({\r\n        template: __webpack_require__(7)\r\n    })\r\n], TimerPanel_TimerPanel);\r\n/* harmony default export */ var vue_TimerPanel = (TimerPanel_TimerPanel);\r\n\n// CONCATENATED MODULE: ./src/vue/App/index.ts\nvar App_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar App_metadata = (undefined && undefined.__metadata) || function (k, v) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet App_App = class App extends vue_esmfrom_dll_reference_dll_library["default"] {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.app = this;\r\n        this.game = new game_Game();\r\n        this.exp = "";\r\n        this.expTask = 0;\r\n        this.menu = false;\r\n        this.mode = "touch";\r\n    }\r\n    get duration() {\r\n        return this.game.duration;\r\n    }\r\n    onDurationChange() {\r\n        let storage = window.localStorage;\r\n        storage.setItem("duration", String(this.duration));\r\n    }\r\n    resize() {\r\n        if (this.$refs.cuber instanceof HTMLElement &&\r\n            this.$refs.panel instanceof HTMLElement) {\r\n            let cuber = this.$refs.cuber;\r\n            let panel = this.$refs.panel;\r\n            let panelHeight = panel.clientHeight;\r\n            let cuberHeight = window.innerHeight - panelHeight;\r\n            this.game.resize(cuber.clientWidth, cuberHeight);\r\n        }\r\n    }\r\n    mounted() {\r\n        if (this.$refs.cuber instanceof Element) {\r\n            let cuber = this.$refs.cuber;\r\n            cuber.appendChild(this.game.canvas);\r\n            this.resize();\r\n        }\r\n        let storage = window.localStorage;\r\n        this.game.duration = Number(storage.getItem("duration") || this.game.duration);\r\n        this.mode = window.localStorage.getItem("mode") || "touch";\r\n        this.game.callbacks.push(this.onTwist);\r\n    }\r\n    onTwist(exp) {\r\n        this.exp = exp;\r\n        clearTimeout(this.expTask);\r\n        this.expTask = setTimeout(() => {\r\n            this.exp = "";\r\n        }, 500);\r\n    }\r\n    onMenuClick() {\r\n        this.menu = !this.menu;\r\n    }\r\n    onModeChange(to, from) {\r\n        let storage = window.localStorage;\r\n        storage.setItem("mode", this.mode);\r\n        if (from != "touch" && to == "touch") {\r\n            this.game.enable = true;\r\n        }\r\n        if (from == "touch" && to != "touch") {\r\n            this.game.enable = false;\r\n        }\r\n        this.$nextTick(this.resize);\r\n    }\r\n    get lock() {\r\n        return this.game.lock || this.game.twister.length != 0;\r\n    }\r\n    reset() {\r\n        let storage = window.localStorage;\r\n        storage.clear();\r\n        window.location.reload();\r\n    }\r\n};\r\nApp_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Provide"])("app"),\r\n    App_metadata("design:type", App_App)\r\n], App_App.prototype, "app", void 0);\r\nApp_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Watch"])("duration"),\r\n    App_metadata("design:type", Function),\r\n    App_metadata("design:paramtypes", []),\r\n    App_metadata("design:returntype", void 0)\r\n], App_App.prototype, "onDurationChange", null);\r\nApp_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Watch"])("mode"),\r\n    App_metadata("design:type", Function),\r\n    App_metadata("design:paramtypes", [String, String]),\r\n    App_metadata("design:returntype", void 0)\r\n], App_App.prototype, "onModeChange", null);\r\nApp_App = App_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Component"])({\r\n        template: __webpack_require__(8),\r\n        components: {\r\n            "keyboard-panel": vue_KeyboardPanel,\r\n            "script-panel": vue_ScriptPanel,\r\n            "timer-panel": vue_TimerPanel\r\n        }\r\n    })\r\n], App_App);\r\n/* harmony default export */ var vue_App = (App_App);\r\n\n// EXTERNAL MODULE: delegated ./node_modules/vuetify/dist/vuetify.js from dll-reference dll_library\nvar vuetifyfrom_dll_reference_dll_library = __webpack_require__(4);\nvar vuetifyfrom_dll_reference_dll_library_default = /*#__PURE__*/__webpack_require__.n(vuetifyfrom_dll_reference_dll_library);\n\n// EXTERNAL MODULE: delegated ./node_modules/vuetify/dist/vuetify.css from dll-reference dll_library\nvar dist_vuetifyfrom_dll_reference_dll_library = __webpack_require__(9);\n\n// EXTERNAL MODULE: delegated ./node_modules/typeface-roboto/index.css from dll-reference dll_library\nvar typeface_robotofrom_dll_reference_dll_library = __webpack_require__(10);\n\n// EXTERNAL MODULE: delegated ./node_modules/material-design-icons/iconfont/material-icons.css from dll-reference dll_library\nvar material_iconsfrom_dll_reference_dll_library = __webpack_require__(11);\n\n// CONCATENATED MODULE: ./src/main.ts\n\r\n\r\n\r\n\r\n\r\n\r\nvue_esmfrom_dll_reference_dll_library["default"].use(vuetifyfrom_dll_reference_dll_library_default.a);\r\nnew vue_esmfrom_dll_reference_dll_library["default"]({\r\n    el: "#app",\r\n    render: h => h(vue_App)\r\n});\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdnVlL0tleWJvYXJkUGFuZWwvaW5kZXgudHM/NDUzZSIsIndlYnBhY2s6Ly8vLi9zcmMvY3ViZS9ncm91cC50cz85ODY1Iiwid2VicGFjazovLy8uL3NyYy9jdWJlL3R3aXN0ZXIudHM/MGJmNSIsIndlYnBhY2s6Ly8vLi9zcmMvdnVlL1NjcmlwdFBhbmVsL2luZGV4LnRzP2FjMGQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2N1YmUvY3ViZWxldC50cz8yMjk2Iiwid2VicGFjazovLy8uL3NyYy9jdWJlL2N1YmUudHM/YjY0MyIsIndlYnBhY2s6Ly8vLi9zcmMvY3ViZS90d2VlbmVyLnRzP2YzNTciLCJ3ZWJwYWNrOi8vLy4vc3JjL2N1YmUvaG9sZGVyLnRzPzlkMjIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2N1YmUvY29udHJvbGxlci50cz83ZWY5Iiwid2VicGFjazovLy8uL3NyYy9jdWJlL2dhbWUudHM/ZGFlOCIsIndlYnBhY2s6Ly8vLi9zcmMvdnVlL1RpbWVyUGFuZWwvaW5kZXgudHM/NmViYiIsIndlYnBhY2s6Ly8vLi9zcmMvdnVlL0FwcC9pbmRleC50cz9kNjQxIiwid2VicGFjazovLy8uL3NyYy9tYWluLnRzPzc5NGYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsa0JBQWtCLFNBQUksSUFBSSxTQUFJO0FBQzlCO0FBQ0E7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0Esa0JBQWtCLFNBQUksSUFBSSxTQUFJO0FBQzlCO0FBQ0E7QUFDc0I7QUFDMkM7QUFDeEM7QUFDekIsSUFBSSwyQkFBYSwrQkFBK0IsZ0RBQUc7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVTtBQUNWLElBQUksdUVBQU87QUFDWCxJQUFJLFlBQVUsZ0JBQWdCLE9BQUc7QUFDakMsR0FBRyxPQUFHO0FBQ04sWUFBVTtBQUNWLElBQUkscUVBQUs7QUFDVCxJQUFJLFlBQVU7QUFDZCxJQUFJLFlBQVU7QUFDZCxJQUFJLFlBQVU7QUFDZCxHQUFHLE9BQUc7QUFDTixZQUFVO0FBQ1YsSUFBSSxxRUFBSztBQUNULElBQUksWUFBVTtBQUNkLElBQUksWUFBVTtBQUNkLElBQUksWUFBVTtBQUNkLEdBQUcsT0FBRztBQUNOLE9BQUcsR0FBRyxZQUFVO0FBQ2hCLElBQUkseUVBQVM7QUFDYixrQkFBa0IsbUJBQU8sQ0FBQyxDQUFjO0FBQ3hDO0FBQ0EsOEJBQThCLGlCQUFhO0FBQzNDLDRCQUE0QixlQUFXO0FBQ3ZDLDJCQUEyQixjQUFVO0FBQ3JDO0FBQ0EsS0FBSztBQUNMLEdBQUcsT0FBRztBQUNTLG1EQUFHLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3R0c7QUFDTTtBQUNFO0FBQ0k7QUFDVDtBQUNrQztBQUMzRCxnREFBRyxLQUFLLCtDQUFPO0FBQ2YsSUFBSSxnREFBRztBQUNQO0FBQ0EsbUJBQW1CLE9BQUc7QUFDdEIsQ0FBQyIsImZpbGUiOiIxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbnZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xyXG59O1xyXG5pbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgSW5qZWN0IH0gZnJvbSBcInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3JcIjtcclxuaW1wb3J0IEFwcCBmcm9tIFwiLi4vQXBwXCI7XHJcbmxldCBLZXlib2FyZFBhbmVsID0gY2xhc3MgS2V5Ym9hcmRQYW5lbCBleHRlbmRzIFZ1ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcclxuICAgICAgICB0aGlzLnNoaWZ0ID0gW107XHJcbiAgICAgICAgdGhpcy5vcGVyYXRpb25zID0gW1xyXG4gICAgICAgICAgICBcIkxcIixcclxuICAgICAgICAgICAgXCJEXCIsXHJcbiAgICAgICAgICAgIFwiQlwiLFxyXG4gICAgICAgICAgICBcIlJcIixcclxuICAgICAgICAgICAgXCJVXCIsXHJcbiAgICAgICAgICAgIFwiRlwiLFxyXG4gICAgICAgICAgICBcImxcIixcclxuICAgICAgICAgICAgXCJkXCIsXHJcbiAgICAgICAgICAgIFwiYlwiLFxyXG4gICAgICAgICAgICBcInJcIixcclxuICAgICAgICAgICAgXCJ1XCIsXHJcbiAgICAgICAgICAgIFwiZlwiLFxyXG4gICAgICAgICAgICBcIk1cIixcclxuICAgICAgICAgICAgXCJFXCIsXHJcbiAgICAgICAgICAgIFwiU1wiLFxyXG4gICAgICAgICAgICBcInhcIixcclxuICAgICAgICAgICAgXCJ5XCIsXHJcbiAgICAgICAgICAgIFwielwiXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuICAgIGdldCBzdWZmaXgoKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XHJcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdCh0aGlzLnNoaWZ0LmluZGV4T2YoXCJyZXZlcnNlXCIpID09IC0xID8gXCJcIiA6IFwiJ1wiKTtcclxuICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHRoaXMuc2hpZnQuaW5kZXhPZihcImRvdWJsZVwiKSA9PSAtMSA/IFwiXCIgOiBcIjJcIik7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIHR3aXN0KG9wZXJhdGlvbikge1xyXG4gICAgICAgIHRoaXMucXVldWUucHVzaChvcGVyYXRpb24pO1xyXG4gICAgICAgIHRoaXMuYXBwLmdhbWUudHdpc3Rlci50d2lzdChvcGVyYXRpb24sIGZhbHNlLCAxLCB0aGlzLmNhbGxiYWNrLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBjYWxsYmFjaygpIHtcclxuICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XHJcbiAgICB9XHJcbn07XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgSW5qZWN0KCdhcHAnKSxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcHApXHJcbl0sIEtleWJvYXJkUGFuZWwucHJvdG90eXBlLCBcImFwcFwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIFByb3AoeyBkZWZhdWx0OiBmYWxzZSB9KSxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxyXG5dLCBLZXlib2FyZFBhbmVsLnByb3RvdHlwZSwgXCJzaG93XCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgUHJvcCh7IGRlZmF1bHQ6IGZhbHNlIH0pLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXHJcbl0sIEtleWJvYXJkUGFuZWwucHJvdG90eXBlLCBcImRpc2FibGVkXCIsIHZvaWQgMCk7XHJcbktleWJvYXJkUGFuZWwgPSBfX2RlY29yYXRlKFtcclxuICAgIENvbXBvbmVudCh7XHJcbiAgICAgICAgdGVtcGxhdGU6IHJlcXVpcmUoXCIuL2luZGV4Lmh0bWxcIilcclxuICAgIH0pXHJcbl0sIEtleWJvYXJkUGFuZWwpO1xyXG5leHBvcnQgZGVmYXVsdCBLZXlib2FyZFBhbmVsO1xyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcclxuaW1wb3J0IHsgVHdpc3RBY3Rpb24gfSBmcm9tIFwiLi90d2lzdGVyXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1YmVsZXRHcm91cCBleHRlbmRzIFRIUkVFLkdyb3VwIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGluZGljZXMsIGF4aXMpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuX2N1YmVsZXRzID0gW107XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLl9pbmRpY2VzID0gaW5kaWNlcztcclxuICAgICAgICB0aGlzLmF4aXMgPSBheGlzO1xyXG4gICAgICAgIHRoaXMubWF0cml4QXV0b1VwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudXBkYXRlTWF0cml4KCk7XHJcbiAgICB9XHJcbiAgICBzZXQgYW5nbGUoYW5nbGUpIHtcclxuICAgICAgICB0aGlzLnNldFJvdGF0aW9uRnJvbUF4aXNBbmdsZSh0aGlzLmF4aXMsIGFuZ2xlKTtcclxuICAgICAgICB0aGlzLl9hbmdsZSA9IGFuZ2xlO1xyXG4gICAgICAgIHRoaXMudXBkYXRlTWF0cml4KCk7XHJcbiAgICB9XHJcbiAgICBnZXQgYW5nbGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FuZ2xlO1xyXG4gICAgfVxyXG4gICAgZ2V0IGV4cCgpIHtcclxuICAgICAgICBsZXQgcmV2ZXJzZSA9IHRoaXMuX2FuZ2xlID4gMDtcclxuICAgICAgICBsZXQgdGltZXMgPSBNYXRoLnJvdW5kKE1hdGguYWJzKHRoaXMuX2FuZ2xlKSAvIChNYXRoLlBJIC8gMikpO1xyXG4gICAgICAgIGxldCBhY3Rpb24gPSBuZXcgVHdpc3RBY3Rpb24oKTtcclxuICAgICAgICBhY3Rpb24uZXhwID0gdGhpcy5uYW1lO1xyXG4gICAgICAgIGFjdGlvbi50aW1lcyA9IHRpbWVzO1xyXG4gICAgICAgIGFjdGlvbi5yZXZlcnNlID0gcmV2ZXJzZTtcclxuICAgICAgICByZXR1cm4gYWN0aW9uLmZvcm1hdCgpO1xyXG4gICAgfVxyXG4gICAgaG9sZChnYW1lKSB7XHJcbiAgICAgICAgdGhpcy5fYW5nbGUgPSAwO1xyXG4gICAgICAgIHRoaXMuX2luZGljZXMuZm9yRWFjaChpID0+IHtcclxuICAgICAgICAgICAgbGV0IGN1YmVsZXQgPSBnYW1lLmN1YmUuY3ViZWxldHNbaV07XHJcbiAgICAgICAgICAgIHRoaXMuX2N1YmVsZXRzLnB1c2goY3ViZWxldCk7XHJcbiAgICAgICAgICAgIGdhbWUuY3ViZS5yZW1vdmUoY3ViZWxldCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkKGN1YmVsZXQpO1xyXG4gICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgIGdhbWUubG9jayA9IHRydWU7XHJcbiAgICB9XHJcbiAgICByZXZlcnQoZ2FtZSkge1xyXG4gICAgICAgIGxldCBhbmdsZSA9IC10aGlzLl9hbmdsZTtcclxuICAgICAgICBpZiAoYW5nbGUgPT09IDApIHtcclxuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjdWJlbGV0ID0gdGhpcy5fY3ViZWxldHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodW5kZWZpbmVkID09PSBjdWJlbGV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZShjdWJlbGV0KTtcclxuICAgICAgICAgICAgICAgIGdhbWUuY3ViZS5hZGQoY3ViZWxldCk7XHJcbiAgICAgICAgICAgICAgICBnYW1lLmN1YmUuY3ViZWxldHNbY3ViZWxldC5pbmRleF0gPSBjdWJlbGV0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2FuZ2xlID0gMDtcclxuICAgICAgICAgICAgZ2FtZS5sb2NrID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGdhbWUuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gZ2FtZS5kdXJhdGlvbiAqIE1hdGgubWluKDAuNSwgTWF0aC5hYnMoYW5nbGUpIC8gTWF0aC5QSSk7XHJcbiAgICAgICAgICAgIGdhbWUudHdlZW5lci50d2Vlbih0aGlzLmFuZ2xlLCB0aGlzLmFuZ2xlICsgYW5nbGUsIGR1cmF0aW9uLCAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5nbGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIGdhbWUuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJldmVydChnYW1lKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYWRqdXN0KGdhbWUpIHtcclxuICAgICAgICBsZXQgYW5nbGUgPSBNYXRoLnJvdW5kKHRoaXMuX2FuZ2xlIC8gKE1hdGguUEkgLyAyKSkgKiAoTWF0aC5QSSAvIDIpIC0gdGhpcy5fYW5nbGU7XHJcbiAgICAgICAgaWYgKGFuZ2xlID09PSAwKSB7XHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3ViZWxldCA9IHRoaXMuX2N1YmVsZXRzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY3ViZWxldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGUoY3ViZWxldCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZShjdWJlbGV0KTtcclxuICAgICAgICAgICAgICAgIGdhbWUuY3ViZS5hZGQoY3ViZWxldCk7XHJcbiAgICAgICAgICAgICAgICBnYW1lLmN1YmUuY3ViZWxldHNbY3ViZWxldC5pbmRleF0gPSBjdWJlbGV0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdhbWUubG9jayA9IGZhbHNlO1xyXG4gICAgICAgICAgICBnYW1lLmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yIChsZXQgY2FsbGJhY2sgb2YgZ2FtZS5jYWxsYmFja3MpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMuZXhwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9hbmdsZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgZHVyYXRpb24gPSBnYW1lLmR1cmF0aW9uICogTWF0aC5taW4oMC41LCBNYXRoLmFicyhhbmdsZSkgLyBNYXRoLlBJKTtcclxuICAgICAgICAgICAgZ2FtZS50d2VlbmVyLnR3ZWVuKHRoaXMuYW5nbGUsIHRoaXMuYW5nbGUgKyBhbmdsZSwgZHVyYXRpb24sICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmdsZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgZ2FtZS5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRqdXN0KGdhbWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByb3RhdGUoY3ViZWxldCkge1xyXG4gICAgICAgIGN1YmVsZXQucm90YXRlT25Xb3JsZEF4aXModGhpcy5heGlzLCB0aGlzLl9hbmdsZSk7XHJcbiAgICAgICAgY3ViZWxldC52ZWN0b3IgPSBjdWJlbGV0LnZlY3Rvci5hcHBseUF4aXNBbmdsZSh0aGlzLmF4aXMsIHRoaXMuX2FuZ2xlKTtcclxuICAgICAgICBjdWJlbGV0LnVwZGF0ZU1hdHJpeCgpO1xyXG4gICAgfVxyXG59XHJcbkN1YmVsZXRHcm91cC5HUk9VUFMgPSB7XHJcbiAgICBMOiBuZXcgQ3ViZWxldEdyb3VwKFwiTFwiLCBbMCwgMywgNiwgOSwgMTIsIDE1LCAxOCwgMjEsIDI0XSwgbmV3IFRIUkVFLlZlY3RvcjMoLTEsIDAsIDApKSxcclxuICAgIEQ6IG5ldyBDdWJlbGV0R3JvdXAoXCJEXCIsIFswLCAxLCAyLCA5LCAxMCwgMTEsIDE4LCAxOSwgMjBdLCBuZXcgVEhSRUUuVmVjdG9yMygwLCAtMSwgMCkpLFxyXG4gICAgQjogbmV3IEN1YmVsZXRHcm91cChcIkJcIiwgWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDhdLCBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAtMSkpLFxyXG4gICAgUjogbmV3IEN1YmVsZXRHcm91cChcIlJcIiwgWzIsIDUsIDgsIDExLCAxNCwgMTcsIDIwLCAyMywgMjZdLCBuZXcgVEhSRUUuVmVjdG9yMygrMSwgMCwgMCkpLFxyXG4gICAgVTogbmV3IEN1YmVsZXRHcm91cChcIlVcIiwgWzYsIDcsIDgsIDE1LCAxNiwgMTcsIDI0LCAyNSwgMjZdLCBuZXcgVEhSRUUuVmVjdG9yMygwLCArMSwgMCkpLFxyXG4gICAgRjogbmV3IEN1YmVsZXRHcm91cChcIkZcIiwgWzE4LCAxOSwgMjAsIDIxLCAyMiwgMjMsIDI0LCAyNSwgMjZdLCBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCArMSkpLFxyXG4gICAgbDogbmV3IEN1YmVsZXRHcm91cChcImxcIiwgWzAsIDMsIDYsIDksIDEyLCAxNSwgMTgsIDIxLCAyNCwgMSwgNCwgNywgMTAsIDEzLCAxNiwgMTksIDIyLCAyNV0sIG5ldyBUSFJFRS5WZWN0b3IzKC0xLCAwLCAwKSksXHJcbiAgICBkOiBuZXcgQ3ViZWxldEdyb3VwKFwiZFwiLCBbMCwgMSwgMiwgOSwgMTAsIDExLCAxOCwgMTksIDIwLCAzLCA0LCA1LCAxMiwgMTMsIDE0LCAyMSwgMjIsIDIzXSwgbmV3IFRIUkVFLlZlY3RvcjMoMCwgLTEsIDApKSxcclxuICAgIGI6IG5ldyBDdWJlbGV0R3JvdXAoXCJiXCIsIFswLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyLCAxMywgMTQsIDE1LCAxNiwgMTddLCBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAtMSkpLFxyXG4gICAgcjogbmV3IEN1YmVsZXRHcm91cChcInJcIiwgWzIsIDUsIDgsIDExLCAxNCwgMTcsIDIwLCAyMywgMjYsIDEsIDQsIDcsIDEwLCAxMywgMTYsIDE5LCAyMiwgMjVdLCBuZXcgVEhSRUUuVmVjdG9yMygrMSwgMCwgMCkpLFxyXG4gICAgdTogbmV3IEN1YmVsZXRHcm91cChcInVcIiwgWzYsIDcsIDgsIDE1LCAxNiwgMTcsIDI0LCAyNSwgMjYsIDMsIDQsIDUsIDEyLCAxMywgMTQsIDIxLCAyMiwgMjNdLCBuZXcgVEhSRUUuVmVjdG9yMygwLCArMSwgMCkpLFxyXG4gICAgZjogbmV3IEN1YmVsZXRHcm91cChcImZcIiwgWzE4LCAxOSwgMjAsIDIxLCAyMiwgMjMsIDI0LCAyNSwgMjYsIDksIDEwLCAxMSwgMTIsIDEzLCAxNCwgMTUsIDE2LCAxN10sIG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsICsxKSksXHJcbiAgICBNOiBuZXcgQ3ViZWxldEdyb3VwKFwiTVwiLCBbMSwgNCwgNywgMTAsIDEzLCAxNiwgMTksIDIyLCAyNV0sIG5ldyBUSFJFRS5WZWN0b3IzKC0xLCAwLCAwKSksXHJcbiAgICBFOiBuZXcgQ3ViZWxldEdyb3VwKFwiRVwiLCBbMywgNCwgNSwgMTIsIDEzLCAxNCwgMjEsIDIyLCAyM10sIG5ldyBUSFJFRS5WZWN0b3IzKDAsIC0xLCAwKSksXHJcbiAgICBTOiBuZXcgQ3ViZWxldEdyb3VwKFwiU1wiLCBbOSwgMTAsIDExLCAxMiwgMTMsIDE0LCAxNSwgMTYsIDE3XSwgbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgKzEpKSxcclxuICAgIHg6IG5ldyBDdWJlbGV0R3JvdXAoXCJ4XCIsIFtcclxuICAgICAgICAwLFxyXG4gICAgICAgIDEsXHJcbiAgICAgICAgMixcclxuICAgICAgICAzLFxyXG4gICAgICAgIDQsXHJcbiAgICAgICAgNSxcclxuICAgICAgICA2LFxyXG4gICAgICAgIDcsXHJcbiAgICAgICAgOCxcclxuICAgICAgICA5LFxyXG4gICAgICAgIDEwLFxyXG4gICAgICAgIDExLFxyXG4gICAgICAgIDEyLFxyXG4gICAgICAgIDEzLFxyXG4gICAgICAgIDE0LFxyXG4gICAgICAgIDE1LFxyXG4gICAgICAgIDE2LFxyXG4gICAgICAgIDE3LFxyXG4gICAgICAgIDE4LFxyXG4gICAgICAgIDE5LFxyXG4gICAgICAgIDIwLFxyXG4gICAgICAgIDIxLFxyXG4gICAgICAgIDIyLFxyXG4gICAgICAgIDIzLFxyXG4gICAgICAgIDI0LFxyXG4gICAgICAgIDI1LFxyXG4gICAgICAgIDI2XHJcbiAgICBdLCBuZXcgVEhSRUUuVmVjdG9yMygrMSwgMCwgMCkpLFxyXG4gICAgeTogbmV3IEN1YmVsZXRHcm91cChcInlcIiwgW1xyXG4gICAgICAgIDAsXHJcbiAgICAgICAgMSxcclxuICAgICAgICAyLFxyXG4gICAgICAgIDMsXHJcbiAgICAgICAgNCxcclxuICAgICAgICA1LFxyXG4gICAgICAgIDYsXHJcbiAgICAgICAgNyxcclxuICAgICAgICA4LFxyXG4gICAgICAgIDksXHJcbiAgICAgICAgMTAsXHJcbiAgICAgICAgMTEsXHJcbiAgICAgICAgMTIsXHJcbiAgICAgICAgMTMsXHJcbiAgICAgICAgMTQsXHJcbiAgICAgICAgMTUsXHJcbiAgICAgICAgMTYsXHJcbiAgICAgICAgMTcsXHJcbiAgICAgICAgMTgsXHJcbiAgICAgICAgMTksXHJcbiAgICAgICAgMjAsXHJcbiAgICAgICAgMjEsXHJcbiAgICAgICAgMjIsXHJcbiAgICAgICAgMjMsXHJcbiAgICAgICAgMjQsXHJcbiAgICAgICAgMjUsXHJcbiAgICAgICAgMjZcclxuICAgIF0sIG5ldyBUSFJFRS5WZWN0b3IzKDAsICsxLCAwKSksXHJcbiAgICB6OiBuZXcgQ3ViZWxldEdyb3VwKFwielwiLCBbXHJcbiAgICAgICAgMCxcclxuICAgICAgICAxLFxyXG4gICAgICAgIDIsXHJcbiAgICAgICAgMyxcclxuICAgICAgICA0LFxyXG4gICAgICAgIDUsXHJcbiAgICAgICAgNixcclxuICAgICAgICA3LFxyXG4gICAgICAgIDgsXHJcbiAgICAgICAgOSxcclxuICAgICAgICAxMCxcclxuICAgICAgICAxMSxcclxuICAgICAgICAxMixcclxuICAgICAgICAxMyxcclxuICAgICAgICAxNCxcclxuICAgICAgICAxNSxcclxuICAgICAgICAxNixcclxuICAgICAgICAxNyxcclxuICAgICAgICAxOCxcclxuICAgICAgICAxOSxcclxuICAgICAgICAyMCxcclxuICAgICAgICAyMSxcclxuICAgICAgICAyMixcclxuICAgICAgICAyMyxcclxuICAgICAgICAyNCxcclxuICAgICAgICAyNSxcclxuICAgICAgICAyNlxyXG4gICAgXSwgbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgKzEpKVxyXG59O1xyXG4iLCJpbXBvcnQgQ3ViZWxldEdyb3VwIGZyb20gXCIuL2dyb3VwXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFR3aXN0ZXIge1xyXG4gICAgY29uc3RydWN0b3IoZ2FtZSkge1xyXG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XHJcbiAgICAgICAgdGhpcy5fZ2FtZSA9IGdhbWU7XHJcbiAgICB9XHJcbiAgICBnZXQgbGVuZ3RoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5sZW5ndGg7XHJcbiAgICB9XHJcbiAgICB0d2lzdChleHAsIHJldmVyc2UgPSBmYWxzZSwgdGltZXMgPSAxLCBjYWxsYmFjayA9IG51bGwsIGZhc3QgPSBmYWxzZSkge1xyXG4gICAgICAgIGxldCBsaXN0ID0gbmV3IFR3aXN0Tm9kZShleHAsIHJldmVyc2UsIHRpbWVzKS5wYXJzZSgpO1xyXG4gICAgICAgIGlmIChmYXN0KSB7XHJcbiAgICAgICAgICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGFuZ2xlID0gLU1hdGguUEkgLyAyO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQucmV2ZXJzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlID0gLWFuZ2xlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudGltZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmdsZSA9IGFuZ2xlICogZWxlbWVudC50aW1lcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBwYXJ0ID0gQ3ViZWxldEdyb3VwLkdST1VQU1tlbGVtZW50LmV4cF07XHJcbiAgICAgICAgICAgICAgICBpZiAocGFydCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGFydC5ob2xkKHRoaXMuX2dhbWUpO1xyXG4gICAgICAgICAgICAgICAgcGFydC5hbmdsZSA9IGFuZ2xlO1xyXG4gICAgICAgICAgICAgICAgcGFydC5hZGp1c3QodGhpcy5fZ2FtZSk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxpc3RbbGlzdC5sZW5ndGggLSAxXS5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgICAgICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fcXVldWUubGVuZ3RoID09PSAwIHx8IHRoaXMuX2dhbWUubG9jaykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB0d2lzdCA9IHRoaXMuX3F1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgICAgaWYgKHVuZGVmaW5lZCA9PSB0d2lzdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhcnQodHdpc3QpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoYWN0aW9uKSB7XHJcbiAgICAgICAgbGV0IGFuZ2xlID0gLU1hdGguUEkgLyAyO1xyXG4gICAgICAgIGlmIChhY3Rpb24ucmV2ZXJzZSkge1xyXG4gICAgICAgICAgICBhbmdsZSA9IC1hbmdsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFjdGlvbi50aW1lcykge1xyXG4gICAgICAgICAgICBhbmdsZSA9IGFuZ2xlICogYWN0aW9uLnRpbWVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZHVyYXRpb24gPSB0aGlzLl9nYW1lLmR1cmF0aW9uICogTWF0aC5taW4oMC41LCBNYXRoLmFicyhhbmdsZSkgLyBNYXRoLlBJKTtcclxuICAgICAgICBsZXQgcGFydCA9IEN1YmVsZXRHcm91cC5HUk9VUFNbYWN0aW9uLmV4cF07XHJcbiAgICAgICAgaWYgKHBhcnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhcnQuaG9sZCh0aGlzLl9nYW1lKTtcclxuICAgICAgICB0aGlzLl9nYW1lLnR3ZWVuZXIudHdlZW4ocGFydC5hbmdsZSwgcGFydC5hbmdsZSArIGFuZ2xlLCBkdXJhdGlvbiwgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHBhcnQuYW5nbGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5fZ2FtZS5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBwYXJ0LmFkanVzdCh0aGlzLl9nYW1lKTtcclxuICAgICAgICAgICAgaWYgKGFjdGlvbi5jYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uLmNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fZ2FtZS5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBtYXRjaChob2xkZXIpIHtcclxuICAgICAgICBsZXQgZztcclxuICAgICAgICBsZXQgcmVzdWx0ID0gW107XHJcbiAgICAgICAgdmFyIGluZGV4ID0gaG9sZGVyLmluZGV4O1xyXG4gICAgICAgIGlmIChob2xkZXIuaW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICAgIGcgPSBDdWJlbGV0R3JvdXAuR1JPVVBTLng7XHJcbiAgICAgICAgICAgIGlmIChnLmF4aXMuZG90KGhvbGRlci5wbGFuZS5ub3JtYWwpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnID0gQ3ViZWxldEdyb3VwLkdST1VQUy55O1xyXG4gICAgICAgICAgICBpZiAoZy5heGlzLmRvdChob2xkZXIucGxhbmUubm9ybWFsKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZyA9IEN1YmVsZXRHcm91cC5HUk9VUFMuejtcclxuICAgICAgICAgICAgaWYgKGcuYXhpcy5kb3QoaG9sZGVyLnBsYW5lLm5vcm1hbCkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB4ID0gKGluZGV4ICUgMykgLSAxO1xyXG4gICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcigoaW5kZXggJSA5KSAvIDMpIC0gMTtcclxuICAgICAgICB2YXIgeiA9IE1hdGguZmxvb3IoaW5kZXggLyA5KSAtIDE7XHJcbiAgICAgICAgc3dpdGNoICh4KSB7XHJcbiAgICAgICAgICAgIGNhc2UgLTE6XHJcbiAgICAgICAgICAgICAgICBnID0gQ3ViZWxldEdyb3VwLkdST1VQUy5MO1xyXG4gICAgICAgICAgICAgICAgaWYgKGcuYXhpcy5kb3QoaG9sZGVyLnBsYW5lLm5vcm1hbCkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICBnID0gQ3ViZWxldEdyb3VwLkdST1VQUy5NO1xyXG4gICAgICAgICAgICAgICAgaWYgKGcuYXhpcy5kb3QoaG9sZGVyLnBsYW5lLm5vcm1hbCkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBnID0gQ3ViZWxldEdyb3VwLkdST1VQUy5SO1xyXG4gICAgICAgICAgICAgICAgaWYgKGcuYXhpcy5kb3QoaG9sZGVyLnBsYW5lLm5vcm1hbCkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAoeSkge1xyXG4gICAgICAgICAgICBjYXNlIC0xOlxyXG4gICAgICAgICAgICAgICAgZyA9IEN1YmVsZXRHcm91cC5HUk9VUFMuRDtcclxuICAgICAgICAgICAgICAgIGlmIChnLmF4aXMuZG90KGhvbGRlci5wbGFuZS5ub3JtYWwpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgZyA9IEN1YmVsZXRHcm91cC5HUk9VUFMuRTtcclxuICAgICAgICAgICAgICAgIGlmIChnLmF4aXMuZG90KGhvbGRlci5wbGFuZS5ub3JtYWwpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgZyA9IEN1YmVsZXRHcm91cC5HUk9VUFMuVTtcclxuICAgICAgICAgICAgICAgIGlmIChnLmF4aXMuZG90KGhvbGRlci5wbGFuZS5ub3JtYWwpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKHopIHtcclxuICAgICAgICAgICAgY2FzZSAtMTpcclxuICAgICAgICAgICAgICAgIGcgPSBDdWJlbGV0R3JvdXAuR1JPVVBTLkI7XHJcbiAgICAgICAgICAgICAgICBpZiAoZy5heGlzLmRvdChob2xkZXIucGxhbmUubm9ybWFsKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIGcgPSBDdWJlbGV0R3JvdXAuR1JPVVBTLlM7XHJcbiAgICAgICAgICAgICAgICBpZiAoZy5heGlzLmRvdChob2xkZXIucGxhbmUubm9ybWFsKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIGcgPSBDdWJlbGV0R3JvdXAuR1JPVVBTLkY7XHJcbiAgICAgICAgICAgICAgICBpZiAoZy5heGlzLmRvdChob2xkZXIucGxhbmUubm9ybWFsKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgVHdpc3RBY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5leHAgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMucmV2ZXJzZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudGltZXMgPSAxO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgZm9ybWF0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRpbWVzID09IDBcclxuICAgICAgICAgICAgPyBcIlwiXHJcbiAgICAgICAgICAgIDogKHRoaXMuZXhwLmxlbmd0aCA+IDEgPyBcIihcIiA6IFwiXCIpICtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXhwICtcclxuICAgICAgICAgICAgICAgICh0aGlzLmV4cC5sZW5ndGggPiAxID8gXCIpXCIgOiBcIlwiKSArXHJcbiAgICAgICAgICAgICAgICAodGhpcy5yZXZlcnNlID8gXCInXCIgOiBcIlwiKSArXHJcbiAgICAgICAgICAgICAgICAodGhpcy50aW1lcyA9PSAxID8gXCJcIiA6IFN0cmluZyh0aGlzLnRpbWVzKSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIFR3aXN0Tm9kZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihleHAsIHJldmVyc2UgPSBmYWxzZSwgdGltZXMgPSAxKSB7XHJcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4gPSBbXTtcclxuICAgICAgICB0aGlzLl90d2lzdCA9IG5ldyBUd2lzdEFjdGlvbigpO1xyXG4gICAgICAgIGxldCBsaXN0ID0gZXhwXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9bXnh5emJzZmRldWxtclxcKFxcKScwMTIzNDU2Nzg5XS9naSwgXCJcIilcclxuICAgICAgICAgICAgLm1hdGNoKC9cXChbeHl6YnNmZGV1bG1yJ1xcZF0rXFwpKCdcXGQqfFxcZConfFxcZCopfFt4eXpic2ZkZXVsbXJdKCdcXGQqfFxcZConfFxcZCopL2dpKTtcclxuICAgICAgICBpZiAobnVsbCA9PT0gbGlzdCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBsaXN0WzBdLm1hdGNoKC9eXFwoKFxcUyspXFwpKCc/KShcXGQqKSgnPykkL2kpO1xyXG4gICAgICAgICAgICBpZiAodmFsdWVzID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSBsaXN0WzBdLm1hdGNoKC8oW3h5emJzZmRldWxtcl0pKCc/KShcXGQqKSgnPykvaSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gdmFsdWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdHdpc3QuZXhwID0gdmFsdWVzWzFdO1xyXG4gICAgICAgICAgICAgICAgaWYgKC9bWFlaXS8udGVzdCh0aGlzLl90d2lzdC5leHApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHdpc3QuZXhwID0gdGhpcy5fdHdpc3QuZXhwLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoL1ttZXNdLy50ZXN0KHRoaXMuX3R3aXN0LmV4cCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90d2lzdC5leHAgPSB0aGlzLl90d2lzdC5leHAudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuLnB1c2gobmV3IFR3aXN0Tm9kZSh2YWx1ZXNbMV0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl90d2lzdC5yZXZlcnNlID0gKHZhbHVlc1syXSArIHZhbHVlc1s0XSkubGVuZ3RoID09IDAgPyBmYWxzZSA6IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX3R3aXN0LnRpbWVzID0gdmFsdWVzWzNdLmxlbmd0aCA9PSAwID8gMSA6IHBhcnNlSW50KHZhbHVlc1szXSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3R3aXN0LnJldmVyc2UgPSB0aGlzLl90d2lzdC5yZXZlcnNlICE9PSByZXZlcnNlO1xyXG4gICAgICAgICAgICB0aGlzLl90d2lzdC50aW1lcyA9IHRoaXMuX3R3aXN0LnRpbWVzICogdGltZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl90d2lzdC5leHAgPSBleHA7XHJcbiAgICAgICAgICAgIHRoaXMuX3R3aXN0LnJldmVyc2UgPSByZXZlcnNlO1xyXG4gICAgICAgICAgICB0aGlzLl90d2lzdC50aW1lcyA9IHRpbWVzO1xyXG4gICAgICAgICAgICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ID0gbmV3IFR3aXN0Tm9kZShjKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuLnB1c2godCk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHBhcnNlKHJldmVyc2UgPSBmYWxzZSkge1xyXG4gICAgICAgIHJldmVyc2UgPSB0aGlzLl90d2lzdC5yZXZlcnNlICE9PSByZXZlcnNlO1xyXG4gICAgICAgIGxldCBfcmVzdWx0ID0gW107XHJcbiAgICAgICAgaWYgKDAgIT09IHRoaXMuX2NoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3R3aXN0LnRpbWVzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5fY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmV2ZXJzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuID0gdGhpcy5fY2hpbGRyZW5bdGhpcy5fY2hpbGRyZW4ubGVuZ3RoIC0gaiAtIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbiA9IHRoaXMuX2NoaWxkcmVuW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IG4ucGFyc2UocmV2ZXJzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZXN1bHQucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGFjdGlvbiA9IG5ldyBUd2lzdEFjdGlvbigpO1xyXG4gICAgICAgICAgICBhY3Rpb24uZXhwID0gdGhpcy5fdHdpc3QuZXhwO1xyXG4gICAgICAgICAgICBhY3Rpb24ucmV2ZXJzZSA9IHJldmVyc2U7XHJcbiAgICAgICAgICAgIGFjdGlvbi50aW1lcyA9IHRoaXMuX3R3aXN0LnRpbWVzO1xyXG4gICAgICAgICAgICBfcmVzdWx0LnB1c2goYWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF9yZXN1bHQ7XHJcbiAgICB9XHJcbn1cclxuIiwidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufTtcclxudmFyIF9fbWV0YWRhdGEgPSAodGhpcyAmJiB0aGlzLl9fbWV0YWRhdGEpIHx8IGZ1bmN0aW9uIChrLCB2KSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XHJcbn07XHJcbmltcG9ydCBWdWUgZnJvbSBcInZ1ZVwiO1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFdhdGNoLCBJbmplY3QgfSBmcm9tIFwidnVlLXByb3BlcnR5LWRlY29yYXRvclwiO1xyXG5pbXBvcnQgeyBUd2lzdE5vZGUgfSBmcm9tIFwiLi4vLi4vY3ViZS90d2lzdGVyXCI7XHJcbmltcG9ydCBBcHAgZnJvbSBcIi4uL0FwcFwiO1xyXG5sZXQgU2NyaXB0UGFuZWwgPSBjbGFzcyBTY3JpcHRQYW5lbCBleHRlbmRzIFZ1ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50eXBlID0gTnVtYmVyKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNjcmlwdC50eXBlXCIpIHx8IDApO1xyXG4gICAgICAgIHRoaXMuaW5kZXggPSBOdW1iZXIod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2NyaXB0LmluZGV4XCIpIHx8IDEpO1xyXG4gICAgICAgIHRoaXMuc2NyaXB0cyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJGMkxcIixcclxuICAgICAgICAgICAgICAgIHN0cmlwczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhzOiBbNiwgNywgOCwgMTUsIDE2LCAxNywgMjQsIDI1LCAyNl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhY2VzOiBbMCwgMSwgMiwgMywgNCwgNV1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgc2NyaXB0czogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMDFcIiwgZXhwOiBcIlVSVSdSJ1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0wMlwiLCBleHA6IFwieChVUidVJ2wpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTAzXCIsIGV4cDogXCJ5JyhSJ1UnUil5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTA0XCIsIGV4cDogXCIoUlVSJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMDVcIiwgZXhwOiBcInknUjJ5JyhSJ1UnUlUpeVIyeVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0wNlwiLCBleHA6IFwiUjJ5KFJVUidVJyl5J1IyXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTA3XCIsIGV4cDogXCJVJyhSVSdVJykoUidVMikoUlUnUicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTA4XCIsIGV4cDogXCJkKFInVTIpKFJVJ1UnKShSJ1VSKXlcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMDlcIiwgZXhwOiBcIihSMlUpeShSVSdSJ0YyKXknXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTEwXCIsIGV4cDogXCJ5JyhSMlUnKShGJ1VGKVIyeVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0xMVwiLCBleHA6IFwieScoUlUnVScpUicyVSdSMlUnUid5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTEyXCIsIGV4cDogXCIoUidVMikoUjInVSkoUjInVVIpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTEzXCIsIGV4cDogXCJkKFInVVJVJykoUidVJ1IpeVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0xNFwiLCBleHA6IFwiVScoUlUnUidVKShSVVInKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0xNVwiLCBleHA6IFwieScoUidVKShSZCdVJykoUlVSJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMTZcIiwgZXhwOiBcIihSVSdSJ1UpKGRSJ1UnUil5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTE3XCIsIGV4cDogXCIoUlUnVScpKFInVSdSVSlSJ1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0xOFwiLCBleHA6IFwieScoUidVMikoUlVSJ1UnKVJ5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTE5XCIsIGV4cDogXCJVKFJVJ1UnKShSJ1VSVScpUidcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMjBcIiwgZXhwOiBcImQnelUnKFIyVSkoUidVJ1JVKXoneSdcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMjFcIiwgZXhwOiBcIlJ5KFJVMlInRicpeSdcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMjJcIiwgZXhwOiBcIkYnTCdVMnJVeCdcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMjNcIiwgZXhwOiBcIihVMlIyJ1UyKShSJ1UnUlUnUjIpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTI0XCIsIGV4cDogXCJ5JyhVMlIyJ1UyKShSVVInVVIyKXlcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMjVcIiwgZXhwOiBcInlVJyhMJ1VMVSl5JyhSVSdSJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMjZcIiwgZXhwOiBcIihVUlUnUidVJyl5JyhSJ1VSKXlcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMjdcIiwgZXhwOiBcIihSVSdSJ1UpKFJVJ1InKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0yOFwiLCBleHA6IFwieScoUidVKShSVScpKFInVVIpeVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0yOVwiLCBleHA6IFwieScoUidVJ1JVKShSJ1UnUil5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTMwXCIsIGV4cDogXCIoUlVSJ1UnKShSVVInKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0zMVwiLCBleHA6IFwiKFJVJ1InKXknKFInVTJSKXlcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMzJcIiwgZXhwOiBcIihSVVInVScpMihSVVInKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0zM1wiLCBleHA6IFwiVScoUlUnKShSJ1UyKShSVSdSJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMzRcIiwgZXhwOiBcIlUnKFJVJ1UnUidVKShSVVInKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0zNVwiLCBleHA6IFwiVScoUlVSJylkKFInVSdSKXlcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMzZcIiwgZXhwOiBcImQoUidVJ1IpZCcoUlVSJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMzdcIiwgZXhwOiBcIihSVScyUidVKTJ5JyhSJ1UnUil5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTM4XCIsIGV4cDogXCIoUlVSJ1UnKShSVSdVJ1InVScpKFJVUicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTM5XCIsIGV4cDogXCIoUlUnVScpKFJVUidVKShSVSdVJylSMlwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC00MFwiLCBleHA6IFwiKFJVJ1JVKXkoUlUnUidGMil5J1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC00MVwiLCBleHA6IFwiUjJ5KFJVUidVJyl5JyhSJ1VSJylcIiB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiT0xMXCIsXHJcbiAgICAgICAgICAgICAgICBzdHJpcHM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4czogWzYsIDcsIDgsIDE1LCAxNiwgMTcsIDI0LCAyNSwgMjZdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWNlczogWzAsIDEsIDIsIDQsIDVdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIHNjcmlwdHM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTAxXCIsIGV4cDogXCIoUlUnMikoUjInRlJGJylVMihSJ0ZSRicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTAyXCIsIGV4cDogXCIoRlJVUidVJ0YnKShmUlVSJ1UnZicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTAzXCIsIGV4cDogXCJmKFJVUidVJylmJ1UnRihSVVInVScpRidcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMDRcIiwgZXhwOiBcImYoUlVSJ1UnKXl4KFInRikoUlVSJ1UnKUYneSdcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMDVcIiwgZXhwOiBcIihyJ1UyKShSVVInVSlyXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTA2XCIsIGV4cDogXCIoclUnMikoUidVJ1JVJ3InKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0wN1wiLCBleHA6IFwiclVSJ1VSVScycidcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMDhcIiwgZXhwOiBcInInVSdSVSdSJ1UyclwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0wOVwiLCBleHA6IFwiKFInVSdSKXkneCcoUlUnKShSJ0YpKFJVUicpeHlcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMTBcIiwgZXhwOiBcIihSVVInVSkoUidGUkYnKShSVScyUicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTExXCIsIGV4cDogXCJyJyhSMlVSJ1UpKFJVJzJSJ1UpKHJSJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMTJcIiwgZXhwOiBcIkwybFUneihVUidVJykoUjJVUicpeidyUidcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMTNcIiwgZXhwOiBcIihyVSdyJ1UnKShyVXInKShGJ1VGKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0xNFwiLCBleHA6IFwiUidGUlVSJ0YnUihGVSdGJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMTVcIiwgZXhwOiBcIihyJ1UncikoUidVJ1JVKShyJ1VyKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0xNlwiLCBleHA6IFwiUkJSJ0xVTCdVJ1JCJ1InXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTE3XCIsIGV4cDogXCIoUlVSJ1UpKFInRlJGJ1UyKVInRlJGJ1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0xOFwiLCBleHA6IFwiRihSVVInZCkoUidVMikoUidGUkYnKXlcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMTlcIiwgZXhwOiBcIlInVTJGUlVSJ1UneSdSMlUnMlJCeVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0yMFwiLCBleHA6IFwicicoUlUpKFJVUidVJ3IyKShSMidVKShSVScpcidcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMjFcIiwgZXhwOiBcIihSVScyKShSJ1UnUlVSJ1UnKShSVSdSJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMjJcIiwgZXhwOiBcIlJVJzIoUicyVScpKFIyVScpUicyVScyUlwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0yM1wiLCBleHA6IFwiKFIyRCcpKFJVMikoUidEKShSVTJSKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0yNFwiLCBleHA6IFwiKHJVUidVJykocidGUkYnKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0yNVwiLCBleHA6IFwiRicoclVSJ1UnKShyJ0ZSKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0yNlwiLCBleHA6IFwiUlUnMlInVSdSVSdSJ1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0yN1wiLCBleHA6IFwiUidVMlJVUidVUlwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0yOFwiLCBleHA6IFwiKHJVUidVJykocidSVSkoUlUnUicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTI5XCIsIGV4cDogXCIoUjJVJ1IpRihSJ1UpKFIyVScpKFInRidSKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0zMFwiLCBleHA6IFwiKFIyVVInQicpKFJVJykoUjInVSkobFVsJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMzFcIiwgZXhwOiBcIihyJ0YnVUYpKExGJ0wnVSdyKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0zMlwiLCBleHA6IFwiKFJVKShCJ1UnKShSJ1VSQlInKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0zM1wiLCBleHA6IFwiKFJVUidVJykoUidGUkYnKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0zNFwiLCBleHA6IFwiKFInVSdSVSl4J3onKFJVKShMJ1UnKXJSJ3lcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMzVcIiwgZXhwOiBcIlJVJzJSMidGUkYnKFJVJzJSJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMzZcIiwgZXhwOiBcIlInVSdSVSdSJ1VSVWxVJ1InVXhcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMzdcIiwgZXhwOiBcIkYoUlUnUidVJ1JVKShSJ0YnKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0zOFwiLCBleHA6IFwiKFJVUidVKShSVSdSJ1UnKShSJ0ZSRicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTM5XCIsIGV4cDogXCIoTEYnTCdVJ0xVKShGVSdMJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtNDBcIiwgZXhwOiBcIihSJ0ZSVVInVScpKEYnVVIpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTQxXCIsIGV4cDogXCJSVSdSJ1UyUlV5UlUnUidVJ0YneSdcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtNDJcIiwgZXhwOiBcIihSJ1VSVScyUidVJykoRidVKShGVVIpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTQzXCIsIGV4cDogXCIoQidVJykoUidVUkIpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTQ0XCIsIGV4cDogXCJmKFJVUidVJylmJ1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC00NVwiLCBleHA6IFwiRihSVVInVScpRidcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtNDZcIiwgZXhwOiBcIihSJ1UnKVInRlJGJyhVUilcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtNDdcIiwgZXhwOiBcIkInKFInVSdSVSkyQlwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC00OFwiLCBleHA6IFwiRihSVVInVScpMkYnXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTQ5XCIsIGV4cDogXCJSQicoUjJGKShSMkIpUjJGJ1JcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtNTBcIiwgZXhwOiBcIkwnQihMMkYnKShMMkInKUwyRkwnXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTUxXCIsIGV4cDogXCJmKFJVUidVJykyZidcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtNTJcIiwgZXhwOiBcIlInVSdSVSdSJ2RSJ1VsVXh5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTUzXCIsIGV4cDogXCIocidVMikoUlVSJ1UnKShSVVInVSlyXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTU0XCIsIGV4cDogXCIoclUnMikoUidVJ1JVUidVJykoUlUncicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTU1XCIsIGV4cDogXCIoUlUnMikoUicyVScpUlUnUidVMihGUkYnKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC01NlwiLCBleHA6IFwiRihSVVInVScpKFJGJykoclVSJ1UnKXInXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTU3XCIsIGV4cDogXCIoUlVSJ1UncikoUidVKShSVSdyJylcIiB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiUExMXCIsXHJcbiAgICAgICAgICAgICAgICBzdHJpcHM6IFtdLFxyXG4gICAgICAgICAgICAgICAgc2NyaXB0czogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJQTEwtQWFcIiwgZXhwOiBcIngoUjJVJzIpKFInRCcpKFJVJzIpKFInRFInKXgnXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiUExMLUFiXCIsIGV4cDogXCJ4KFJEJ1IpVTJSJ0RSVTJSJzJ4J1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlBMTC1FXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cDogXCJ4JyhSVSdSJ0RSVVInKXUyJyhSJ1VSRFInVSdSKXgneTJcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlBMTC1GXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cDogXCIoUidVJ0YnKShSVVInVScpKFInRlIyVSdSJ1UnKShSVVInVVIpXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJQTEwtR2FcIiwgZXhwOiBcIihSMnVSJykoVVInVSdSdScpKFInMkYnVUYpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiUExMLUdiXCIsIGV4cDogXCIoUidkJ0YpKFIydSkoUidVUlUnUnUnUicyKXknXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiUExMLUdjXCIsIGV4cDogXCIoUicydSdSVSdSKShVUid1KShSMmZSJ2YnKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIlBMTC1HZFwiLCBleHA6IFwiKFJVUicpeScoUjJ1J1JVJ1InVSkoUid1UjIpeVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIlBMTC1IXCIsIGV4cDogXCJNMlVNMlUyTTJVTTJcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJQTEwtSmFcIiwgZXhwOiBcInooVSdSRCcpKFIyVVInVScpKFIyVURSJyl6J1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIlBMTC1KYlwiLCBleHA6IFwiKFJVUidGJykoUlVSJ1UnKShSJ0YpKFIyVSdSJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJQTEwtTmFcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwOiBcInooUidVUicpeicoUlUyTCdVUicpeihVUicpeicoUlUyTCdVUicpXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJQTEwtTmJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwOiBcInooVSdSRCcpKFIyVVInVScpeicoUlVSJyl6KFIyVVInKXonKFJVJylcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIlBMTC1SYVwiLCBleHA6IFwiKFJVJzIpKFInVTIpKFJCJ1InVScpKFJVUkJSMidVKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlBMTC1SYlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHA6IFwiKFInVTIpKFJVJzIpKFInRlJVUidVJykoUidGJ1IyVScpXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJQTEwtVFwiLCBleHA6IFwiKFJVUidVJykoUidGKShSMlUnUidVJ1JVUidGJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJQTEwtVWFcIiwgZXhwOiBcIihSVSdSKShVUlVSKShVJ1InVSdSMilcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJQTEwtVWJcIiwgZXhwOiBcIihSMlUpKFJVUidVJykoUidVJykoUidVUicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiUExMLVZcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwOiBcIihSJ1VSJ1UneXgyKShSJ1VSJ1UneXgpKFUyUidVJ1JVUil4XCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJQTEwtWVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHA6IFwiRihSVSdSJ1UnKShSVVInRicpKFJVUidVJykoUidGUkYnKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiUExMLVpcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwOiBcIihSJ1UnUlUnUikoVVJVJ1InVVIpKFVSMlUnUicpVTJcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgdGhpcy50aW1lb3V0VGFzayA9IDA7XHJcbiAgICAgICAgdGhpcy5pbnRlcnZhbFRhc2sgPSAwO1xyXG4gICAgICAgIHRoaXMuZXhwID0gXCJcIjtcclxuICAgICAgICB0aGlzLmFjdGlvbnMgPSBuZXcgVHdpc3ROb2RlKHRoaXMuZXhwKS5wYXJzZSgpO1xyXG4gICAgfVxyXG4gICAgb25TaG93Q2hhbmdlKHRvLCBmcm9tKSB7XHJcbiAgICAgICAgdGhpcy5zdGljaygpO1xyXG4gICAgICAgIGlmICh0bykge1xyXG4gICAgICAgICAgICB0aGlzLm9uVHlwZUNoYW5nZSgpO1xyXG4gICAgICAgICAgICB0aGlzLm9uSW5kZXhDaGFuZ2UoKTtcclxuICAgICAgICAgICAgdGhpcy5vblNjcmlwdENoYW5nZSgpO1xyXG4gICAgICAgICAgICB0aGlzLm9uRXhwQ2hhbmdlKHRoaXMuZXhwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHBsYXkoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvZ3Jlc3MgPT0gdGhpcy5hY3Rpb25zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucGxheWluZykge1xyXG4gICAgICAgICAgICB0aGlzLmZvcndhcmQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3J3YXJkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb2dyZXNzID09IHRoaXMuYWN0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYWN0aW9uID0gdGhpcy5hY3Rpb25zW3RoaXMucHJvZ3Jlc3NdO1xyXG4gICAgICAgIHRoaXMuYXBwLmdhbWUudHdpc3Rlci50d2lzdChhY3Rpb24uZXhwLCBhY3Rpb24ucmV2ZXJzZSwgYWN0aW9uLnRpbWVzLCB0aGlzLnBsYXksIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnByb2dyZXNzKys7XHJcbiAgICB9XHJcbiAgICBiYWNrd2FyZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9ncmVzcyA9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzcy0tO1xyXG4gICAgICAgIGxldCBhY3Rpb24gPSB0aGlzLmFjdGlvbnNbdGhpcy5wcm9ncmVzc107XHJcbiAgICAgICAgdGhpcy5hcHAuZ2FtZS50d2lzdGVyLnR3aXN0KGFjdGlvbi5leHAsICFhY3Rpb24ucmV2ZXJzZSwgYWN0aW9uLnRpbWVzLCB0aGlzLnBsYXksIGZhbHNlKTtcclxuICAgIH1cclxuICAgIGVuZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9ncmVzcyA9PSB0aGlzLmFjdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5wcm9ncmVzcztcclxuICAgICAgICBsZXQgZW5kID0gdGhpcy5hY3Rpb25zLmxlbmd0aDtcclxuICAgICAgICBsZXQgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucy5zbGljZShzdGFydCwgZW5kKTtcclxuICAgICAgICBmb3IgKGxldCBhY3Rpb24gb2YgYWN0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLmFwcC5nYW1lLnR3aXN0ZXIudHdpc3QoYWN0aW9uLmV4cCwgYWN0aW9uLnJldmVyc2UsIGFjdGlvbi50aW1lcywgbnVsbCwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSB0aGlzLmFjdGlvbnMubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvZ3Jlc3MgPT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzdGFydCA9IDA7XHJcbiAgICAgICAgbGV0IGVuZCA9IHRoaXMucHJvZ3Jlc3M7XHJcbiAgICAgICAgbGV0IGFjdGlvbnMgPSB0aGlzLmFjdGlvbnMuc2xpY2Uoc3RhcnQsIGVuZCkucmV2ZXJzZSgpO1xyXG4gICAgICAgIGZvciAobGV0IGFjdGlvbiBvZiBhY3Rpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwLmdhbWUudHdpc3Rlci50d2lzdChhY3Rpb24uZXhwLCAhYWN0aW9uLnJldmVyc2UsIGFjdGlvbi50aW1lcywgbnVsbCwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xyXG4gICAgfVxyXG4gICAgc3RpY2soKSB7XHJcbiAgICAgICAgdGhpcy5hcHAuZ2FtZS5jdWJlLnN0aWNrKCk7XHJcbiAgICAgICAgdGhpcy5hcHAuZ2FtZS5kaXJ0eSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBzdHJpcCgpIHtcclxuICAgICAgICBsZXQgc3RyaXBzID0gdGhpcy5zY3JpcHRzW3RoaXMudHlwZV0uc3RyaXBzO1xyXG4gICAgICAgIGZvciAobGV0IHN0cmlwIG9mIHN0cmlwcykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCBvZiBzdHJpcC5pbmRleHMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwLmdhbWUuY3ViZS5zdHJpcChpbmRleCwgc3RyaXAuZmFjZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYXBwLmdhbWUuZGlydHkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgb25JbmRleENoYW5nZSgpIHtcclxuICAgICAgICBsZXQgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7XHJcbiAgICAgICAgc3RvcmFnZS5zZXRJdGVtKFwic2NyaXB0LmluZGV4XCIsIFN0cmluZyh0aGlzLmluZGV4KSk7XHJcbiAgICB9XHJcbiAgICBvblR5cGVDaGFuZ2UodG8gPSB0aGlzLnR5cGUsIGZyb20gPSB0aGlzLnR5cGUpIHtcclxuICAgICAgICBsZXQgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7XHJcbiAgICAgICAgc3RvcmFnZS5zZXRJdGVtKFwic2NyaXB0LnR5cGVcIiwgU3RyaW5nKHRoaXMudHlwZSkpO1xyXG4gICAgICAgIGlmICh0byAhPSBmcm9tKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0aWNrKCk7XHJcbiAgICAgICAgdGhpcy5zdHJpcCgpO1xyXG4gICAgfVxyXG4gICAgZ2V0IHNjcmlwdCgpIHtcclxuICAgICAgICBsZXQgbGVuZ3RoID0gdGhpcy5zY3JpcHRzW3RoaXMudHlwZV0uc2NyaXB0cy5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5pbmRleDtcclxuICAgICAgICB3aGlsZSAoaW5kZXggPCAxKSB7XHJcbiAgICAgICAgICAgIGluZGV4ID0gaW5kZXggKyBsZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdoaWxlIChpbmRleCA+IGxlbmd0aCkge1xyXG4gICAgICAgICAgICBpbmRleCA9IGluZGV4IC0gbGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc2NyaXB0ID0gdGhpcy5zY3JpcHRzW3RoaXMudHlwZV0uc2NyaXB0c1tpbmRleCAtIDFdO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSB7IG5hbWU6IFwiXCIsIGV4cDogXCJcIiB9O1xyXG4gICAgICAgIHJlc3VsdC5uYW1lID0gc2NyaXB0Lm5hbWU7XHJcbiAgICAgICAgcmVzdWx0LmV4cCA9IHNjcmlwdC5leHA7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIGluZGV4RG93bihkZWx0YSkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRUYXNrKTtcclxuICAgICAgICB0aGlzLnRpbWVvdXRUYXNrID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZW91dFRhc2sgPSAwO1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5pbnRlcnZhbFRhc2spO1xyXG4gICAgICAgICAgICB0aGlzLmludGVydmFsVGFzayA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXggPSB0aGlzLmluZGV4ICsgZGVsdGE7XHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGluZGV4VXAoZGVsdGEpIHtcclxuICAgICAgICBpZiAodGhpcy50aW1lb3V0VGFzayAhPSAwKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRUYXNrKTtcclxuICAgICAgICAgICAgdGhpcy5pbmRleCA9IHRoaXMuaW5kZXggKyBkZWx0YTtcclxuICAgICAgICAgICAgdGhpcy50aW1lb3V0VGFzayA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmludGVydmFsVGFzayAhPSAwKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbFRhc2spO1xyXG4gICAgICAgICAgICB0aGlzLmludGVydmFsVGFzayA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgb25FeHBDaGFuZ2UodmFsdWUpIHtcclxuICAgICAgICBsZXQgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7XHJcbiAgICAgICAgbGV0IHNhdmVkID0gc3RvcmFnZS5nZXRJdGVtKHRoaXMuc2NyaXB0Lm5hbWUpO1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PSB0aGlzLnNjcmlwdC5leHApIHtcclxuICAgICAgICAgICAgc3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuc2NyaXB0Lm5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPSBzYXZlZCkge1xyXG4gICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0odGhpcy5zY3JpcHQubmFtZSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFjdGlvbnMgPSBuZXcgVHdpc3ROb2RlKHRoaXMuZXhwKS5wYXJzZSgpO1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgIH1cclxuICAgIG9uU2NyaXB0Q2hhbmdlKCkge1xyXG4gICAgICAgIGxldCBzdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTtcclxuICAgICAgICB0aGlzLmV4cCA9IHN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnNjcmlwdC5uYW1lKSB8fCB0aGlzLnNjcmlwdC5leHA7XHJcbiAgICB9XHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcclxuICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmFwcC5nYW1lLnJlc2V0KCk7XHJcbiAgICAgICAgdGhpcy5hcHAuZ2FtZS50d2lzdGVyLnR3aXN0KHRoaXMuZXhwLCB0cnVlLCAxLCBudWxsLCB0cnVlKTtcclxuICAgIH1cclxufTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBJbmplY3QoXCJhcHBcIiksXHJcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXBwKVxyXG5dLCBTY3JpcHRQYW5lbC5wcm90b3R5cGUsIFwiYXBwXCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgUHJvcCh7IGRlZmF1bHQ6IGZhbHNlIH0pLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXHJcbl0sIFNjcmlwdFBhbmVsLnByb3RvdHlwZSwgXCJzaG93XCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgV2F0Y2goXCJzaG93XCIpLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbQm9vbGVhbiwgQm9vbGVhbl0pLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcclxuXSwgU2NyaXB0UGFuZWwucHJvdG90eXBlLCBcIm9uU2hvd0NoYW5nZVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBQcm9wKHsgZGVmYXVsdDogZmFsc2UgfSksXHJcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcclxuXSwgU2NyaXB0UGFuZWwucHJvdG90eXBlLCBcImRpc2FibGVkXCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgV2F0Y2goXCJpbmRleFwiKSxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXHJcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW10pLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcclxuXSwgU2NyaXB0UGFuZWwucHJvdG90eXBlLCBcIm9uSW5kZXhDaGFuZ2VcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgV2F0Y2goXCJ0eXBlXCIpLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbTnVtYmVyLCBOdW1iZXJdKSxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXHJcbl0sIFNjcmlwdFBhbmVsLnByb3RvdHlwZSwgXCJvblR5cGVDaGFuZ2VcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgV2F0Y2goXCJleHBcIiksXHJcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtTdHJpbmddKSxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXHJcbl0sIFNjcmlwdFBhbmVsLnByb3RvdHlwZSwgXCJvbkV4cENoYW5nZVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBXYXRjaChcInNjcmlwdFwiKSxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXHJcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW10pLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcclxuXSwgU2NyaXB0UGFuZWwucHJvdG90eXBlLCBcIm9uU2NyaXB0Q2hhbmdlXCIsIG51bGwpO1xyXG5TY3JpcHRQYW5lbCA9IF9fZGVjb3JhdGUoW1xyXG4gICAgQ29tcG9uZW50KHtcclxuICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZShcIi4vaW5kZXguaHRtbFwiKVxyXG4gICAgfSlcclxuXSwgU2NyaXB0UGFuZWwpO1xyXG5leHBvcnQgZGVmYXVsdCBTY3JpcHRQYW5lbDtcclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XHJcbmltcG9ydCB7IFNoYXBlIH0gZnJvbSBcInRocmVlXCI7XHJcbmNsYXNzIEZyYW1lIGV4dGVuZHMgVEhSRUUuR2VvbWV0cnkge1xyXG4gICAgY29uc3RydWN0b3Ioc2l6ZSwgYm9yZGVyKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBsZXQgX08gPSBzaXplIC8gMjtcclxuICAgICAgICBsZXQgX0kgPSBfTyAtIGJvcmRlcjtcclxuICAgICAgICBsZXQgX3ZlcnRzID0gW1xyXG4gICAgICAgICAgICBbLV9JLCArX0ksICtfT10sXHJcbiAgICAgICAgICAgIFsrX0ksICtfSSwgK19PXSxcclxuICAgICAgICAgICAgWytfSSwgLV9JLCArX09dLFxyXG4gICAgICAgICAgICBbLV9JLCAtX0ksICtfT10sXHJcbiAgICAgICAgICAgIFstX0ksICtfTywgLV9JXSxcclxuICAgICAgICAgICAgWytfSSwgK19PLCAtX0ldLFxyXG4gICAgICAgICAgICBbK19JLCArX08sICtfSV0sXHJcbiAgICAgICAgICAgIFstX0ksICtfTywgK19JXSxcclxuICAgICAgICAgICAgWy1fTywgLV9JLCAtX0ldLFxyXG4gICAgICAgICAgICBbLV9PLCArX0ksIC1fSV0sXHJcbiAgICAgICAgICAgIFstX08sICtfSSwgK19JXSxcclxuICAgICAgICAgICAgWy1fTywgLV9JLCArX0ldLFxyXG4gICAgICAgICAgICBbK19JLCArX0ksIC1fT10sXHJcbiAgICAgICAgICAgIFstX0ksICtfSSwgLV9PXSxcclxuICAgICAgICAgICAgWy1fSSwgLV9JLCAtX09dLFxyXG4gICAgICAgICAgICBbK19JLCAtX0ksIC1fT10sXHJcbiAgICAgICAgICAgIFstX0ksIC1fTywgK19JXSxcclxuICAgICAgICAgICAgWytfSSwgLV9PLCArX0ldLFxyXG4gICAgICAgICAgICBbK19JLCAtX08sIC1fSV0sXHJcbiAgICAgICAgICAgIFstX0ksIC1fTywgLV9JXSxcclxuICAgICAgICAgICAgWytfTywgK19JLCArX0ldLFxyXG4gICAgICAgICAgICBbK19PLCArX0ksIC1fSV0sXHJcbiAgICAgICAgICAgIFsrX08sIC1fSSwgLV9JXSxcclxuICAgICAgICAgICAgWytfTywgLV9JLCArX0ldXHJcbiAgICAgICAgXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IF92ZXJ0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgX3ZlcnQgPSBfdmVydHNbaV07XHJcbiAgICAgICAgICAgIHRoaXMudmVydGljZXMucHVzaChuZXcgVEhSRUUuVmVjdG9yMyhfdmVydFswXSwgX3ZlcnRbMV0sIF92ZXJ0WzJdKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgRnJhbWUuX0lORElDRVMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IF9pbmRpY2UgPSBGcmFtZS5fSU5ESUNFU1tpXTtcclxuICAgICAgICAgICAgbGV0IF9mYWNlID0gbmV3IFRIUkVFLkZhY2UzKF9pbmRpY2VbMF0sIF9pbmRpY2VbMV0sIF9pbmRpY2VbMl0pO1xyXG4gICAgICAgICAgICB0aGlzLmZhY2VzLnB1c2goX2ZhY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5GcmFtZS5fSU5ESUNFUyA9IFtcclxuICAgIFsxLCA2LCA3XSxcclxuICAgIFswLCAxLCA3XSxcclxuICAgIFszLCAwLCAxMF0sXHJcbiAgICBbMTEsIDMsIDEwXSxcclxuICAgIFsxNywgMiwgM10sXHJcbiAgICBbMTYsIDE3LCAzXSxcclxuICAgIFsyMywgMjAsIDFdLFxyXG4gICAgWzIsIDIzLCAxXSxcclxuICAgIFs1LCAxMiwgMTNdLFxyXG4gICAgWzQsIDUsIDEzXSxcclxuICAgIFs5LCAxMywgMTRdLFxyXG4gICAgWzgsIDksIDE0XSxcclxuICAgIFsyMiwgMTUsIDEyXSxcclxuICAgIFsyMSwgMjIsIDEyXSxcclxuICAgIFsxOSwgMTQsIDE1XSxcclxuICAgIFsxOCwgMTksIDE1XSxcclxuICAgIFs3LCA0LCA5XSxcclxuICAgIFsxMCwgNywgOV0sXHJcbiAgICBbMTEsIDgsIDE5XSxcclxuICAgIFsxNiwgMTEsIDE5XSxcclxuICAgIFsyMywgMTcsIDE4XSxcclxuICAgIFsyMiwgMjMsIDE4XSxcclxuICAgIFsyMCwgMjEsIDVdLFxyXG4gICAgWzYsIDIwLCA1XSxcclxuICAgIFsyMCwgNiwgMV0sXHJcbiAgICBbMTAsIDAsIDddLFxyXG4gICAgWzIxLCAxMiwgNV0sXHJcbiAgICBbMTMsIDksIDRdLFxyXG4gICAgWzIzLCAyLCAxN10sXHJcbiAgICBbMTEsIDE2LCAzXSxcclxuICAgIFsyMiwgMTgsIDE1XSxcclxuICAgIFs4LCAxNCwgMTldXHJcbl07XHJcbmNsYXNzIFN0aWNrZXIgZXh0ZW5kcyBUSFJFRS5TaGFwZUdlb21ldHJ5IHtcclxuICAgIGNvbnN0cnVjdG9yKHNpemUsIGVkZ2UpIHtcclxuICAgICAgICBzaXplID0gc2l6ZSAvIDI7XHJcbiAgICAgICAgc2l6ZSA9IHNpemUgLSBlZGdlO1xyXG4gICAgICAgIGxldCBsZWZ0ID0gLXNpemU7XHJcbiAgICAgICAgbGV0IGJvdHRvbSA9IHNpemU7XHJcbiAgICAgICAgbGV0IHRvcCA9IC1zaXplO1xyXG4gICAgICAgIGxldCByaWdodCA9IHNpemU7XHJcbiAgICAgICAgbGV0IHJhZGl1cyA9IHNpemUgLyA0O1xyXG4gICAgICAgIGxldCBzaGFwZSA9IG5ldyBTaGFwZSgpO1xyXG4gICAgICAgIHNoYXBlLm1vdmVUbyhsZWZ0LCB0b3AgKyByYWRpdXMpO1xyXG4gICAgICAgIHNoYXBlLmxpbmVUbyhsZWZ0LCBib3R0b20gLSByYWRpdXMpO1xyXG4gICAgICAgIHNoYXBlLnF1YWRyYXRpY0N1cnZlVG8obGVmdCwgYm90dG9tLCBsZWZ0ICsgcmFkaXVzLCBib3R0b20pO1xyXG4gICAgICAgIHNoYXBlLmxpbmVUbyhyaWdodCAtIHJhZGl1cywgYm90dG9tKTtcclxuICAgICAgICBzaGFwZS5xdWFkcmF0aWNDdXJ2ZVRvKHJpZ2h0LCBib3R0b20sIHJpZ2h0LCBib3R0b20gLSByYWRpdXMpO1xyXG4gICAgICAgIHNoYXBlLmxpbmVUbyhyaWdodCwgdG9wICsgcmFkaXVzKTtcclxuICAgICAgICBzaGFwZS5xdWFkcmF0aWNDdXJ2ZVRvKHJpZ2h0LCB0b3AsIHJpZ2h0IC0gcmFkaXVzLCB0b3ApO1xyXG4gICAgICAgIHNoYXBlLmxpbmVUbyhsZWZ0ICsgcmFkaXVzLCB0b3ApO1xyXG4gICAgICAgIHNoYXBlLnF1YWRyYXRpY0N1cnZlVG8obGVmdCwgdG9wLCBsZWZ0LCB0b3AgKyByYWRpdXMpO1xyXG4gICAgICAgIHNoYXBlLmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIHN1cGVyKHNoYXBlKTtcclxuICAgIH1cclxufVxyXG5jbGFzcyBFZGdlIGV4dGVuZHMgVEhSRUUuU2hhcGVHZW9tZXRyeSB7XHJcbiAgICBjb25zdHJ1Y3RvcihzaXplLCBlZGdlKSB7XHJcbiAgICAgICAgbGV0IHNoYXBlID0gbmV3IFNoYXBlKCk7XHJcbiAgICAgICAgc2l6ZSA9IHNpemUgLyAyO1xyXG4gICAgICAgIHNoYXBlLm1vdmVUbygtc2l6ZSwgLXNpemUpO1xyXG4gICAgICAgIHNoYXBlLmxpbmVUbygtc2l6ZSwgc2l6ZSk7XHJcbiAgICAgICAgc2hhcGUubGluZVRvKHNpemUsIHNpemUpO1xyXG4gICAgICAgIHNoYXBlLmxpbmVUbyhzaXplLCAtc2l6ZSk7XHJcbiAgICAgICAgc2hhcGUuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgc2l6ZSA9IHNpemUgLSBlZGdlO1xyXG4gICAgICAgIGxldCBsZWZ0ID0gLXNpemU7XHJcbiAgICAgICAgbGV0IGJvdHRvbSA9IHNpemU7XHJcbiAgICAgICAgbGV0IHRvcCA9IC1zaXplO1xyXG4gICAgICAgIGxldCByaWdodCA9IHNpemU7XHJcbiAgICAgICAgbGV0IHJhZGl1cyA9IHNpemUgLyA0O1xyXG4gICAgICAgIGxldCBob2xlID0gbmV3IFNoYXBlKCk7XHJcbiAgICAgICAgaG9sZS5tb3ZlVG8obGVmdCwgdG9wICsgcmFkaXVzKTtcclxuICAgICAgICBob2xlLnF1YWRyYXRpY0N1cnZlVG8obGVmdCwgdG9wLCBsZWZ0ICsgcmFkaXVzLCB0b3ApO1xyXG4gICAgICAgIGhvbGUubGluZVRvKHJpZ2h0IC0gcmFkaXVzLCB0b3ApO1xyXG4gICAgICAgIGhvbGUucXVhZHJhdGljQ3VydmVUbyhyaWdodCwgdG9wLCByaWdodCwgdG9wICsgcmFkaXVzKTtcclxuICAgICAgICBob2xlLmxpbmVUbyhyaWdodCwgYm90dG9tIC0gcmFkaXVzKTtcclxuICAgICAgICBob2xlLnF1YWRyYXRpY0N1cnZlVG8ocmlnaHQsIGJvdHRvbSwgcmlnaHQgLSByYWRpdXMsIGJvdHRvbSk7XHJcbiAgICAgICAgaG9sZS5saW5lVG8obGVmdCArIHJhZGl1cywgYm90dG9tKTtcclxuICAgICAgICBob2xlLnF1YWRyYXRpY0N1cnZlVG8obGVmdCwgYm90dG9tLCBsZWZ0LCBib3R0b20gLSByYWRpdXMpO1xyXG4gICAgICAgIGhvbGUubGluZVRvKGxlZnQsIHRvcCArIHJhZGl1cyk7XHJcbiAgICAgICAgaG9sZS5jbG9zZVBhdGgoKTtcclxuICAgICAgICBzaGFwZS5ob2xlcy5wdXNoKGhvbGUpO1xyXG4gICAgICAgIHN1cGVyKHNoYXBlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDdWJlbGV0IGV4dGVuZHMgVEhSRUUuR3JvdXAge1xyXG4gICAgY29uc3RydWN0b3IoaW5kZXgpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuX3ZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XHJcbiAgICAgICAgdGhpcy5fc3RpY2tlcnMgPSBbXTtcclxuICAgICAgICB0aGlzLmluaXRpYWwgPSBpbmRleDtcclxuICAgICAgICBsZXQgX3ggPSAoaW5kZXggJSAzKSAtIDE7XHJcbiAgICAgICAgbGV0IF95ID0gTWF0aC5mbG9vcigoaW5kZXggJSA5KSAvIDMpIC0gMTtcclxuICAgICAgICBsZXQgX3ogPSBNYXRoLmZsb29yKGluZGV4IC8gOSkgLSAxO1xyXG4gICAgICAgIHRoaXMudmVjdG9yID0gbmV3IFRIUkVFLlZlY3RvcjMoX3gsIF95LCBfeik7XHJcbiAgICAgICAgdGhpcy5fbWF0ZXJpYWxzID0gW1xyXG4gICAgICAgICAgICB0aGlzLl92ZWN0b3IueCA8IDAgPyBDdWJlbGV0Ll9NQVRFUklBTFMubyA6IEN1YmVsZXQuX01BVEVSSUFMUy5pLFxyXG4gICAgICAgICAgICB0aGlzLl92ZWN0b3IueCA+IDAgPyBDdWJlbGV0Ll9NQVRFUklBTFMuciA6IEN1YmVsZXQuX01BVEVSSUFMUy5pLFxyXG4gICAgICAgICAgICB0aGlzLl92ZWN0b3IueSA8IDAgPyBDdWJlbGV0Ll9NQVRFUklBTFMudyA6IEN1YmVsZXQuX01BVEVSSUFMUy5pLFxyXG4gICAgICAgICAgICB0aGlzLl92ZWN0b3IueSA+IDAgPyBDdWJlbGV0Ll9NQVRFUklBTFMueSA6IEN1YmVsZXQuX01BVEVSSUFMUy5pLFxyXG4gICAgICAgICAgICB0aGlzLl92ZWN0b3IueiA8IDAgPyBDdWJlbGV0Ll9NQVRFUklBTFMuZyA6IEN1YmVsZXQuX01BVEVSSUFMUy5pLFxyXG4gICAgICAgICAgICB0aGlzLl92ZWN0b3IueiA+IDAgPyBDdWJlbGV0Ll9NQVRFUklBTFMuYiA6IEN1YmVsZXQuX01BVEVSSUFMUy5pXHJcbiAgICAgICAgXTtcclxuICAgICAgICBsZXQgX2ZyYW1lID0gbmV3IFRIUkVFLk1lc2goQ3ViZWxldC5fRlJBTUUsIEN1YmVsZXQuX01BVEVSSUFMUy5wKTtcclxuICAgICAgICB0aGlzLmFkZChfZnJhbWUpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBfZWRnZSA9IG5ldyBUSFJFRS5NZXNoKEN1YmVsZXQuX0VER0UsIEN1YmVsZXQuX01BVEVSSUFMUy5wKTtcclxuICAgICAgICAgICAgbGV0IF9zdGlja2VyID0gbmV3IFRIUkVFLk1lc2goQ3ViZWxldC5fU1RJQ0tFUiwgdGhpcy5fbWF0ZXJpYWxzW2ldKTtcclxuICAgICAgICAgICAgc3dpdGNoIChpKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgX2VkZ2Uucm90YXRpb24ueSA9IC1NYXRoLlBJIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBfZWRnZS5wb3NpdGlvbi54ID0gLUN1YmVsZXQuX1NJWkUgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zdGlja2VyLnJvdGF0aW9uLnkgPSAtTWF0aC5QSSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgX3N0aWNrZXIucG9zaXRpb24ueCA9IC1DdWJlbGV0Ll9TSVpFIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBfZWRnZS5yb3RhdGlvbi55ID0gTWF0aC5QSSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgX2VkZ2UucG9zaXRpb24ueCA9IEN1YmVsZXQuX1NJWkUgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zdGlja2VyLnJvdGF0aW9uLnkgPSBNYXRoLlBJIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBfc3RpY2tlci5wb3NpdGlvbi54ID0gQ3ViZWxldC5fU0laRSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgX2VkZ2Uucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIF9lZGdlLnBvc2l0aW9uLnkgPSAtQ3ViZWxldC5fU0laRSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgX3N0aWNrZXIucm90YXRpb24ueCA9IE1hdGguUEkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zdGlja2VyLnBvc2l0aW9uLnkgPSAtQ3ViZWxldC5fU0laRSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgX2VkZ2Uucm90YXRpb24ueCA9IC1NYXRoLlBJIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBfZWRnZS5wb3NpdGlvbi55ID0gQ3ViZWxldC5fU0laRSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgX3N0aWNrZXIucm90YXRpb24ueCA9IC1NYXRoLlBJIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBfc3RpY2tlci5wb3NpdGlvbi55ID0gQ3ViZWxldC5fU0laRSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgX2VkZ2Uucm90YXRpb24ueCA9IE1hdGguUEk7XHJcbiAgICAgICAgICAgICAgICAgICAgX2VkZ2UucG9zaXRpb24ueiA9IC1DdWJlbGV0Ll9TSVpFIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBfc3RpY2tlci5yb3RhdGlvbi54ID0gTWF0aC5QSTtcclxuICAgICAgICAgICAgICAgICAgICBfc3RpY2tlci5wb3NpdGlvbi56ID0gLUN1YmVsZXQuX1NJWkUgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgIF9lZGdlLnJvdGF0aW9uLnogPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIF9lZGdlLnBvc2l0aW9uLnogPSBDdWJlbGV0Ll9TSVpFIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBfc3RpY2tlci5yb3RhdGlvbi56ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBfc3RpY2tlci5wb3NpdGlvbi56ID0gQ3ViZWxldC5fU0laRSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYWRkKF9lZGdlKTtcclxuICAgICAgICAgICAgdGhpcy5hZGQoX3N0aWNrZXIpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGlja2Vycy5wdXNoKF9zdGlja2VyKTtcclxuICAgICAgICAgICAgdGhpcy5tYXRyaXhBdXRvVXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWF0cml4KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0IHZlY3Rvcih2ZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl92ZWN0b3Iuc2V0KE1hdGgucm91bmQodmVjdG9yLngpLCBNYXRoLnJvdW5kKHZlY3Rvci55KSwgTWF0aC5yb3VuZCh2ZWN0b3IueikpO1xyXG4gICAgICAgIHRoaXMuX2luZGV4ID1cclxuICAgICAgICAgICAgKHRoaXMudmVjdG9yLnogKyAxKSAqIDkgKyAodGhpcy52ZWN0b3IueSArIDEpICogMyArICh0aGlzLnZlY3Rvci54ICsgMSk7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0gQ3ViZWxldC5fU0laRSAqIHRoaXMuX3ZlY3Rvci54O1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IEN1YmVsZXQuX1NJWkUgKiB0aGlzLl92ZWN0b3IueTtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uLnogPSBDdWJlbGV0Ll9TSVpFICogdGhpcy5fdmVjdG9yLno7XHJcbiAgICB9XHJcbiAgICBnZXQgdmVjdG9yKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92ZWN0b3I7XHJcbiAgICB9XHJcbiAgICBzZXQgaW5kZXgoaW5kZXgpIHtcclxuICAgICAgICBsZXQgX3ggPSAoaW5kZXggJSAzKSAtIDE7XHJcbiAgICAgICAgbGV0IF95ID0gTWF0aC5mbG9vcigoaW5kZXggJSA5KSAvIDMpIC0gMTtcclxuICAgICAgICBsZXQgX3ogPSBNYXRoLmZsb29yKGluZGV4IC8gOSkgLSAxO1xyXG4gICAgICAgIHRoaXMudmVjdG9yID0gbmV3IFRIUkVFLlZlY3RvcjMoX3gsIF95LCBfeik7XHJcbiAgICB9XHJcbiAgICBnZXQgaW5kZXgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4O1xyXG4gICAgfVxyXG4gICAgZ2V0IGlkZW50aXR5KCkge1xyXG4gICAgICAgIHJldHVybiBDdWJlbGV0LnBvc2l0aW9ucy5pbmRleE9mKHRoaXMuaW5pdGlhbCk7XHJcbiAgICB9XHJcbiAgICBnZXQgb3JpZW50YXRpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICBzdGljaygpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGlja2Vyc1tpXS5tYXRlcmlhbCA9IHRoaXMuX21hdGVyaWFsc1tpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdHJpcChmYWNlKSB7XHJcbiAgICAgICAgdGhpcy5fc3RpY2tlcnNbZmFjZV0ubWF0ZXJpYWwgPSBDdWJlbGV0Ll9NQVRFUklBTFMuaTtcclxuICAgIH1cclxufVxyXG5DdWJlbGV0Ll9TSVpFID0gMzI7XHJcbkN1YmVsZXQuX0JPUkRFUl9XSURUSCA9IDI7XHJcbkN1YmVsZXQuX0VER0VfV0lEVEggPSAxO1xyXG5DdWJlbGV0Ll9GUkFNRSA9IG5ldyBGcmFtZShDdWJlbGV0Ll9TSVpFLCBDdWJlbGV0Ll9CT1JERVJfV0lEVEgpO1xyXG5DdWJlbGV0Ll9FREdFID0gbmV3IEVkZ2UoQ3ViZWxldC5fU0laRSAtIDIgKiBDdWJlbGV0Ll9CT1JERVJfV0lEVEgsIEN1YmVsZXQuX0VER0VfV0lEVEgpO1xyXG5DdWJlbGV0Ll9TVElDS0VSID0gbmV3IFN0aWNrZXIoQ3ViZWxldC5fU0laRSAtIDIgKiBDdWJlbGV0Ll9CT1JERVJfV0lEVEgsIEN1YmVsZXQuX0VER0VfV0lEVEgpO1xyXG5DdWJlbGV0Ll9NQVRFUklBTFMgPSB7XHJcbiAgICBwOiBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoeyB3aXJlZnJhbWU6IGZhbHNlLCBjb2xvcjogXCIjMDAwMDAwXCIgfSksXHJcbiAgICBpOiBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoeyB3aXJlZnJhbWU6IGZhbHNlLCBjb2xvcjogXCIjMzAzMDMwXCIgfSksXHJcbiAgICBnOiBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoeyB3aXJlZnJhbWU6IGZhbHNlLCBjb2xvcjogXCIjMDA5RDU0XCIgfSksXHJcbiAgICBvOiBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoeyB3aXJlZnJhbWU6IGZhbHNlLCBjb2xvcjogXCIjRkY2QzAwXCIgfSksXHJcbiAgICBiOiBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoeyB3aXJlZnJhbWU6IGZhbHNlLCBjb2xvcjogXCIjM0Q4MUY2XCIgfSksXHJcbiAgICB5OiBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoeyB3aXJlZnJhbWU6IGZhbHNlLCBjb2xvcjogXCIjRkRDQzA5XCIgfSksXHJcbiAgICB3OiBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoeyB3aXJlZnJhbWU6IGZhbHNlLCBjb2xvcjogXCIjRkZGRkZGXCIgfSksXHJcbiAgICByOiBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoeyB3aXJlZnJhbWU6IGZhbHNlLCBjb2xvcjogXCIjREM0MjJGXCIgfSlcclxufTtcclxuQ3ViZWxldC5wb3NpdGlvbnMgPSBbXHJcbiAgICAyNSxcclxuICAgIDE3LFxyXG4gICAgNyxcclxuICAgIDE1LFxyXG4gICAgMTksXHJcbiAgICAxMSxcclxuICAgIDEsXHJcbiAgICA5LFxyXG4gICAgMjMsXHJcbiAgICAyMSxcclxuICAgIDUsXHJcbiAgICAzLFxyXG4gICAgMjYsXHJcbiAgICA4LFxyXG4gICAgNixcclxuICAgIDI0LFxyXG4gICAgMjAsXHJcbiAgICAxOCxcclxuICAgIDAsXHJcbiAgICAyXHJcbl07XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xyXG5pbXBvcnQgQ3ViZWxldCBmcm9tIFwiLi9jdWJlbGV0XCI7XHJcbmltcG9ydCB7IEV1bGVyIH0gZnJvbSBcInRocmVlXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1YmUgZXh0ZW5kcyBUSFJFRS5Hcm91cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihnYW1lKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmN1YmVsZXRzID0gW107XHJcbiAgICAgICAgdGhpcy5faW5pdGlhbCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjc7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgY3ViZWxldCA9IG5ldyBDdWJlbGV0KGkpO1xyXG4gICAgICAgICAgICB0aGlzLmN1YmVsZXRzLnB1c2goY3ViZWxldCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWwucHVzaChjdWJlbGV0KTtcclxuICAgICAgICAgICAgdGhpcy5hZGQoY3ViZWxldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWF0cml4QXV0b1VwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudXBkYXRlTWF0cml4KCk7XHJcbiAgICB9XHJcbiAgICBjb21wYXJlKGxlZnQsIHJpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIGxlZnQuaW5kZXggLSByaWdodC5pbmRleDtcclxuICAgIH1cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIGZvciAobGV0IGN1YmVsZXQgb2YgdGhpcy5jdWJlbGV0cykge1xyXG4gICAgICAgICAgICBjdWJlbGV0LnNldFJvdGF0aW9uRnJvbUV1bGVyKG5ldyBFdWxlcigwLCAwLCAwKSk7XHJcbiAgICAgICAgICAgIGN1YmVsZXQuaW5kZXggPSBjdWJlbGV0LmluaXRpYWw7XHJcbiAgICAgICAgICAgIGN1YmVsZXQudXBkYXRlTWF0cml4KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3ViZWxldHMuc29ydCh0aGlzLmNvbXBhcmUpO1xyXG4gICAgfVxyXG4gICAgc3RpY2soKSB7XHJcbiAgICAgICAgZm9yIChsZXQgY3ViZWxldCBvZiB0aGlzLmN1YmVsZXRzKSB7XHJcbiAgICAgICAgICAgIGN1YmVsZXQuc3RpY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdHJpcChpbmRleCwgZmFjZXMpIHtcclxuICAgICAgICBmb3IgKGxldCBmYWNlIG9mIGZhY2VzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxbaW5kZXhdLnN0cmlwKGZhY2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldCBzdGF0ZSgpIHtcclxuICAgICAgICBsZXQgcG9zaXRpb25zID0gW107XHJcbiAgICAgICAgbGV0IG9yaWVudGF0aW9ucyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IHBvc2l0aW9uIG9mIEN1YmVsZXQucG9zaXRpb25zKSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKHRoaXMuY3ViZWxldHNbcG9zaXRpb25dLmlkZW50aXR5KTtcclxuICAgICAgICAgICAgb3JpZW50YXRpb25zLnB1c2godGhpcy5jdWJlbGV0c1twb3NpdGlvbl0ub3JpZW50YXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcG9zaXRpb25zLmNvbmNhdChvcmllbnRhdGlvbnMpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFR3ZWVuZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fdHdlZW5zID0gW107XHJcbiAgICAgICAgdGhpcy5sb29wKCk7XHJcbiAgICB9XHJcbiAgICBsb29wKCkge1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmxvb3AuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgIH1cclxuICAgIHR3ZWVuKGJlZ2luLCBlbmQsIGR1cmF0aW9uLCB1cGRhdGUsIGZpbmlzaCkge1xyXG4gICAgICAgIHRoaXMuX3R3ZWVucy5wdXNoKG5ldyBUd2VlbihiZWdpbiwgZW5kLCBkdXJhdGlvbiwgdXBkYXRlLCBmaW5pc2gpKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fdHdlZW5zLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICB3aGlsZSAoaSA8IHRoaXMuX3R3ZWVucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3R3ZWVuc1tpXS51cGRhdGUoKSkge1xyXG4gICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdHdlZW5zLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5jbGFzcyBUd2VlbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihiZWdpbiwgZW5kLCBkdXJhdGlvbiwgdXBkYXRlLCBmaW5pc2gpIHtcclxuICAgICAgICB0aGlzLl92YWx1ZSA9IDA7XHJcbiAgICAgICAgdGhpcy5fYmVnaW4gPSBiZWdpbjtcclxuICAgICAgICB0aGlzLl9lbmQgPSBlbmQ7XHJcbiAgICAgICAgdGhpcy5fZHVyYXRpb24gPSBkdXJhdGlvbjtcclxuICAgICAgICB0aGlzLl91cGRhdGUgPSB1cGRhdGU7XHJcbiAgICAgICAgdGhpcy5fZmluaXNoID0gZmluaXNoO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlKys7XHJcbiAgICAgICAgbGV0IGVsYXBzZWQgPSB0aGlzLl92YWx1ZSAvIHRoaXMuX2R1cmF0aW9uO1xyXG4gICAgICAgIGVsYXBzZWQgPSBlbGFwc2VkID4gMSA/IDEgOiBlbGFwc2VkO1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IDEgLSAtLWVsYXBzZWQgKiBlbGFwc2VkO1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZSh0aGlzLl9iZWdpbiArICh0aGlzLl9lbmQgLSB0aGlzLl9iZWdpbikgKiB2YWx1ZSk7XHJcbiAgICAgICAgaWYgKHZhbHVlID09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5fZmluaXNoKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9sZGVyIHtcclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcclxuaW1wb3J0IEdhbWUgZnJvbSBcIi4vZ2FtZVwiO1xyXG5pbXBvcnQgQ3ViZWxldEdyb3VwIGZyb20gXCIuL2dyb3VwXCI7XHJcbmltcG9ydCBIb2xkZXIgZnJvbSBcIi4vaG9sZGVyXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xsZXIge1xyXG4gICAgY29uc3RydWN0b3IoZ2FtZSkge1xyXG4gICAgICAgIHRoaXMuX2RyYWdnaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fcm90YXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9vbk1vdXNlRG93biA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZ2FtZS5sb2NrKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9kb3duLnggPSBldmVudC5vZmZzZXRYO1xyXG4gICAgICAgICAgICB0aGlzLl9kb3duLnkgPSBldmVudC5vZmZzZXRZO1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVEb3duKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9vbk1vdXNlTW92ZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9tb3ZlLnggPSBldmVudC5vZmZzZXRYO1xyXG4gICAgICAgICAgICB0aGlzLl9tb3ZlLnkgPSBldmVudC5vZmZzZXRZO1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVNb3ZlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9vbk1vdXNlVXAgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlVXAoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX29uTW91c2VPdXQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlVXAoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX29uVG91Y2ggPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgbGV0IHRvdWNoZXMgPSBldmVudC5jaGFuZ2VkVG91Y2hlcztcclxuICAgICAgICAgICAgbGV0IGZpcnN0ID0gdG91Y2hlc1swXTtcclxuICAgICAgICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidG91Y2hzdGFydFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9nYW1lLmxvY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rvd24ueCA9IGZpcnN0LmNsaWVudFg7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZG93bi55ID0gZmlyc3QuY2xpZW50WTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVEb3duKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidG91Y2htb3ZlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbW92ZS54ID0gZmlyc3QuY2xpZW50WDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tb3ZlLnkgPSBmaXJzdC5jbGllbnRZO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZU1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ0b3VjaGVuZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZVVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fZ2FtZSA9IGdhbWU7XHJcbiAgICAgICAgdGhpcy5fcmF5ID0gbmV3IFRIUkVFLlJheSgpO1xyXG4gICAgICAgIHRoaXMuX2Rvd24gPSBuZXcgVEhSRUUuVmVjdG9yMigwLCAwKTtcclxuICAgICAgICB0aGlzLl9tb3ZlID0gbmV3IFRIUkVFLlZlY3RvcjIoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcclxuICAgICAgICB0aGlzLl9ob2xkZXIgPSBuZXcgSG9sZGVyKCk7XHJcbiAgICAgICAgdGhpcy5faG9sZGVyLnZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XHJcbiAgICAgICAgdGhpcy5fdmVjdG9yID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLl9wbGFuZXMgPSBbXHJcbiAgICAgICAgICAgIG5ldyBUSFJFRS5QbGFuZShuZXcgVEhSRUUuVmVjdG9yMygxLCAwLCAwKSwgKC1HYW1lLlNJWkUgKiAzKSAvIDY0KSxcclxuICAgICAgICAgICAgbmV3IFRIUkVFLlBsYW5lKG5ldyBUSFJFRS5WZWN0b3IzKDAsIDEsIDApLCAoLUdhbWUuU0laRSAqIDMpIC8gNjQpLFxyXG4gICAgICAgICAgICBuZXcgVEhSRUUuUGxhbmUobmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgMSksICgtR2FtZS5TSVpFICogMykgLyA2NClcclxuICAgICAgICBdO1xyXG4gICAgICAgIHRoaXMuX2dhbWUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5fb25Nb3VzZURvd24pO1xyXG4gICAgICAgIHRoaXMuX2dhbWUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5fb25Nb3VzZU1vdmUpO1xyXG4gICAgICAgIHRoaXMuX2dhbWUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMuX29uTW91c2VVcCk7XHJcbiAgICAgICAgdGhpcy5fZ2FtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIHRoaXMuX29uTW91c2VPdXQpO1xyXG4gICAgICAgIHRoaXMuX2dhbWUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMuX29uVG91Y2gsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuX2dhbWUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy5fb25Ub3VjaCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5fZ2FtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIHRoaXMuX29uVG91Y2gsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgX2ludGVyc2VjdChwb2ludCwgcGxhbmUpIHtcclxuICAgICAgICB2YXIgeCA9IChwb2ludC54IC8gdGhpcy5fZ2FtZS5jYW52YXMuY2xpZW50V2lkdGgpICogMiAtIDE7XHJcbiAgICAgICAgdmFyIHkgPSAtKHBvaW50LnkgLyB0aGlzLl9nYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQpICogMiArIDE7XHJcbiAgICAgICAgdGhpcy5fcmF5Lm9yaWdpbi5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5fZ2FtZS5jYW1lcmEubWF0cml4V29ybGQpO1xyXG4gICAgICAgIHRoaXMuX3JheS5kaXJlY3Rpb25cclxuICAgICAgICAgICAgLnNldCh4LCB5LCAwLjUpXHJcbiAgICAgICAgICAgIC51bnByb2plY3QodGhpcy5fZ2FtZS5jYW1lcmEpXHJcbiAgICAgICAgICAgIC5zdWIodGhpcy5fcmF5Lm9yaWdpbilcclxuICAgICAgICAgICAgLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgIHRoaXMuX3JheS5hcHBseU1hdHJpeDQodGhpcy5fbWF0cml4LmlkZW50aXR5KCkuZ2V0SW52ZXJzZSh0aGlzLl9nYW1lLnNjZW5lLm1hdHJpeCkpO1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMuX3JheS5pbnRlcnNlY3RQbGFuZShwbGFuZSwgcmVzdWx0KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgX2hhbmRsZURvd24oKSB7XHJcbiAgICAgICAgdGhpcy5fZHJhZ2dpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX2hvbGRlci5pbmRleCA9IC0xO1xyXG4gICAgICAgIHRoaXMuX3BsYW5lcy5zb21lKHBsYW5lID0+IHtcclxuICAgICAgICAgICAgdmFyIHBvaW50ID0gdGhpcy5faW50ZXJzZWN0KHRoaXMuX2Rvd24sIHBsYW5lKTtcclxuICAgICAgICAgICAgaWYgKHBvaW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMocG9pbnQueCkgPD0gNDggKyAwLjAxICYmXHJcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMocG9pbnQueSkgPD0gNDggKyAwLjAxICYmXHJcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMocG9pbnQueikgPD0gNDggKyAwLjAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faG9sZGVyLnBsYW5lID0gcGxhbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBNYXRoLmNlaWwoTWF0aC5yb3VuZChwb2ludC54KSAvIDMyIC0gMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeSA9IE1hdGguY2VpbChNYXRoLnJvdW5kKHBvaW50LnkpIC8gMzIgLSAwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB6ID0gTWF0aC5jZWlsKE1hdGgucm91bmQocG9pbnQueikgLyAzMiAtIDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHggPCAyICYmIHggPiAtMiAmJiB5IDwgMiAmJiB5ID4gLTIgJiYgeiA8IDIgJiYgeiA+IC0yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hvbGRlci5pbmRleCA9ICh6ICsgMSkgKiA5ICsgKHkgKyAxKSAqIDMgKyAoeCArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faG9sZGVyLmluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICB0aGlzLl9nYW1lLmRpcnR5ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIF9oYW5kbGVNb3ZlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9kcmFnZ2luZykge1xyXG4gICAgICAgICAgICB2YXIgZHggPSB0aGlzLl9tb3ZlLnggLSB0aGlzLl9kb3duLng7XHJcbiAgICAgICAgICAgIHZhciBkeSA9IHRoaXMuX21vdmUueSAtIHRoaXMuX2Rvd24ueTtcclxuICAgICAgICAgICAgdmFyIGQgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xyXG4gICAgICAgICAgICBpZiAoTWF0aC5taW4odGhpcy5fZ2FtZS5jYW52YXMuY2xpZW50V2lkdGgsIHRoaXMuX2dhbWUuY2FudmFzLmNsaWVudEhlaWdodCkgL1xyXG4gICAgICAgICAgICAgICAgZCA+XHJcbiAgICAgICAgICAgICAgICAxMDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9nYW1lLmxvY2spIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdnaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fZHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5fcm90YXRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faG9sZGVyLmluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGR4ICogZHggPiBkeSAqIGR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ3JvdXAgPSBDdWJlbGV0R3JvdXAuR1JPVVBTLnk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZG93bi54IDwgdGhpcy5fZ2FtZS5jYW52YXMuY2xpZW50V2lkdGggLyAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dyb3VwID0gQ3ViZWxldEdyb3VwLkdST1VQUy54O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ3JvdXAgPSBDdWJlbGV0R3JvdXAuR1JPVVBTLno7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5faW50ZXJzZWN0KHRoaXMuX2Rvd24sIHRoaXMuX2hvbGRlci5wbGFuZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW5kID0gdGhpcy5faW50ZXJzZWN0KHRoaXMuX21vdmUsIHRoaXMuX2hvbGRlci5wbGFuZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92ZWN0b3Iuc3ViVmVjdG9ycyhlbmQsIHN0YXJ0KTtcclxuICAgICAgICAgICAgICAgIHZhciB4ID0gdGhpcy5fdmVjdG9yLng7XHJcbiAgICAgICAgICAgICAgICB2YXIgeSA9IHRoaXMuX3ZlY3Rvci55O1xyXG4gICAgICAgICAgICAgICAgdmFyIHogPSB0aGlzLl92ZWN0b3IuejtcclxuICAgICAgICAgICAgICAgIHZhciBtYXggPSBNYXRoLm1heChNYXRoLmFicyh4KSwgTWF0aC5hYnMoeSksIE1hdGguYWJzKHopKTtcclxuICAgICAgICAgICAgICAgIHggPSBNYXRoLmFicyh4KSA9PT0gbWF4ID8geCA6IDA7XHJcbiAgICAgICAgICAgICAgICB5ID0gTWF0aC5hYnMoeSkgPT09IG1heCA/IHkgOiAwO1xyXG4gICAgICAgICAgICAgICAgeiA9IE1hdGguYWJzKHopID09PSBtYXggPyB6IDogMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZlY3Rvci5zZXQoeCwgeSwgeik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9ob2xkZXIudmVjdG9yLmNvcHkodGhpcy5fdmVjdG9yLm11bHRpcGx5KHRoaXMuX3ZlY3Rvcikubm9ybWFsaXplKCkpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyb3VwcyA9IHRoaXMuX2dhbWUudHdpc3Rlci5tYXRjaCh0aGlzLl9ob2xkZXIpO1xyXG4gICAgICAgICAgICAgICAgZ3JvdXBzLnNvbWUoZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuYXhpcy5kb3QodGhpcy5fdmVjdG9yKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9ncm91cCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZlY3Rvci5jcm9zc1ZlY3RvcnModGhpcy5faG9sZGVyLnZlY3RvciwgdGhpcy5faG9sZGVyLnBsYW5lLm5vcm1hbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9ob2xkZXIudmVjdG9yLm11bHRpcGx5U2NhbGFyKHRoaXMuX3ZlY3Rvci54ICsgdGhpcy5fdmVjdG9yLnkgKyB0aGlzLl92ZWN0b3Iueik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fZ3JvdXAuaG9sZCh0aGlzLl9nYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX3JvdGF0aW5nKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9ob2xkZXIuaW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZHggPSB0aGlzLl9tb3ZlLnggLSB0aGlzLl9kb3duLng7XHJcbiAgICAgICAgICAgICAgICB2YXIgZHkgPSB0aGlzLl9tb3ZlLnkgLSB0aGlzLl9kb3duLnk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZ3JvdXAgPT09IEN1YmVsZXRHcm91cC5HUk9VUFMueSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dyb3VwLmFuZ2xlID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKGR4IC9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKHRoaXMuX2dhbWUuY2FudmFzLmNsaWVudFdpZHRoLCB0aGlzLl9nYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQpKSAqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLlBJICpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZ3JvdXAgPT09IEN1YmVsZXRHcm91cC5HUk9VUFMueCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9ncm91cC5hbmdsZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZHkgL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKHRoaXMuX2dhbWUuY2FudmFzLmNsaWVudFdpZHRoLCB0aGlzLl9nYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQpKSAqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5QSSAqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dyb3VwLmFuZ2xlID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgtZHkgL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKHRoaXMuX2dhbWUuY2FudmFzLmNsaWVudFdpZHRoLCB0aGlzLl9nYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQpKSAqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5QSSAqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLl9pbnRlcnNlY3QodGhpcy5fZG93biwgdGhpcy5faG9sZGVyLnBsYW5lKTtcclxuICAgICAgICAgICAgICAgIHZhciBlbmQgPSB0aGlzLl9pbnRlcnNlY3QodGhpcy5fbW92ZSwgdGhpcy5faG9sZGVyLnBsYW5lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZlY3Rvci5zdWJWZWN0b3JzKGVuZCwgc3RhcnQpLm11bHRpcGx5KHRoaXMuX2hvbGRlci52ZWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZ3JvdXAuYW5nbGUgPVxyXG4gICAgICAgICAgICAgICAgICAgICgoLSh0aGlzLl92ZWN0b3IueCArIHRoaXMuX3ZlY3Rvci55ICsgdGhpcy5fdmVjdG9yLnopICpcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuX2dyb3VwLmF4aXMueCArIHRoaXMuX2dyb3VwLmF4aXMueSArIHRoaXMuX2dyb3VwLmF4aXMueikpIC9cclxuICAgICAgICAgICAgICAgICAgICAgICAgR2FtZS5TSVpFKSAqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguUEkgKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2dhbWUuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9oYW5kbGVVcCgpIHtcclxuICAgICAgICBpZiAodGhpcy5fcm90YXRpbmcpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2dyb3VwICYmIHRoaXMuX2dyb3VwICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZ2FtZS5lbmFibGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ncm91cC5hZGp1c3QodGhpcy5fZ2FtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ncm91cC5yZXZlcnQodGhpcy5fZ2FtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faG9sZGVyLmluZGV4ID0gLTE7XHJcbiAgICAgICAgdGhpcy5fZHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9yb3RhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2dhbWUuZGlydHkgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xyXG5pbXBvcnQgQ3ViZSBmcm9tIFwiLi9jdWJlXCI7XHJcbmltcG9ydCBUd2VlbmVyIGZyb20gXCIuL3R3ZWVuZXJcIjtcclxuaW1wb3J0IENvbnRyb2xsZXIgZnJvbSBcIi4vY29udHJvbGxlclwiO1xyXG5pbXBvcnQgVHdpc3RlciBmcm9tIFwiLi90d2lzdGVyXCI7XHJcbmltcG9ydCBDdWJlbGV0R3JvdXAgZnJvbSBcIi4vZ3JvdXBcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmxvY2sgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVuYWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IDYwO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gW107XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucm90YXRpb24ueCA9IE1hdGguUEkgLyA4O1xyXG4gICAgICAgIHRoaXMuc2NlbmUucm90YXRpb24ueSA9IE1hdGguUEkgLyAxNiAtIE1hdGguUEkgLyA0O1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDUwLCAxLCAxLCBHYW1lLlNJWkUpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnggPSAwO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnkgPSAwO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSBHYW1lLlNJWkUgLyAzO1xyXG4gICAgICAgIHRoaXMudHdlZW5lciA9IG5ldyBUd2VlbmVyKCk7XHJcbiAgICAgICAgdGhpcy50d2lzdGVyID0gbmV3IFR3aXN0ZXIodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jdWJlID0gbmV3IEN1YmUodGhpcyk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5jdWJlKTtcclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gQ3ViZWxldEdyb3VwLkdST1VQUykge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmFkZChDdWJlbGV0R3JvdXAuR1JPVVBTW2tleV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoeyBhbnRpYWxpYXM6IHRydWUgfSk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKDB4ZmZmZmZmKTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gdGhpcy5yZW5kZXJlci5kb21FbGVtZW50O1xyXG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKHRoaXMpO1xyXG4gICAgICAgIHRoaXMubG9vcCgpO1xyXG4gICAgfVxyXG4gICAgcmFuZG9tKCkge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG4gICAgICAgIGlmICghdGhpcy5sb2NrKSB7XHJcbiAgICAgICAgICAgIGxldCBleHBzID0gW107XHJcbiAgICAgICAgICAgIGxldCBsYXN0ID0gLTE7XHJcbiAgICAgICAgICAgIGxldCBhY3Rpb25zID0gW1wiVVwiLCBcIkRcIiwgXCJSXCIsIFwiTFwiLCBcIkZcIiwgXCJCXCJdO1xyXG4gICAgICAgICAgICBsZXQgYXhpcyA9IC0xO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBleHAgPSBbXTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChheGlzID09IGxhc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBheGlzID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgc2lkZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpO1xyXG4gICAgICAgICAgICAgICAgZXhwLnB1c2goYWN0aW9uc1theGlzICogMiArIHNpZGVdKTtcclxuICAgICAgICAgICAgICAgIGxldCBzdWZmaXggPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN1ZmZpeCA8IDAuMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cC5wdXNoKFwiMlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN1ZmZpeCA8IDAuNikge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cC5wdXNoKFwiJ1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGV4cHMucHVzaChleHAuam9pbihcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICBsYXN0ID0gYXhpcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHQgPSBleHBzLmpvaW4oXCIgXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnR3aXN0ZXIudHdpc3QocmVzdWx0LCBmYWxzZSwgMSwgbnVsbCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgcmVzZXQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmxvY2spIHtcclxuICAgICAgICAgICAgdGhpcy5jdWJlLnJlc2V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gd2lkdGggLyBoZWlnaHQ7XHJcbiAgICAgICAgbGV0IG1pbiA9ICgoaGVpZ2h0IC8gTWF0aC5taW4od2lkdGgsIGhlaWdodCkpICogR2FtZS5TSVpFKSAvIDQ7XHJcbiAgICAgICAgbGV0IGZvdiA9ICgyICogTWF0aC5hdGFuKG1pbiAvIEdhbWUuU0laRSkgKiAxODApIC8gTWF0aC5QSTtcclxuICAgICAgICB0aGlzLmNhbWVyYS5mb3YgPSBmb3Y7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEubG9va0F0KHRoaXMuc2NlbmUucG9zaXRpb24pO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2lkdGgsIGhlaWdodCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xyXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbG9vcCgpIHtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5sb29wLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9XHJcbn1cclxuR2FtZS5TSVpFID0gMTAyNDtcclxuIiwidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufTtcclxudmFyIF9fbWV0YWRhdGEgPSAodGhpcyAmJiB0aGlzLl9fbWV0YWRhdGEpIHx8IGZ1bmN0aW9uIChrLCB2KSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XHJcbn07XHJcbmltcG9ydCBWdWUgZnJvbSBcInZ1ZVwiO1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIEluamVjdCwgV2F0Y2ggfSBmcm9tIFwidnVlLXByb3BlcnR5LWRlY29yYXRvclwiO1xyXG5pbXBvcnQgQXBwIGZyb20gXCIuLi9BcHBcIjtcclxubGV0IFRpbWVyUGFuZWwgPSBjbGFzcyBUaW1lclBhbmVsIGV4dGVuZHMgVnVlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgdGhpcy5leHAgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0aW1lci5leHBcIikgfHwgXCJcIjtcclxuICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcclxuICAgICAgICB0aGlzLmxhcHNlID0gTnVtYmVyKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRpbWVyLmxhcHNlXCIpIHx8IDApO1xyXG4gICAgICAgIHRoaXMudGltZW91dFRhc2sgPSAwO1xyXG4gICAgICAgIHRoaXMuaW50ZXJ2YWxUYXNrID0gMDtcclxuICAgICAgICB0aGlzLnByZXNzID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBvblNob3dDaGFuZ2UodG8sIGZyb20pIHtcclxuICAgICAgICBpZiAodG8pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZXhwID09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmFuZG9tKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcC5nYW1lLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcC5nYW1lLnR3aXN0ZXIudHdpc3QodGhpcy5leHAsIGZhbHNlLCAxLCBudWxsLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uRXhwQ2hhbmdlKHRvLCBmcm9tKSB7XHJcbiAgICAgICAgbGV0IHN0b3JhZ2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlO1xyXG4gICAgICAgIHN0b3JhZ2Uuc2V0SXRlbShcInRpbWVyLmV4cFwiLCB0aGlzLmV4cCk7XHJcbiAgICB9XHJcbiAgICBnZXQgdGltZSgpIHtcclxuICAgICAgICBsZXQgbWluID0gTWF0aC5mbG9vcih0aGlzLmxhcHNlIC8gMTAwMCAvIDYwKTtcclxuICAgICAgICBsZXQgc2VjID0gTWF0aC5mbG9vcigodGhpcy5sYXBzZSAlICgxMDAwICogNjApKSAvIDEwMDApO1xyXG4gICAgICAgIGxldCBtcyA9IE1hdGguZmxvb3IoKHRoaXMubGFwc2UgJSAxMDAwKSAvIDEwKTtcclxuICAgICAgICByZXR1cm4gKChtaW4gPT0gMCA/IFwiXCIgOiBTdHJpbmcobWluKSArIFwiOlwiKSArXHJcbiAgICAgICAgICAgIChcIjBcIiArIFN0cmluZyhzZWMpKS5zdWJzdHIoLTIpICtcclxuICAgICAgICAgICAgXCI6XCIgK1xyXG4gICAgICAgICAgICAoXCIwXCIgKyBTdHJpbmcobXMpKS5zdWJzdHIoLTIpKTtcclxuICAgIH1cclxuICAgIHJhbmRvbSgpIHtcclxuICAgICAgICB0aGlzLmFwcC5nYW1lLnJlc2V0KCk7XHJcbiAgICAgICAgdGhpcy5leHAgPSB0aGlzLmFwcC5nYW1lLnJhbmRvbSgpO1xyXG4gICAgfVxyXG4gICAgZG93bigpIHtcclxuICAgICAgICB0aGlzLnByZXNzID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5sYXBzZSAhPSAwKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0ICE9IDApIHtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbFRhc2spO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcnZhbFRhc2sgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXBzZSA9IGRhdGUuZ2V0VGltZSgpIC0gdGhpcy5zdGFydDtcclxuICAgICAgICAgICAgICAgIGxldCBzdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTtcclxuICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbShcInRpbWVyLmxhcHNlXCIsIFN0cmluZyh0aGlzLmxhcHNlKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRUYXNrKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGltZW91dFRhc2sgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhcHNlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVvdXRUYXNrID0gMDtcclxuICAgICAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IGNvbG9yKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByZXNzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVvdXRUYXNrICE9IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcInJlZC0tdGV4dFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxhcHNlID09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcImdyZWVuLS10ZXh0XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiYmxhY2stLXRleHRcIjtcclxuICAgIH1cclxuICAgIHVwKCkge1xyXG4gICAgICAgIHRoaXMucHJlc3MgPSBmYWxzZTtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0VGFzayk7XHJcbiAgICAgICAgdGhpcy50aW1lb3V0VGFzayA9IDA7XHJcbiAgICAgICAgaWYgKHRoaXMubGFwc2UgPT0gMCkge1xyXG4gICAgICAgICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSBkYXRlLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsVGFzayk7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWxUYXNrID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXBzZSA9IGRhdGUuZ2V0VGltZSgpIC0gdGhpcy5zdGFydDtcclxuICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgSW5qZWN0KFwiYXBwXCIpLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFwcClcclxuXSwgVGltZXJQYW5lbC5wcm90b3R5cGUsIFwiYXBwXCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgUHJvcCh7IGRlZmF1bHQ6IGZhbHNlIH0pLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXHJcbl0sIFRpbWVyUGFuZWwucHJvdG90eXBlLCBcInNob3dcIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBXYXRjaChcInNob3dcIiksXHJcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtCb29sZWFuLCBCb29sZWFuXSksXHJcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxyXG5dLCBUaW1lclBhbmVsLnByb3RvdHlwZSwgXCJvblNob3dDaGFuZ2VcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgV2F0Y2goXCJleHBcIiksXHJcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtTdHJpbmcsIFN0cmluZ10pLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcclxuXSwgVGltZXJQYW5lbC5wcm90b3R5cGUsIFwib25FeHBDaGFuZ2VcIiwgbnVsbCk7XHJcblRpbWVyUGFuZWwgPSBfX2RlY29yYXRlKFtcclxuICAgIENvbXBvbmVudCh7XHJcbiAgICAgICAgdGVtcGxhdGU6IHJlcXVpcmUoXCIuL2luZGV4Lmh0bWxcIilcclxuICAgIH0pXHJcbl0sIFRpbWVyUGFuZWwpO1xyXG5leHBvcnQgZGVmYXVsdCBUaW1lclBhbmVsO1xyXG4iLCJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG52YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcclxufTtcclxuaW1wb3J0IFZ1ZSBmcm9tIFwidnVlXCI7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgV2F0Y2gsIFByb3ZpZGUgfSBmcm9tIFwidnVlLXByb3BlcnR5LWRlY29yYXRvclwiO1xyXG5pbXBvcnQgS2V5Ym9hcmRQYW5lbCBmcm9tIFwiLi4vS2V5Ym9hcmRQYW5lbFwiO1xyXG5pbXBvcnQgU2NyaXB0UGFuZWwgZnJvbSBcIi4uL1NjcmlwdFBhbmVsXCI7XHJcbmltcG9ydCBHYW1lIGZyb20gXCIuLi8uLi9jdWJlL2dhbWVcIjtcclxuaW1wb3J0IFRpbWVyUGFuZWwgZnJvbSBcIi4uL1RpbWVyUGFuZWxcIjtcclxubGV0IEFwcCA9IGNsYXNzIEFwcCBleHRlbmRzIFZ1ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIHRoaXMuYXBwID0gdGhpcztcclxuICAgICAgICB0aGlzLmdhbWUgPSBuZXcgR2FtZSgpO1xyXG4gICAgICAgIHRoaXMuZXhwID0gXCJcIjtcclxuICAgICAgICB0aGlzLmV4cFRhc2sgPSAwO1xyXG4gICAgICAgIHRoaXMubWVudSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubW9kZSA9IFwidG91Y2hcIjtcclxuICAgIH1cclxuICAgIGdldCBkdXJhdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lLmR1cmF0aW9uO1xyXG4gICAgfVxyXG4gICAgb25EdXJhdGlvbkNoYW5nZSgpIHtcclxuICAgICAgICBsZXQgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7XHJcbiAgICAgICAgc3RvcmFnZS5zZXRJdGVtKFwiZHVyYXRpb25cIiwgU3RyaW5nKHRoaXMuZHVyYXRpb24pKTtcclxuICAgIH1cclxuICAgIHJlc2l6ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy4kcmVmcy5jdWJlciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmXHJcbiAgICAgICAgICAgIHRoaXMuJHJlZnMucGFuZWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgICAgICBsZXQgY3ViZXIgPSB0aGlzLiRyZWZzLmN1YmVyO1xyXG4gICAgICAgICAgICBsZXQgcGFuZWwgPSB0aGlzLiRyZWZzLnBhbmVsO1xyXG4gICAgICAgICAgICBsZXQgcGFuZWxIZWlnaHQgPSBwYW5lbC5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgICAgIGxldCBjdWJlckhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIHBhbmVsSGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUucmVzaXplKGN1YmVyLmNsaWVudFdpZHRoLCBjdWJlckhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbW91bnRlZCgpIHtcclxuICAgICAgICBpZiAodGhpcy4kcmVmcy5jdWJlciBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgbGV0IGN1YmVyID0gdGhpcy4kcmVmcy5jdWJlcjtcclxuICAgICAgICAgICAgY3ViZXIuYXBwZW5kQ2hpbGQodGhpcy5nYW1lLmNhbnZhcyk7XHJcbiAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTtcclxuICAgICAgICB0aGlzLmdhbWUuZHVyYXRpb24gPSBOdW1iZXIoc3RvcmFnZS5nZXRJdGVtKFwiZHVyYXRpb25cIikgfHwgdGhpcy5nYW1lLmR1cmF0aW9uKTtcclxuICAgICAgICB0aGlzLm1vZGUgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJtb2RlXCIpIHx8IFwidG91Y2hcIjtcclxuICAgICAgICB0aGlzLmdhbWUuY2FsbGJhY2tzLnB1c2godGhpcy5vblR3aXN0KTtcclxuICAgIH1cclxuICAgIG9uVHdpc3QoZXhwKSB7XHJcbiAgICAgICAgdGhpcy5leHAgPSBleHA7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZXhwVGFzayk7XHJcbiAgICAgICAgdGhpcy5leHBUYXNrID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZXhwID0gXCJcIjtcclxuICAgICAgICB9LCA1MDApO1xyXG4gICAgfVxyXG4gICAgb25NZW51Q2xpY2soKSB7XHJcbiAgICAgICAgdGhpcy5tZW51ID0gIXRoaXMubWVudTtcclxuICAgIH1cclxuICAgIG9uTW9kZUNoYW5nZSh0bywgZnJvbSkge1xyXG4gICAgICAgIGxldCBzdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTtcclxuICAgICAgICBzdG9yYWdlLnNldEl0ZW0oXCJtb2RlXCIsIHRoaXMubW9kZSk7XHJcbiAgICAgICAgaWYgKGZyb20gIT0gXCJ0b3VjaFwiICYmIHRvID09IFwidG91Y2hcIikge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuZW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZyb20gPT0gXCJ0b3VjaFwiICYmIHRvICE9IFwidG91Y2hcIikge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuZW5hYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuJG5leHRUaWNrKHRoaXMucmVzaXplKTtcclxuICAgIH1cclxuICAgIGdldCBsb2NrKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWUubG9jayB8fCB0aGlzLmdhbWUudHdpc3Rlci5sZW5ndGggIT0gMDtcclxuICAgIH1cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIGxldCBzdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTtcclxuICAgICAgICBzdG9yYWdlLmNsZWFyKCk7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgfVxyXG59O1xyXG5fX2RlY29yYXRlKFtcclxuICAgIFByb3ZpZGUoXCJhcHBcIiksXHJcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXBwKVxyXG5dLCBBcHAucHJvdG90eXBlLCBcImFwcFwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIFdhdGNoKFwiZHVyYXRpb25cIiksXHJcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtdKSxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXHJcbl0sIEFwcC5wcm90b3R5cGUsIFwib25EdXJhdGlvbkNoYW5nZVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBXYXRjaChcIm1vZGVcIiksXHJcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtTdHJpbmcsIFN0cmluZ10pLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcclxuXSwgQXBwLnByb3RvdHlwZSwgXCJvbk1vZGVDaGFuZ2VcIiwgbnVsbCk7XHJcbkFwcCA9IF9fZGVjb3JhdGUoW1xyXG4gICAgQ29tcG9uZW50KHtcclxuICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZShcIi4vaW5kZXguaHRtbFwiKSxcclxuICAgICAgICBjb21wb25lbnRzOiB7XHJcbiAgICAgICAgICAgIFwia2V5Ym9hcmQtcGFuZWxcIjogS2V5Ym9hcmRQYW5lbCxcclxuICAgICAgICAgICAgXCJzY3JpcHQtcGFuZWxcIjogU2NyaXB0UGFuZWwsXHJcbiAgICAgICAgICAgIFwidGltZXItcGFuZWxcIjogVGltZXJQYW5lbFxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbl0sIEFwcCk7XHJcbmV4cG9ydCBkZWZhdWx0IEFwcDtcclxuIiwiaW1wb3J0IFZ1ZSBmcm9tIFwidnVlXCI7XHJcbmltcG9ydCBBcHAgZnJvbSBcIi4vdnVlL0FwcFwiO1xyXG5pbXBvcnQgVnVldGlmeSBmcm9tIFwidnVldGlmeVwiO1xyXG5pbXBvcnQgXCJ2dWV0aWZ5L2Rpc3QvdnVldGlmeS5jc3NcIjtcclxuaW1wb3J0IFwidHlwZWZhY2Utcm9ib3RvXCI7XHJcbmltcG9ydCBcIm1hdGVyaWFsLWRlc2lnbi1pY29ucy9pY29uZm9udC9tYXRlcmlhbC1pY29ucy5jc3NcIjtcclxuVnVlLnVzZShWdWV0aWZ5KTtcclxubmV3IFZ1ZSh7XHJcbiAgICBlbDogXCIjYXBwXCIsXHJcbiAgICByZW5kZXI6IGggPT4gaChBcHApXHJcbn0pO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12\n')}]);