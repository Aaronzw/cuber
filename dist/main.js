!function(I){var g={};function C(A){if(g[A])return g[A].exports;var c=g[A]={i:A,l:!1,exports:{}};return I[A].call(c.exports,c,c.exports,C),c.l=!0,c.exports}C.m=I,C.c=g,C.d=function(I,g,A){C.o(I,g)||Object.defineProperty(I,g,{enumerable:!0,get:A})},C.r=function(I){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},C.t=function(I,g){if(1&g&&(I=C(I)),8&g)return I;if(4&g&&"object"==typeof I&&I&&I.__esModule)return I;var A=Object.create(null);if(C.r(A),Object.defineProperty(A,"default",{enumerable:!0,value:I}),2&g&&"string"!=typeof I)for(var c in I)C.d(A,c,function(g){return I[g]}.bind(null,c));return A},C.n=function(I){var g=I&&I.__esModule?function(){return I.default}:function(){return I};return C.d(g,"a",g),g},C.o=function(I,g){return Object.prototype.hasOwnProperty.call(I,g)},C.p="/dist/",C(C.s=11)}([function(module,exports,__webpack_require__){eval("module.exports = (__webpack_require__(3))(8);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVsZWdhdGVkIC4vbm9kZV9tb2R1bGVzL3RocmVlL2J1aWxkL3RocmVlLm1vZHVsZS5qcyBmcm9tIGRsbC1yZWZlcmVuY2UgZGxsX2xpYnJhcnk/ZjI1YiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAoX193ZWJwYWNrX3JlcXVpcmVfXygzKSkoOCk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){eval("module.exports = (__webpack_require__(3))(12);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVsZWdhdGVkIC4vbm9kZV9tb2R1bGVzL3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IvbGliL3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IuanMgZnJvbSBkbGwtcmVmZXJlbmNlIGRsbF9saWJyYXJ5P2FhNDUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gKF9fd2VicGFja19yZXF1aXJlX18oMykpKDEyKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n")},function(module,exports,__webpack_require__){eval("module.exports = (__webpack_require__(3))(1);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVsZWdhdGVkIC4vbm9kZV9tb2R1bGVzL3Z1ZS9kaXN0L3Z1ZS5lc20uanMgZnJvbSBkbGwtcmVmZXJlbmNlIGRsbF9saWJyYXJ5P2UyYjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gKF9fd2VicGFja19yZXF1aXJlX18oMykpKDEpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n")},function(module,exports){eval("module.exports = dll_library;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkbGxfbGlicmFyeVwiP2Q5MWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZGxsX2xpYnJhcnk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n")},function(module,exports,__webpack_require__){eval("module.exports = (__webpack_require__(3))(13);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVsZWdhdGVkIC4vbm9kZV9tb2R1bGVzL3Z1ZXRpZnkvZGlzdC92dWV0aWZ5LmpzIGZyb20gZGxsLXJlZmVyZW5jZSBkbGxfbGlicmFyeT83ZjEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKSgxMyk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n")},function(module,exports){eval('module.exports = "<v-container fluid grid-list-md text-xs-center v-show=\\"show\\">\\r\\n    <v-layout row wrap>\\r\\n        <v-flex xs12>\\r\\n            <p class=\\"title\\" style=\\"height: 1em\\">{{queue.join(\' \')}}</p>\\r\\n        </v-flex>\\r\\n        <v-flex v-for=\\"operation in operations\\" d-flex xs2>\\r\\n            <v-btn :disabled=\\"disabled\\" @click=\\"twist(operation + suffix)\\" class=\\"headline\\" style=\\"width:auto; height:2em; min-width: 0%; min-height: 0%; margin: 0%; text-transform:none\\">{{operation}}{{suffix}}\\r\\n            </v-btn>\\r\\n        </v-flex>\\r\\n        <v-flex d-flex xs6>\\r\\n            <v-btn-toggle v-model=\\"shift\\" style=\\"width:100%\\" multiple>\\r\\n                <v-btn block class=\\"headline\\" style=\\"width:auto; height:2em; min-width: 0%; min-height: 0%; margin: 0%; text-transform:none\\"\\r\\n                    value=\\"reverse\\">reverse</v-btn>\\r\\n            </v-btn-toggle>\\r\\n        </v-flex>\\r\\n        <v-flex d-flex xs6>\\r\\n            <v-btn-toggle v-model=\\"shift\\" style=\\"width:100%\\" multiple>\\r\\n                <v-btn block class=\\"headline\\" style=\\"width:auto; height:2em; min-width: 0%; min-height: 0%; margin: 0%; text-transform:none\\"\\r\\n                    value=\\"double\\">double</v-btn>\\r\\n            </v-btn-toggle>\\r\\n        </v-flex>\\r\\n    </v-layout>\\r\\n</v-container>"\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdnVlL0tleWJvYXJkUGFuZWwvaW5kZXguaHRtbD9hNTEyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdNQUFnTSxpQkFBaUIsbU5BQW1OLFlBQVksZUFBZSxnQkFBZ0IsWUFBWSx5QkFBeUIsYUFBYSxRQUFRLGlPQUFpTyxZQUFZLGVBQWUsZ0JBQWdCLFlBQVksdVRBQXVULFlBQVksZUFBZSxnQkFBZ0IsWUFBWSIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjx2LWNvbnRhaW5lciBmbHVpZCBncmlkLWxpc3QtbWQgdGV4dC14cy1jZW50ZXIgdi1zaG93PVxcXCJzaG93XFxcIj5cXHJcXG4gICAgPHYtbGF5b3V0IHJvdyB3cmFwPlxcclxcbiAgICAgICAgPHYtZmxleCB4czEyPlxcclxcbiAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJ0aXRsZVxcXCIgc3R5bGU9XFxcImhlaWdodDogMWVtXFxcIj57e3F1ZXVlLmpvaW4oJyAnKX19PC9wPlxcclxcbiAgICAgICAgPC92LWZsZXg+XFxyXFxuICAgICAgICA8di1mbGV4IHYtZm9yPVxcXCJvcGVyYXRpb24gaW4gb3BlcmF0aW9uc1xcXCIgZC1mbGV4IHhzMj5cXHJcXG4gICAgICAgICAgICA8di1idG4gOmRpc2FibGVkPVxcXCJkaXNhYmxlZFxcXCIgQGNsaWNrPVxcXCJ0d2lzdChvcGVyYXRpb24gKyBzdWZmaXgpXFxcIiBjbGFzcz1cXFwiaGVhZGxpbmVcXFwiIHN0eWxlPVxcXCJ3aWR0aDphdXRvOyBoZWlnaHQ6MmVtOyBtaW4td2lkdGg6IDAlOyBtaW4taGVpZ2h0OiAwJTsgbWFyZ2luOiAwJTsgdGV4dC10cmFuc2Zvcm06bm9uZVxcXCI+e3tvcGVyYXRpb259fXt7c3VmZml4fX1cXHJcXG4gICAgICAgICAgICA8L3YtYnRuPlxcclxcbiAgICAgICAgPC92LWZsZXg+XFxyXFxuICAgICAgICA8di1mbGV4IGQtZmxleCB4czY+XFxyXFxuICAgICAgICAgICAgPHYtYnRuLXRvZ2dsZSB2LW1vZGVsPVxcXCJzaGlmdFxcXCIgc3R5bGU9XFxcIndpZHRoOjEwMCVcXFwiIG11bHRpcGxlPlxcclxcbiAgICAgICAgICAgICAgICA8di1idG4gYmxvY2sgY2xhc3M9XFxcImhlYWRsaW5lXFxcIiBzdHlsZT1cXFwid2lkdGg6YXV0bzsgaGVpZ2h0OjJlbTsgbWluLXdpZHRoOiAwJTsgbWluLWhlaWdodDogMCU7IG1hcmdpbjogMCU7IHRleHQtdHJhbnNmb3JtOm5vbmVcXFwiXFxyXFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cXFwicmV2ZXJzZVxcXCI+cmV2ZXJzZTwvdi1idG4+XFxyXFxuICAgICAgICAgICAgPC92LWJ0bi10b2dnbGU+XFxyXFxuICAgICAgICA8L3YtZmxleD5cXHJcXG4gICAgICAgIDx2LWZsZXggZC1mbGV4IHhzNj5cXHJcXG4gICAgICAgICAgICA8di1idG4tdG9nZ2xlIHYtbW9kZWw9XFxcInNoaWZ0XFxcIiBzdHlsZT1cXFwid2lkdGg6MTAwJVxcXCIgbXVsdGlwbGU+XFxyXFxuICAgICAgICAgICAgICAgIDx2LWJ0biBibG9jayBjbGFzcz1cXFwiaGVhZGxpbmVcXFwiIHN0eWxlPVxcXCJ3aWR0aDphdXRvOyBoZWlnaHQ6MmVtOyBtaW4td2lkdGg6IDAlOyBtaW4taGVpZ2h0OiAwJTsgbWFyZ2luOiAwJTsgdGV4dC10cmFuc2Zvcm06bm9uZVxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPVxcXCJkb3VibGVcXFwiPmRvdWJsZTwvdi1idG4+XFxyXFxuICAgICAgICAgICAgPC92LWJ0bi10b2dnbGU+XFxyXFxuICAgICAgICA8L3YtZmxleD5cXHJcXG4gICAgPC92LWxheW91dD5cXHJcXG48L3YtY29udGFpbmVyPlwiIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n')},function(module,exports){eval('module.exports = "<v-container fluid grid-list-md text-xs-center v-show=\\"show\\">\\r\\n    <v-layout row wrap>\\r\\n        <v-flex xs12>\\r\\n            <p class=\\"title\\" @click=\\"if (!disabled && !playing){dialog = true}\\">{{script.script}}</p>\\r\\n        </v-flex>\\r\\n        <v-flex xs1>\\r\\n            <v-spacer></v-spacer>\\r\\n        </v-flex>\\r\\n        <v-flex xs10>\\r\\n            <v-slider readonly ticks=\\"always\\" v-model=\\"progress\\" :max=\\"actions.length\\"></v-slider>\\r\\n        </v-flex>\\r\\n        <v-flex xs1>\\r\\n            <v-spacer></v-spacer>\\r\\n        </v-flex>\\r\\n        <v-flex xs12>\\r\\n            <v-btn icon large :disabled=\\"disabled || playing || progress==0\\" @click=\\"start\\">\\r\\n                <v-icon>skip_previous</v-icon>\\r\\n            </v-btn>\\r\\n            <v-btn icon large :disabled=\\"disabled || playing || progress==0\\" @click=\\"backward\\">\\r\\n                <v-icon>fast_rewind</v-icon>\\r\\n            </v-btn>\\r\\n            <v-btn icon large :disabled=\\"(disabled && !playing) || (progress == actions.length)\\" @click=\\"playing = !playing; play();\\">\\r\\n                <v-icon>{{playing?\'pause\':\'play_arrow\'}}</v-icon>\\r\\n            </v-btn>\\r\\n            <v-btn icon large :disabled=\\"disabled || playing || (progress == actions.length)\\" @click=\\"forward\\">\\r\\n                <v-icon>fast_forward</v-icon>\\r\\n            </v-btn>\\r\\n            <v-btn icon large :disabled=\\"disabled || playing || progress == actions.length\\" @click=\\"end\\">\\r\\n                <v-icon>skip_next</v-icon>\\r\\n            </v-btn>\\r\\n        </v-flex>\\r\\n    </v-layout>\\r\\n    <v-bottom-sheet v-model=\\"dialog\\">\\r\\n        <v-card tile>\\r\\n            <v-container fluid grid-list-md text-xs-center>\\r\\n                <v-subheader>Type:</v-subheader>\\r\\n                <v-btn-toggle v-model=\\"type\\" mandatory style=\\"width:100%\\">\\r\\n                    <template v-for=\\"(group, index) in scripts\\">\\r\\n                        <v-btn block :disabled=\\"disabled || playing\\" :value=\\"index\\">{{group.name}}</v-btn>\\r\\n                    </template>\\r\\n                </v-btn-toggle>\\r\\n                <v-divider></v-divider>\\r\\n                <v-subheader>Index:</v-subheader>\\r\\n                <v-layout row wrap>\\r\\n                    <v-flex xs1>\\r\\n                        <v-spacer></v-spacer>\\r\\n                    </v-flex>\\r\\n                    <v-flex xs10>\\r\\n                        <v-slider :disabled=\\"disabled || playing\\" always-dirty thumb-label=\\"always\\" track-color=\\"primary\\"\\r\\n                            ticks=\\"always\\" v-model=\\"index\\" :max=\\"scripts[type].scripts.length\\" min=1></v-slider>\\r\\n                    </v-flex>\\r\\n                    <v-flex xs1>\\r\\n                        <v-spacer></v-spacer>\\r\\n                    </v-flex>\\r\\n                </v-layout>\\r\\n            </v-container>\\r\\n        </v-card>\\r\\n    </v-bottom-sheet>\\r\\n</v-container>"\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdnVlL1NjcmlwdFBhbmVsL2luZGV4Lmh0bWw/ODE5OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw0TUFBNE0sY0FBYyxLQUFLLGVBQWUsZzFCQUFnMUIsUUFBUSxpQ0FBaUMsOEJBQThCLDYyQkFBNjJCLFlBQVkiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8di1jb250YWluZXIgZmx1aWQgZ3JpZC1saXN0LW1kIHRleHQteHMtY2VudGVyIHYtc2hvdz1cXFwic2hvd1xcXCI+XFxyXFxuICAgIDx2LWxheW91dCByb3cgd3JhcD5cXHJcXG4gICAgICAgIDx2LWZsZXggeHMxMj5cXHJcXG4gICAgICAgICAgICA8cCBjbGFzcz1cXFwidGl0bGVcXFwiIEBjbGljaz1cXFwiaWYgKCFkaXNhYmxlZCAmJiAhcGxheWluZyl7ZGlhbG9nID0gdHJ1ZX1cXFwiPnt7c2NyaXB0LnNjcmlwdH19PC9wPlxcclxcbiAgICAgICAgPC92LWZsZXg+XFxyXFxuICAgICAgICA8di1mbGV4IHhzMT5cXHJcXG4gICAgICAgICAgICA8di1zcGFjZXI+PC92LXNwYWNlcj5cXHJcXG4gICAgICAgIDwvdi1mbGV4PlxcclxcbiAgICAgICAgPHYtZmxleCB4czEwPlxcclxcbiAgICAgICAgICAgIDx2LXNsaWRlciByZWFkb25seSB0aWNrcz1cXFwiYWx3YXlzXFxcIiB2LW1vZGVsPVxcXCJwcm9ncmVzc1xcXCIgOm1heD1cXFwiYWN0aW9ucy5sZW5ndGhcXFwiPjwvdi1zbGlkZXI+XFxyXFxuICAgICAgICA8L3YtZmxleD5cXHJcXG4gICAgICAgIDx2LWZsZXggeHMxPlxcclxcbiAgICAgICAgICAgIDx2LXNwYWNlcj48L3Ytc3BhY2VyPlxcclxcbiAgICAgICAgPC92LWZsZXg+XFxyXFxuICAgICAgICA8di1mbGV4IHhzMTI+XFxyXFxuICAgICAgICAgICAgPHYtYnRuIGljb24gbGFyZ2UgOmRpc2FibGVkPVxcXCJkaXNhYmxlZCB8fCBwbGF5aW5nIHx8IHByb2dyZXNzPT0wXFxcIiBAY2xpY2s9XFxcInN0YXJ0XFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPHYtaWNvbj5za2lwX3ByZXZpb3VzPC92LWljb24+XFxyXFxuICAgICAgICAgICAgPC92LWJ0bj5cXHJcXG4gICAgICAgICAgICA8di1idG4gaWNvbiBsYXJnZSA6ZGlzYWJsZWQ9XFxcImRpc2FibGVkIHx8IHBsYXlpbmcgfHwgcHJvZ3Jlc3M9PTBcXFwiIEBjbGljaz1cXFwiYmFja3dhcmRcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8di1pY29uPmZhc3RfcmV3aW5kPC92LWljb24+XFxyXFxuICAgICAgICAgICAgPC92LWJ0bj5cXHJcXG4gICAgICAgICAgICA8di1idG4gaWNvbiBsYXJnZSA6ZGlzYWJsZWQ9XFxcIihkaXNhYmxlZCAmJiAhcGxheWluZykgfHwgKHByb2dyZXNzID09IGFjdGlvbnMubGVuZ3RoKVxcXCIgQGNsaWNrPVxcXCJwbGF5aW5nID0gIXBsYXlpbmc7IHBsYXkoKTtcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8di1pY29uPnt7cGxheWluZz8ncGF1c2UnOidwbGF5X2Fycm93J319PC92LWljb24+XFxyXFxuICAgICAgICAgICAgPC92LWJ0bj5cXHJcXG4gICAgICAgICAgICA8di1idG4gaWNvbiBsYXJnZSA6ZGlzYWJsZWQ9XFxcImRpc2FibGVkIHx8IHBsYXlpbmcgfHwgKHByb2dyZXNzID09IGFjdGlvbnMubGVuZ3RoKVxcXCIgQGNsaWNrPVxcXCJmb3J3YXJkXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPHYtaWNvbj5mYXN0X2ZvcndhcmQ8L3YtaWNvbj5cXHJcXG4gICAgICAgICAgICA8L3YtYnRuPlxcclxcbiAgICAgICAgICAgIDx2LWJ0biBpY29uIGxhcmdlIDpkaXNhYmxlZD1cXFwiZGlzYWJsZWQgfHwgcGxheWluZyB8fCBwcm9ncmVzcyA9PSBhY3Rpb25zLmxlbmd0aFxcXCIgQGNsaWNrPVxcXCJlbmRcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8di1pY29uPnNraXBfbmV4dDwvdi1pY29uPlxcclxcbiAgICAgICAgICAgIDwvdi1idG4+XFxyXFxuICAgICAgICA8L3YtZmxleD5cXHJcXG4gICAgPC92LWxheW91dD5cXHJcXG4gICAgPHYtYm90dG9tLXNoZWV0IHYtbW9kZWw9XFxcImRpYWxvZ1xcXCI+XFxyXFxuICAgICAgICA8di1jYXJkIHRpbGU+XFxyXFxuICAgICAgICAgICAgPHYtY29udGFpbmVyIGZsdWlkIGdyaWQtbGlzdC1tZCB0ZXh0LXhzLWNlbnRlcj5cXHJcXG4gICAgICAgICAgICAgICAgPHYtc3ViaGVhZGVyPlR5cGU6PC92LXN1YmhlYWRlcj5cXHJcXG4gICAgICAgICAgICAgICAgPHYtYnRuLXRvZ2dsZSB2LW1vZGVsPVxcXCJ0eXBlXFxcIiBtYW5kYXRvcnkgc3R5bGU9XFxcIndpZHRoOjEwMCVcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHRlbXBsYXRlIHYtZm9yPVxcXCIoZ3JvdXAsIGluZGV4KSBpbiBzY3JpcHRzXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8di1idG4gYmxvY2sgOmRpc2FibGVkPVxcXCJkaXNhYmxlZCB8fCBwbGF5aW5nXFxcIiA6dmFsdWU9XFxcImluZGV4XFxcIj57e2dyb3VwLm5hbWV9fTwvdi1idG4+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxcclxcbiAgICAgICAgICAgICAgICA8L3YtYnRuLXRvZ2dsZT5cXHJcXG4gICAgICAgICAgICAgICAgPHYtZGl2aWRlcj48L3YtZGl2aWRlcj5cXHJcXG4gICAgICAgICAgICAgICAgPHYtc3ViaGVhZGVyPkluZGV4Ojwvdi1zdWJoZWFkZXI+XFxyXFxuICAgICAgICAgICAgICAgIDx2LWxheW91dCByb3cgd3JhcD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx2LWZsZXggeHMxPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx2LXNwYWNlcj48L3Ytc3BhY2VyPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPC92LWZsZXg+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8di1mbGV4IHhzMTA+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHYtc2xpZGVyIDpkaXNhYmxlZD1cXFwiZGlzYWJsZWQgfHwgcGxheWluZ1xcXCIgYWx3YXlzLWRpcnR5IHRodW1iLWxhYmVsPVxcXCJhbHdheXNcXFwiIHRyYWNrLWNvbG9yPVxcXCJwcmltYXJ5XFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWNrcz1cXFwiYWx3YXlzXFxcIiB2LW1vZGVsPVxcXCJpbmRleFxcXCIgOm1heD1cXFwic2NyaXB0c1t0eXBlXS5zY3JpcHRzLmxlbmd0aFxcXCIgbWluPTE+PC92LXNsaWRlcj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvdi1mbGV4PlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHYtZmxleCB4czE+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHYtc3BhY2VyPjwvdi1zcGFjZXI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L3YtZmxleD5cXHJcXG4gICAgICAgICAgICAgICAgPC92LWxheW91dD5cXHJcXG4gICAgICAgICAgICA8L3YtY29udGFpbmVyPlxcclxcbiAgICAgICAgPC92LWNhcmQ+XFxyXFxuICAgIDwvdi1ib3R0b20tc2hlZXQ+XFxyXFxuPC92LWNvbnRhaW5lcj5cIiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n')},function(module,exports){eval('module.exports = "<v-app>\\r\\n    <div v-resize=\\"resize\\">\\r\\n        <div ref=cuber></div>\\r\\n        <div ref=panel>\\r\\n            <keyboard-panel :show=\\"mode == \'keyboard\'\\"></keyboard-panel>\\r\\n            <script-panel :disabled=\\"lock\\" :show=\\"mode == \'script\'\\"></script-panel>\\r\\n        </div>\\r\\n    </div>\\r\\n    <v-btn :disabled=\\"lock\\" fixed top right icon large outline @click=\\"onMenuClick\\">\\r\\n        <v-icon>menu</v-icon>\\r\\n    </v-btn>\\r\\n    <v-dialog v-model=\\"menu\\">\\r\\n        <v-card tile>\\r\\n            <v-toolbar card>\\r\\n                <v-toolbar-title>Settings</v-toolbar-title>\\r\\n                <v-spacer></v-spacer>\\r\\n                <v-toolbar-items>\\r\\n                    <v-btn icon @click=\\"menu = false\\">\\r\\n                        <v-icon>close</v-icon>\\r\\n                    </v-btn>\\r\\n                </v-toolbar-items>\\r\\n            </v-toolbar>\\r\\n            <v-card-text>\\r\\n                <v-subheader>Control Mode</v-subheader>\\r\\n                <v-btn-toggle v-model=\\"mode\\" mandatory style=\\"width:100%\\">\\r\\n                    <v-btn block value=\\"touch\\">Touch</v-btn>\\r\\n                    <v-btn block value=\\"keyboard\\">Keyboard</v-btn>\\r\\n                    <v-btn block value=\\"script\\">Script </v-btn>\\r\\n                </v-btn-toggle>\\r\\n                <v-divider></v-divider>\\r\\n                <v-subheader>Action</v-subheader>\\r\\n                <v-btn block @click=\\"menu = false; game.reset()\\" :disabled=\\"lock || mode==\'script\'\\">Reset</v-btn>\\r\\n            </v-card-text>\\r\\n        </v-card>\\r\\n    </v-dialog>\\r\\n</v-app>"\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdnVlL0FwcC9pbmRleC5odG1sP2M4OTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsdzdDQUF3N0MiLCJmaWxlIjoiNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8di1hcHA+XFxyXFxuICAgIDxkaXYgdi1yZXNpemU9XFxcInJlc2l6ZVxcXCI+XFxyXFxuICAgICAgICA8ZGl2IHJlZj1jdWJlcj48L2Rpdj5cXHJcXG4gICAgICAgIDxkaXYgcmVmPXBhbmVsPlxcclxcbiAgICAgICAgICAgIDxrZXlib2FyZC1wYW5lbCA6c2hvdz1cXFwibW9kZSA9PSAna2V5Ym9hcmQnXFxcIj48L2tleWJvYXJkLXBhbmVsPlxcclxcbiAgICAgICAgICAgIDxzY3JpcHQtcGFuZWwgOmRpc2FibGVkPVxcXCJsb2NrXFxcIiA6c2hvdz1cXFwibW9kZSA9PSAnc2NyaXB0J1xcXCI+PC9zY3JpcHQtcGFuZWw+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDx2LWJ0biA6ZGlzYWJsZWQ9XFxcImxvY2tcXFwiIGZpeGVkIHRvcCByaWdodCBpY29uIGxhcmdlIG91dGxpbmUgQGNsaWNrPVxcXCJvbk1lbnVDbGlja1xcXCI+XFxyXFxuICAgICAgICA8di1pY29uPm1lbnU8L3YtaWNvbj5cXHJcXG4gICAgPC92LWJ0bj5cXHJcXG4gICAgPHYtZGlhbG9nIHYtbW9kZWw9XFxcIm1lbnVcXFwiPlxcclxcbiAgICAgICAgPHYtY2FyZCB0aWxlPlxcclxcbiAgICAgICAgICAgIDx2LXRvb2xiYXIgY2FyZD5cXHJcXG4gICAgICAgICAgICAgICAgPHYtdG9vbGJhci10aXRsZT5TZXR0aW5nczwvdi10b29sYmFyLXRpdGxlPlxcclxcbiAgICAgICAgICAgICAgICA8di1zcGFjZXI+PC92LXNwYWNlcj5cXHJcXG4gICAgICAgICAgICAgICAgPHYtdG9vbGJhci1pdGVtcz5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx2LWJ0biBpY29uIEBjbGljaz1cXFwibWVudSA9IGZhbHNlXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8di1pY29uPmNsb3NlPC92LWljb24+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L3YtYnRuPlxcclxcbiAgICAgICAgICAgICAgICA8L3YtdG9vbGJhci1pdGVtcz5cXHJcXG4gICAgICAgICAgICA8L3YtdG9vbGJhcj5cXHJcXG4gICAgICAgICAgICA8di1jYXJkLXRleHQ+XFxyXFxuICAgICAgICAgICAgICAgIDx2LXN1YmhlYWRlcj5Db250cm9sIE1vZGU8L3Ytc3ViaGVhZGVyPlxcclxcbiAgICAgICAgICAgICAgICA8di1idG4tdG9nZ2xlIHYtbW9kZWw9XFxcIm1vZGVcXFwiIG1hbmRhdG9yeSBzdHlsZT1cXFwid2lkdGg6MTAwJVxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8di1idG4gYmxvY2sgdmFsdWU9XFxcInRvdWNoXFxcIj5Ub3VjaDwvdi1idG4+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8di1idG4gYmxvY2sgdmFsdWU9XFxcImtleWJvYXJkXFxcIj5LZXlib2FyZDwvdi1idG4+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8di1idG4gYmxvY2sgdmFsdWU9XFxcInNjcmlwdFxcXCI+U2NyaXB0IDwvdi1idG4+XFxyXFxuICAgICAgICAgICAgICAgIDwvdi1idG4tdG9nZ2xlPlxcclxcbiAgICAgICAgICAgICAgICA8di1kaXZpZGVyPjwvdi1kaXZpZGVyPlxcclxcbiAgICAgICAgICAgICAgICA8di1zdWJoZWFkZXI+QWN0aW9uPC92LXN1YmhlYWRlcj5cXHJcXG4gICAgICAgICAgICAgICAgPHYtYnRuIGJsb2NrIEBjbGljaz1cXFwibWVudSA9IGZhbHNlOyBnYW1lLnJlc2V0KClcXFwiIDpkaXNhYmxlZD1cXFwibG9jayB8fCBtb2RlPT0nc2NyaXB0J1xcXCI+UmVzZXQ8L3YtYnRuPlxcclxcbiAgICAgICAgICAgIDwvdi1jYXJkLXRleHQ+XFxyXFxuICAgICAgICA8L3YtY2FyZD5cXHJcXG4gICAgPC92LWRpYWxvZz5cXHJcXG48L3YtYXBwPlwiIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n')},function(module,exports,__webpack_require__){eval("module.exports = (__webpack_require__(3))(14);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVsZWdhdGVkIC4vbm9kZV9tb2R1bGVzL3Z1ZXRpZnkvZGlzdC92dWV0aWZ5LmNzcyBmcm9tIGRsbC1yZWZlcmVuY2UgZGxsX2xpYnJhcnk/YWM0YSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAoX193ZWJwYWNrX3JlcXVpcmVfXygzKSkoMTQpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8\n")},function(module,exports,__webpack_require__){eval("module.exports = (__webpack_require__(3))(16);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVsZWdhdGVkIC4vbm9kZV9tb2R1bGVzL3R5cGVmYWNlLXJvYm90by9pbmRleC5jc3MgZnJvbSBkbGwtcmVmZXJlbmNlIGRsbF9saWJyYXJ5P2FmOGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gKF9fd2VicGFja19yZXF1aXJlX18oMykpKDE2KTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9\n")},function(module,exports,__webpack_require__){eval("module.exports = (__webpack_require__(3))(43);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGVsZWdhdGVkIC4vbm9kZV9tb2R1bGVzL21hdGVyaWFsLWRlc2lnbi1pY29ucy9pY29uZm9udC9tYXRlcmlhbC1pY29ucy5jc3MgZnJvbSBkbGwtcmVmZXJlbmNlIGRsbF9saWJyYXJ5PzQ3M2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKSg0Myk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///10\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: delegated ./node_modules/vue/dist/vue.esm.js from dll-reference dll_library\nvar vue_esmfrom_dll_reference_dll_library = __webpack_require__(2);\n\n// EXTERNAL MODULE: delegated ./node_modules/vue-property-decorator/lib/vue-property-decorator.js from dll-reference dll_library\nvar vue_property_decoratorfrom_dll_reference_dll_library = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/vue/KeyboardPanel/index.ts\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (undefined && undefined.__metadata) || function (k, v) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\nlet KeyboardPanel_KeyboardPanel = class KeyboardPanel extends vue_esmfrom_dll_reference_dll_library["default"] {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.queue = [];\r\n        this.shift = [];\r\n        this.operations = [\r\n            "L",\r\n            "D",\r\n            "B",\r\n            "R",\r\n            "U",\r\n            "F",\r\n            "l",\r\n            "d",\r\n            "b",\r\n            "r",\r\n            "u",\r\n            "f",\r\n            "M",\r\n            "E",\r\n            "S",\r\n            "x",\r\n            "y",\r\n            "z"\r\n        ];\r\n    }\r\n    get suffix() {\r\n        let result = "";\r\n        result = result.concat(this.shift.indexOf("reverse") == -1 ? "" : "\'");\r\n        result = result.concat(this.shift.indexOf("double") == -1 ? "" : "2");\r\n        return result;\r\n    }\r\n    twist(operation) {\r\n        this.queue.push(operation);\r\n        this.app.game.twister.twist(operation, false, 1, this.callback, false);\r\n    }\r\n    callback() {\r\n        this.queue.shift();\r\n    }\r\n};\r\n__decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Inject"])(\'app\'),\r\n    __metadata("design:type", vue_App)\r\n], KeyboardPanel_KeyboardPanel.prototype, "app", void 0);\r\n__decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Prop"])({ default: false }),\r\n    __metadata("design:type", Boolean)\r\n], KeyboardPanel_KeyboardPanel.prototype, "show", void 0);\r\n__decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Prop"])({ default: false }),\r\n    __metadata("design:type", Boolean)\r\n], KeyboardPanel_KeyboardPanel.prototype, "disabled", void 0);\r\nKeyboardPanel_KeyboardPanel = __decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Component"])({\r\n        template: __webpack_require__(5)\r\n    })\r\n], KeyboardPanel_KeyboardPanel);\r\n/* harmony default export */ var vue_KeyboardPanel = (KeyboardPanel_KeyboardPanel);\r\n\n// EXTERNAL MODULE: delegated ./node_modules/three/build/three.module.js from dll-reference dll_library\nvar three_modulefrom_dll_reference_dll_library = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/cube/group.ts\n\r\nclass group_Group extends three_modulefrom_dll_reference_dll_library["Group"] {\r\n    constructor(indices, axis) {\r\n        super();\r\n        this._cubelets = [];\r\n        this._indices = indices;\r\n        this.axis = axis;\r\n    }\r\n    set angle(angle) {\r\n        this.setRotationFromAxisAngle(this.axis, angle);\r\n        this._angle = angle;\r\n    }\r\n    get angle() {\r\n        return this._angle;\r\n    }\r\n    hold(game) {\r\n        this._angle = 0;\r\n        this._indices.forEach((i) => {\r\n            let cubelet = game.cube.cubelets[i];\r\n            this._cubelets.push(cubelet);\r\n            game.cube.remove(cubelet);\r\n            this.add(cubelet);\r\n        }, this);\r\n        game.lock = true;\r\n    }\r\n    revert(game) {\r\n        let angle = -this._angle;\r\n        if (angle === 0) {\r\n            while (true) {\r\n                let cubelet = this._cubelets.pop();\r\n                if (undefined === cubelet) {\r\n                    break;\r\n                }\r\n                this.remove(cubelet);\r\n                game.cube.add(cubelet);\r\n                game.cube.cubelets[cubelet.index] = cubelet;\r\n            }\r\n            this._angle = 0;\r\n            game.lock = false;\r\n            game.dirty = true;\r\n        }\r\n        else {\r\n            var duration = 600 * Math.min(1, Math.abs(angle) / Math.PI);\r\n            game.tweener.tween(this.angle, this.angle + angle, duration, (value) => {\r\n                this.angle = value;\r\n                game.dirty = true;\r\n            }, () => {\r\n                this.revert(game);\r\n            });\r\n        }\r\n    }\r\n    adjust(game) {\r\n        let angle = Math.round(this._angle / (Math.PI / 2)) * (Math.PI / 2) - this._angle;\r\n        if (angle === 0) {\r\n            while (true) {\r\n                let cubelet = this._cubelets.pop();\r\n                if (undefined === cubelet) {\r\n                    break;\r\n                }\r\n                this.rotate(cubelet);\r\n                this.remove(cubelet);\r\n                game.cube.add(cubelet);\r\n                game.cube.cubelets[cubelet.index] = cubelet;\r\n            }\r\n            this._angle = 0;\r\n            game.lock = false;\r\n            game.dirty = true;\r\n        }\r\n        else {\r\n            var duration = 600 * Math.min(1, Math.abs(angle) / Math.PI);\r\n            game.tweener.tween(this.angle, this.angle + angle, duration, (value) => {\r\n                this.angle = value;\r\n                game.dirty = true;\r\n            }, () => {\r\n                this.adjust(game);\r\n            });\r\n        }\r\n    }\r\n    ;\r\n    rotate(cubelet) {\r\n        cubelet.rotateOnWorldAxis(this.axis, this._angle);\r\n        cubelet.vector = cubelet.vector.applyAxisAngle(this.axis, this._angle);\r\n        cubelet.updateMatrix();\r\n    }\r\n}\r\ngroup_Group.GROUPS = {\r\n    "L": new group_Group([0, 3, 6, 9, 12, 15, 18, 21, 24,], new three_modulefrom_dll_reference_dll_library["Vector3"](-1, 0, 0)),\r\n    "D": new group_Group([0, 1, 2, 9, 10, 11, 18, 19, 20,], new three_modulefrom_dll_reference_dll_library["Vector3"](0, -1, 0)),\r\n    "B": new group_Group([0, 1, 2, 3, 4, 5, 6, 7, 8,], new three_modulefrom_dll_reference_dll_library["Vector3"](0, 0, -1)),\r\n    "R": new group_Group([2, 5, 8, 11, 14, 17, 20, 23, 26,], new three_modulefrom_dll_reference_dll_library["Vector3"](+1, 0, 0)),\r\n    "U": new group_Group([6, 7, 8, 15, 16, 17, 24, 25, 26,], new three_modulefrom_dll_reference_dll_library["Vector3"](0, +1, 0)),\r\n    "F": new group_Group([18, 19, 20, 21, 22, 23, 24, 25, 26,], new three_modulefrom_dll_reference_dll_library["Vector3"](0, 0, +1)),\r\n    "l": new group_Group([0, 3, 6, 9, 12, 15, 18, 21, 24, 1, 4, 7, 10, 13, 16, 19, 22, 25,], new three_modulefrom_dll_reference_dll_library["Vector3"](-1, 0, 0)),\r\n    "d": new group_Group([0, 1, 2, 9, 10, 11, 18, 19, 20, 3, 4, 5, 12, 13, 14, 21, 22, 23,], new three_modulefrom_dll_reference_dll_library["Vector3"](0, -1, 0)),\r\n    "b": new group_Group([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,], new three_modulefrom_dll_reference_dll_library["Vector3"](0, 0, -1)),\r\n    "r": new group_Group([2, 5, 8, 11, 14, 17, 20, 23, 26, 1, 4, 7, 10, 13, 16, 19, 22, 25,], new three_modulefrom_dll_reference_dll_library["Vector3"](+1, 0, 0)),\r\n    "u": new group_Group([6, 7, 8, 15, 16, 17, 24, 25, 26, 3, 4, 5, 12, 13, 14, 21, 22, 23,], new three_modulefrom_dll_reference_dll_library["Vector3"](0, +1, 0)),\r\n    "f": new group_Group([18, 19, 20, 21, 22, 23, 24, 25, 26, 9, 10, 11, 12, 13, 14, 15, 16, 17,], new three_modulefrom_dll_reference_dll_library["Vector3"](0, 0, +1)),\r\n    "M": new group_Group([1, 4, 7, 10, 13, 16, 19, 22, 25,], new three_modulefrom_dll_reference_dll_library["Vector3"](-1, 0, 0)),\r\n    "E": new group_Group([3, 4, 5, 12, 13, 14, 21, 22, 23,], new three_modulefrom_dll_reference_dll_library["Vector3"](0, -1, 0)),\r\n    "S": new group_Group([9, 10, 11, 12, 13, 14, 15, 16, 17,], new three_modulefrom_dll_reference_dll_library["Vector3"](0, 0, +1)),\r\n    "x": new group_Group([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26,], new three_modulefrom_dll_reference_dll_library["Vector3"](+1, 0, 0)),\r\n    "y": new group_Group([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26,], new three_modulefrom_dll_reference_dll_library["Vector3"](0, +1, 0)),\r\n    "z": new group_Group([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26,], new three_modulefrom_dll_reference_dll_library["Vector3"](0, 0, +1)),\r\n};\r\n\n// CONCATENATED MODULE: ./src/cube/twister.ts\n\r\nclass twister_Twister {\r\n    constructor(game) {\r\n        this._queue = [];\r\n        this._game = game;\r\n    }\r\n    get length() {\r\n        return this._queue.length;\r\n    }\r\n    twist(exp, reverse = false, times = 1, callback = null, fast = false) {\r\n        let list = new TwistNode(exp, reverse, times).parse();\r\n        if (fast) {\r\n            list.forEach(function (element) {\r\n                let angle = -Math.PI / 2;\r\n                if (element.reverse) {\r\n                    angle = -angle;\r\n                }\r\n                if (element.times) {\r\n                    angle = angle * element.times;\r\n                }\r\n                let part = group_Group.GROUPS[element.twist];\r\n                if (part === undefined) {\r\n                    return;\r\n                }\r\n                part.hold(this._game);\r\n                part.angle = angle;\r\n                part.adjust(this._game);\r\n            }, this);\r\n            if (callback) {\r\n                callback();\r\n            }\r\n        }\r\n        else {\r\n            list[list.length - 1].callback = callback;\r\n            list.forEach(function (element) {\r\n                this._queue.push(element);\r\n            }, this);\r\n        }\r\n    }\r\n    update() {\r\n        if (this._queue.length === 0 || this._game.lock) {\r\n            return false;\r\n        }\r\n        let twist = this._queue.shift();\r\n        if (undefined == twist) {\r\n            return false;\r\n        }\r\n        this.start(twist);\r\n        return true;\r\n    }\r\n    start(action) {\r\n        let angle = -Math.PI / 2;\r\n        if (action.reverse) {\r\n            angle = -angle;\r\n        }\r\n        if (action.times) {\r\n            angle = angle * action.times;\r\n        }\r\n        let duration = 600 * Math.min(1, Math.abs(angle) / Math.PI);\r\n        let part = group_Group.GROUPS[action.twist];\r\n        if (part === undefined) {\r\n            return;\r\n        }\r\n        part.hold(this._game);\r\n        this._game.tweener.tween(part.angle, part.angle + angle, duration, (value) => {\r\n            part.angle = value;\r\n            this._game.dirty = true;\r\n        }, () => {\r\n            part.adjust(this._game);\r\n            if (action.callback) {\r\n                action.callback();\r\n            }\r\n        });\r\n    }\r\n    match(holder) {\r\n        let g;\r\n        let result = [];\r\n        var index = holder.index;\r\n        if (holder.index === -1) {\r\n            g = group_Group.GROUPS.x;\r\n            if (g.axis.dot(holder.plane.normal) === 0) {\r\n                result.push(g);\r\n            }\r\n            g = group_Group.GROUPS.y;\r\n            if (g.axis.dot(holder.plane.normal) === 0) {\r\n                result.push(g);\r\n            }\r\n            g = group_Group.GROUPS.z;\r\n            if (g.axis.dot(holder.plane.normal) === 0) {\r\n                result.push(g);\r\n            }\r\n            return result;\r\n        }\r\n        var x = (index % 3) - 1;\r\n        var y = Math.floor((index % 9) / 3) - 1;\r\n        var z = Math.floor(index / 9) - 1;\r\n        switch (x) {\r\n            case -1:\r\n                g = group_Group.GROUPS.L;\r\n                if (g.axis.dot(holder.plane.normal) === 0) {\r\n                    result.push(g);\r\n                }\r\n                break;\r\n            case 0:\r\n                g = group_Group.GROUPS.M;\r\n                if (g.axis.dot(holder.plane.normal) === 0) {\r\n                    result.push(g);\r\n                }\r\n                break;\r\n            case 1:\r\n                g = group_Group.GROUPS.R;\r\n                if (g.axis.dot(holder.plane.normal) === 0) {\r\n                    result.push(g);\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        switch (y) {\r\n            case -1:\r\n                g = group_Group.GROUPS.D;\r\n                if (g.axis.dot(holder.plane.normal) === 0) {\r\n                    result.push(g);\r\n                }\r\n                break;\r\n            case 0:\r\n                g = group_Group.GROUPS.E;\r\n                if (g.axis.dot(holder.plane.normal) === 0) {\r\n                    result.push(g);\r\n                }\r\n                break;\r\n            case 1:\r\n                g = group_Group.GROUPS.U;\r\n                if (g.axis.dot(holder.plane.normal) === 0) {\r\n                    result.push(g);\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        switch (z) {\r\n            case -1:\r\n                g = group_Group.GROUPS.B;\r\n                if (g.axis.dot(holder.plane.normal) === 0) {\r\n                    result.push(g);\r\n                }\r\n                break;\r\n            case 0:\r\n                g = group_Group.GROUPS.S;\r\n                if (g.axis.dot(holder.plane.normal) === 0) {\r\n                    result.push(g);\r\n                }\r\n                break;\r\n            case 1:\r\n                g = group_Group.GROUPS.F;\r\n                if (g.axis.dot(holder.plane.normal) === 0) {\r\n                    result.push(g);\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n}\r\nclass TwistAction {\r\n    constructor() {\r\n        this.twist = \'R\';\r\n        this.reverse = false;\r\n        this.times = 1;\r\n        this.callback = null;\r\n    }\r\n}\r\nclass TwistNode {\r\n    constructor(exp, reverse = false, times = 1) {\r\n        this._children = [];\r\n        this._twist = new TwistAction();\r\n        let list = exp\r\n            .replace(/[^xyzbsfdeulmr\\(\\)\'0123456789]/gi, "")\r\n            .match(/\\([xyzbsfdeulmr\'\\d]+\\)(\'\\d*|\\d*\'|\\d*)|[xyzbsfdeulmr](\'\\d*|\\d*\'|\\d*)/gi);\r\n        if (null === list) {\r\n            return;\r\n        }\r\n        if (list.length == 1) {\r\n            var values = list[0].match(/^\\((\\S+)\\)(\'?)(\\d*)(\'?)$/i);\r\n            if (values === null) {\r\n                values = list[0].match(/([xyzbsfdeulmr])(\'?)(\\d*)(\'?)/i);\r\n                if (null === values) {\r\n                    return;\r\n                }\r\n                this._twist.twist = values[1];\r\n                if (/[XYZ]/.test(this._twist.twist)) {\r\n                    this._twist.twist = this._twist.twist.toLowerCase();\r\n                }\r\n                if (/[mes]/.test(this._twist.twist)) {\r\n                    this._twist.twist = this._twist.twist.toUpperCase();\r\n                }\r\n            }\r\n            else {\r\n                this._children.push(new TwistNode(values[1]));\r\n            }\r\n            this._twist.reverse = (values[2] + values[4]).length == 0 ? false : true;\r\n            this._twist.times = values[3].length == 0 ? 1 : parseInt(values[3]);\r\n            this._twist.reverse = this._twist.reverse !== reverse;\r\n            this._twist.times = this._twist.times * times;\r\n        }\r\n        else {\r\n            this._twist.twist = exp;\r\n            this._twist.reverse = reverse;\r\n            this._twist.times = times;\r\n            list.forEach(function (c) {\r\n                var t = new TwistNode(c);\r\n                this._children.push(t);\r\n            }, this);\r\n        }\r\n    }\r\n    parse(reverse = false) {\r\n        reverse = this._twist.reverse !== reverse;\r\n        let _result = [];\r\n        if (0 !== this._children.length) {\r\n            for (var i = 0; i < this._twist.times; i++) {\r\n                for (var j = 0; j < this._children.length; j++) {\r\n                    var n;\r\n                    if (reverse) {\r\n                        n = this._children[this._children.length - j - 1];\r\n                    }\r\n                    else {\r\n                        n = this._children[j];\r\n                    }\r\n                    var list = n.parse(reverse);\r\n                    list.forEach(function (element) {\r\n                        _result.push(element);\r\n                    }, this);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            let action = new TwistAction();\r\n            action.twist = this._twist.twist;\r\n            action.reverse = reverse;\r\n            action.times = this._twist.times;\r\n            _result.push(action);\r\n        }\r\n        return _result;\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/vue/ScriptPanel/index.ts\nvar ScriptPanel_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar ScriptPanel_metadata = (undefined && undefined.__metadata) || function (k, v) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\nlet ScriptPanel_ScriptPanel = class ScriptPanel extends vue_esmfrom_dll_reference_dll_library["default"] {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.progress = 0;\r\n        this.playing = false;\r\n        this.dialog = false;\r\n        this.type = 0;\r\n        this.index = 1;\r\n        this.scripts = [\r\n            {\r\n                name: "F2L",\r\n                strips: [\r\n                    {\r\n                        indexs: [6, 7, 8, 15, 16, 17, 24, 25, 26],\r\n                        faces: [0, 1, 2, 3, 4, 5]\r\n                    }\r\n                ],\r\n                scripts: [\r\n                    { name: "F2L-01", script: "(R U\'2 R\' U)2 y\'(R\' U\' R) y" },\r\n                    { name: "F2L-02", script: "(U R U\' R\' U\') y\'(R\' U R) y" },\r\n                    { name: "F2L-03", script: "y U\'(L\' U L U)y\' (R U\' R\')" },\r\n                    { name: "F2L-04", script: "(R U R\' U\')(R U\'U\' R\' U\')(R U R\')" },\r\n                    { name: "F2L-05", script: "(R U\' R U)y(R U\' R\' F2) y\'" },\r\n                    { name: "F2L-06", script: "y\'(R\' U\' R U)(R\' U\' R) y" },\r\n                    { name: "F2L-07", script: "(R U\' R\' U)(R U\' R\')" },\r\n                    { name: "F2L-08", script: "(R U\'U\')(R U R\' U)(R U\'U\')R2" },\r\n                    { name: "F2L-09", script: "R2 y(R U R\' U\')y\'(R\' U R\')" },\r\n                    { name: "F2L-10", script: "y\' (R\' U)(R U\')(R\' U R) y" },\r\n                    { name: "F2L-11", script: "(R U R\' U\' )(R U R\')" },\r\n                    { name: "F2L-12", script: "(R U R\' U\')2 (R U R\')" },\r\n                    { name: "F2L-13", script: "(R U\' R\') y\' (R\' U2 R) y" },\r\n                    { name: "F2L-14", script: " y\'(R\' U2)(R U R\' U\')R y" },\r\n                    { name: "F2L-15", script: "d\' z U\'(R2 U)(R\' U\' R U) z\'y\'" },\r\n                    { name: "F2L-16", script: "F\' L\' U2 r U x\'" },\r\n                    { name: "F2L-17", script: "y\' (U2 R2\' U2)(R U R\' U R2) y" },\r\n                    { name: "F2L-18", script: "(U2 R2\' U2)(R\' U\' R U\' R2)" },\r\n                    { name: "F2L-19", script: "R y (R U2 R\' F\') y\'" },\r\n                    { name: "F2L-20", script: "U(R U\'U\')(R\' U R U\' )R\'" },\r\n                    { name: "F2L-21", script: "(R U\'U\')(R\' U\' R U)R\'" },\r\n                    { name: "F2L-22", script: "U\'(R U\')(R\' U2)(R U\' R\')" },\r\n                    { name: "F2L-23", script: "U\' (R U R\') d (R\' U\' R) y" },\r\n                    { name: "F2L-24", script: "d (R\' U R U\')(R\' U\' R) y" },\r\n                    { name: "F2L-25", script: "y\' (R\' U\' R) y" },\r\n                    { name: "F2L-26", script: "(R2 U)y(R U\' R\' F2) y\'" },\r\n                    { name: "F2L-27", script: "y\' (R U\'U\')R\'2 U\' R2 U\' R\' y" },\r\n                    { name: "F2L-28", script: "y\' (R\' U)(R d\' U\')(R U R\')" },\r\n                    { name: "F2L-29", script: "U\' (R U\'U\')(R\' U2)(R U\' R\')" },\r\n                    { name: "F2L-30", script: "y\' R2 y\'(R\' U\' R U)y R2 y" },\r\n                    { name: "F2L-31", script: "U R U\' R\'" },\r\n                    { name: "F2L-32", script: "U\' (R U\'U\' R\' U)(R U R\')" },\r\n                    { name: "F2L-33", script: "d (R\' U\' R) d\' (R U R\')" },\r\n                    { name: "F2L-34", script: "x(U R\' U\' l)" },\r\n                    { name: "F2L-35", script: "R2 y (R U R\' U\')y\' R2" },\r\n                    { name: "F2L-36", script: "d (R\' U2)(R U\'U\')(R\' U R) y" },\r\n                    { name: "F2L-37", script: "(R U\' R\' U)(d R\' U\' R) y" },\r\n                    { name: "F2L-38", script: "(R\' U2)(R2\' U)(R2\' U R)" },\r\n                    { name: "F2L-39", script: "y\' (R2 U\')(F\' U F)R2 y" },\r\n                    { name: "F2L-40", script: "(R U R\')" },\r\n                    { name: "F2L-41", script: "U\' (R U\' R\' U)(R U R\')" }\r\n                ]\r\n            },\r\n            {\r\n                name: "OLL",\r\n                strips: [\r\n                    {\r\n                        indexs: [6, 7, 8, 15, 16, 17, 24, 25, 26],\r\n                        faces: [0, 1, 2, 4, 5]\r\n                    }\r\n                ],\r\n                scripts: [\r\n                    { name: "OLL-01", script: "(R U\'2) (R2\' F R F\') U2 (R\' F R F\')" },\r\n                    { name: "OLL-02", script: "(F R U R\' U\' F\') (f R U R\' U\' f\')" },\r\n                    { name: "OLL-03", script: "f(R U R\' U\')f\' U\' F(R U R\' U\')F\'" },\r\n                    { name: "OLL-04", script: "f(R U R\' U\')y x(R\' F)(R U R\' U\')F\' y\'" },\r\n                    { name: "OLL-05", script: "(r\' U2) (R U R\'U) r" },\r\n                    { name: "OLL-06", script: "(r U\'2) (R\' U\' R U\' r\')" },\r\n                    { name: "OLL-07", script: "r U R\' U R U\'2 r\'" },\r\n                    { name: "OLL-08", script: "r\' U\' R U\' R\' U2 r" },\r\n                    { name: "OLL-09", script: "(R\' U\' R) y\' x\' (R U\')(R\'F) (R U R\') xy" },\r\n                    { name: "OLL-10", script: "(R U R\'U)(R\'F R F\') (RU\'2R\')" },\r\n                    { name: "OLL-11", script: "r\'(R2 U R\' U)(R U\'2 R\' U) (r R\')" },\r\n                    { name: "OLL-12", script: "L2 l U\' z (U R\'U\') (R2 U R\') z\' r R\'" },\r\n                    { name: "OLL-13", script: "(r U\' r\' U\')(r U r\') (F\' U F)" },\r\n                    { name: "OLL-14", script: "R\' F R U R\' F\'R (F U\' F\')" },\r\n                    { name: "OLL-15", script: "(r\' U\' r) (R\'U\'R U) (r\' U r)" },\r\n                    { name: "OLL-16", script: "R B R\' L U L\' U\' R B\' R\'" },\r\n                    { name: "OLL-17", script: "(R U R\' U) (R\' F R F\'U2) R\' F R F\'" },\r\n                    { name: "OLL-18", script: "F (R U R\' d)(R\' U2) (R\' F R F\') y" },\r\n                    { name: "OLL-19", script: "R\' U2 F R U R\'U\' y\'R2 U\'2 R B y" },\r\n                    { name: "OLL-20", script: "r\'(R U) (R U R\'U\' r2)(R2\'U) (R U\') r\'" },\r\n                    { name: "OLL-21", script: "(R U\'2) (R\' U\' R U R\' U\') (R U\' R\')" },\r\n                    { name: "OLL-22", script: "R U\'2 (R\'2 U\') (R2 U\') R\'2 U\'2 R" },\r\n                    { name: "OLL-23", script: "(R2 D\') (R U2) (R\' D) (R U2 R)" },\r\n                    { name: "OLL-24", script: "(r U R\' U\')(r\' F R F\')" },\r\n                    { name: "OLL-25", script: "F\'(r U R\' U\') (r\' F R)" },\r\n                    { name: "OLL-26", script: "R U\'2 R\' U\' R U\' R\'" },\r\n                    { name: "OLL-27", script: "R\' U2 R U R\' U R" },\r\n                    { name: "OLL-28", script: "(r U R\' U\') (r\' R U) (R U\' R\')" },\r\n                    { name: "OLL-29", script: "(R2 U\' R) F (R\' U) (R2 U\') (R\' F\' R)" },\r\n                    { name: "OLL-30", script: "(R2 U R\' B\')(RU\') (R2\' U) (l U l\')" },\r\n                    { name: "OLL-31", script: "(r\' F\' U F) (L F\' L\' U\' r)" },\r\n                    { name: "OLL-32", script: "(R U)(B\' U\')(R\' U R B R\')" },\r\n                    { name: "OLL-33", script: "(R U R\' U\') (R\' F R F\')" },\r\n                    { name: "OLL-34", script: "(R\'U\'R U) x\' z\'(R U) (L\'U\')r R\' y" },\r\n                    { name: "OLL-35", script: "R U\'2R2\' F R F\'(R U\'2R\')" },\r\n                    { name: "OLL-36", script: "R\'U\'R U\' R\'U R U l U\'R\'U x" },\r\n                    { name: "OLL-37", script: "F (R U\' R\'U\'R U) (R\' F\')" },\r\n                    { name: "OLL-38", script: "(R U R\'U) (RU\'R\'U\') (R\'F R F\')" },\r\n                    { name: "OLL-39", script: "(L F\'L\' U\'L U) (F U\' L\')" },\r\n                    { name: "OLL-40", script: "(R\' F R U R\'U\') (F\' U R)" },\r\n                    { name: "OLL-41", script: "R U\' R\' U2 R U y R U\' R\' U\' F\' y\'" },\r\n                    { name: "OLL-42", script: "(R\'U RU\'2 R\' U\')(F\' U)(F U R)" },\r\n                    { name: "OLL-43", script: "(B\' U\') (R\' U R B)" },\r\n                    { name: "OLL-44", script: "f (R U R\' U\')f\'" },\r\n                    { name: "OLL-45", script: "F (R U R\' U\') F\'" },\r\n                    { name: "OLL-46", script: "(R\' U\') R\' F R F\' (U R)" },\r\n                    { name: "OLL-47", script: "B\'(R\' U\' R U)2 B" },\r\n                    { name: "OLL-48", script: "F (R U R\' U\')2 F\'" },\r\n                    { name: "OLL-49", script: "R B\'(R2 F)(R2 B) R2 F\' R" },\r\n                    { name: "OLL-50", script: "L\'B (L2 F\')(L2B\') L2 F L\'" },\r\n                    { name: "OLL-51", script: "f (R U R\' U\')2 f\'" },\r\n                    { name: "OLL-52", script: "R\'U\' R U\' R\' d R\' U l U xy" },\r\n                    { name: "OLL-53", script: "(r\' U2) (R U R\'U\') (R U R\'U) r" },\r\n                    { name: "OLL-54", script: "(r U\'2) (R\' U\' R U R\' U\') (R U\' r\')" },\r\n                    { name: "OLL-55", script: "(R U\'2) (R\'2 U\') R U\' R\'U2 (F R F\')" },\r\n                    { name: "OLL-56", script: "F (R U R\'U\')(R F\')(r U R\'U\')r\'" },\r\n                    { name: "OLL-57", script: "(R U R\' U\' r)(R\' U) (R U\' r\')" }\r\n                ]\r\n            },\r\n            {\r\n                name: "PLL",\r\n                strips: [],\r\n                scripts: [\r\n                    { name: "PLL-01", script: "(R U\' R)(U R U R)(U\' R\' U\' R2)" },\r\n                    { name: "PLL-02", script: "(R2 U)(R U R\' U\')(R\' U\')(R\' U R\')" },\r\n                    { name: "PLL-03", script: "M2 U M2 U2 M2 U M2" },\r\n                    {\r\n                        name: "PLL-04",\r\n                        script: "(R\' U\' R U\' R)(U R U\' R\' U R)(U R2 U\' R\') U2"\r\n                    },\r\n                    { name: "PLL-05", script: "x (R2 U\'2) (R\' D\') (R U\'2) (R\'DR\') x\'" },\r\n                    { name: "PLL-06", script: "x (R D\' R) U2 R\' D R U2 R\'2 x\'" },\r\n                    {\r\n                        name: "PLL-07",\r\n                        script: "x\'(R U\' R\' D R U R\')u2\'(R\' U R D R\' U\' R) x\'y2"\r\n                    },\r\n                    { name: "PLL-08", script: "(R U R\' U\')(R\'F)(R2 U\' R\' U\' R U R\' F\')" },\r\n                    {\r\n                        name: "PLL-09",\r\n                        script: "(R\' U\' F\')(R U R\' U\')(R\' F R2 U\' R\' U\')(R U R\' U R)"\r\n                    },\r\n                    {\r\n                        name: "PLL-10",\r\n                        script: "(R\' U R\' U\' yx2)(R\' U R\' U\' yx)(U2 R\' U\' R U R) x"\r\n                    },\r\n                    {\r\n                        name: "PLL-11",\r\n                        script: "F(R U\' R\' U\')(R U R\' F\')(R U R\' U\')(R\' F R F\')"\r\n                    },\r\n                    { name: "PLL-12", script: "z(U\' R D\')(R2 U R\' U\')(R2 U D R\')z\'" },\r\n                    { name: "PLL-13", script: "(R U R\' F\')(R U R\' U\')(R\' F)(R2 U\' R\')" },\r\n                    {\r\n                        name: "PLL-14",\r\n                        script: "(R\' U2)(R U\'2)(R\' F R U R\' U\')(R\' F\' R2 U\')"\r\n                    },\r\n                    { name: "PLL-15", script: "(R U\'2)(R\' U2)(R B\' R\' U\')(R U R B R2\' U)" },\r\n                    { name: "PLL-16", script: "(R\'2 u\' R U\' R)(U R\' u)(R2 f R\'f\')" },\r\n                    { name: "PLL-17", script: "(R U R\')y\'(R2 u\' R U\' R\' U)(R\' u R2)y" },\r\n                    { name: "PLL-18", script: "(R2 uR\')(U R\' U\' R u\')(R\'2 F\' U F)" },\r\n                    { name: "PLL-19", script: "(R\' d\' F)(R2 u)(R\' U R U\' R u\' R\'2) y\'" },\r\n                    {\r\n                        name: "PLL-20",\r\n                        script: "z(R\' U R\')z\'(R U2 L\' U R\') z(U R\')z\'(R U2 L\' U R\')"\r\n                    },\r\n                    {\r\n                        name: "PLL-21",\r\n                        script: "z(U\'R D\')(R2 U R\'U\')z\'(R U R\') z(R2 U R\')z\'(R U\')"\r\n                    }\r\n                ]\r\n            }\r\n        ];\r\n        this.actions = new TwistNode(this.script.script).parse();\r\n    }\r\n    onShowChange(to, from) {\r\n        this.stick();\r\n        if (to) {\r\n            this.reset();\r\n            this.strip();\r\n        }\r\n        else {\r\n            this.playing = false;\r\n        }\r\n    }\r\n    play() {\r\n        if (this.progress == this.actions.length) {\r\n            this.playing = false;\r\n        }\r\n        if (this.playing) {\r\n            this.forward();\r\n        }\r\n    }\r\n    forward() {\r\n        if (this.progress == this.actions.length) {\r\n            return;\r\n        }\r\n        let action = this.actions[this.progress];\r\n        this.app.game.twister.twist(action.twist, action.reverse, action.times, this.play, false);\r\n        this.progress++;\r\n    }\r\n    backward() {\r\n        if (this.progress == 0) {\r\n            return;\r\n        }\r\n        this.progress--;\r\n        let action = this.actions[this.progress];\r\n        this.app.game.twister.twist(action.twist, !action.reverse, action.times, this.play, false);\r\n    }\r\n    end() {\r\n        if (this.progress == this.actions.length) {\r\n            return;\r\n        }\r\n        let start = this.progress;\r\n        let end = this.actions.length;\r\n        let actions = this.actions.slice(start, end);\r\n        for (let action of actions) {\r\n            this.app.game.twister.twist(action.twist, action.reverse, action.times, null, true);\r\n        }\r\n        this.progress = this.actions.length;\r\n    }\r\n    start() {\r\n        if (this.progress == 0) {\r\n            return;\r\n        }\r\n        let start = 0;\r\n        let end = this.progress;\r\n        let actions = this.actions.slice(start, end).reverse();\r\n        for (let action of actions) {\r\n            this.app.game.twister.twist(action.twist, !action.reverse, action.times, null, true);\r\n        }\r\n        this.progress = 0;\r\n    }\r\n    stick() {\r\n        this.app.game.cube.stick();\r\n        this.app.game.dirty = true;\r\n    }\r\n    strip() {\r\n        let strips = this.scripts[this.type].strips;\r\n        for (let strip of strips) {\r\n            for (let index of strip.indexs) {\r\n                this.app.game.cube.strip(index, strip.faces);\r\n            }\r\n        }\r\n        this.app.game.dirty = true;\r\n    }\r\n    onTypeChange(to, from) {\r\n        this.index = 1;\r\n        this.stick();\r\n        this.strip();\r\n    }\r\n    get script() {\r\n        return this.scripts[this.type].scripts[this.index - 1];\r\n    }\r\n    onScriptChange(to, from) {\r\n        this.actions = new TwistNode(this.script.script).parse();\r\n        this.reset();\r\n        this.$nextTick(this.app.resize);\r\n    }\r\n    reset() {\r\n        this.progress = 0;\r\n        this.playing = false;\r\n        this.app.game.reset();\r\n        this.app.game.twister.twist(this.script.script, true, 1, null, true);\r\n    }\r\n};\r\nScriptPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Inject"])(\'app\'),\r\n    ScriptPanel_metadata("design:type", vue_App)\r\n], ScriptPanel_ScriptPanel.prototype, "app", void 0);\r\nScriptPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Prop"])({ default: false }),\r\n    ScriptPanel_metadata("design:type", Boolean)\r\n], ScriptPanel_ScriptPanel.prototype, "show", void 0);\r\nScriptPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Watch"])("show"),\r\n    ScriptPanel_metadata("design:type", Function),\r\n    ScriptPanel_metadata("design:paramtypes", [Boolean, Boolean]),\r\n    ScriptPanel_metadata("design:returntype", void 0)\r\n], ScriptPanel_ScriptPanel.prototype, "onShowChange", null);\r\nScriptPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Prop"])({ default: false }),\r\n    ScriptPanel_metadata("design:type", Boolean)\r\n], ScriptPanel_ScriptPanel.prototype, "disabled", void 0);\r\nScriptPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Watch"])(\'type\'),\r\n    ScriptPanel_metadata("design:type", Function),\r\n    ScriptPanel_metadata("design:paramtypes", [Number, Number]),\r\n    ScriptPanel_metadata("design:returntype", void 0)\r\n], ScriptPanel_ScriptPanel.prototype, "onTypeChange", null);\r\nScriptPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Watch"])("script"),\r\n    ScriptPanel_metadata("design:type", Function),\r\n    ScriptPanel_metadata("design:paramtypes", [String, String]),\r\n    ScriptPanel_metadata("design:returntype", void 0)\r\n], ScriptPanel_ScriptPanel.prototype, "onScriptChange", null);\r\nScriptPanel_ScriptPanel = ScriptPanel_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Component"])({\r\n        template: __webpack_require__(6)\r\n    })\r\n], ScriptPanel_ScriptPanel);\r\n/* harmony default export */ var vue_ScriptPanel = (ScriptPanel_ScriptPanel);\r\n\n// CONCATENATED MODULE: ./src/cube/cubelet.ts\n\r\n\r\nclass cubelet_Frame extends three_modulefrom_dll_reference_dll_library["Geometry"] {\r\n    constructor(size, border) {\r\n        super();\r\n        let _O = size / 2;\r\n        let _I = _O - border;\r\n        let _verts = [\r\n            [-_I, +_I, +_O],\r\n            [+_I, +_I, +_O],\r\n            [+_I, -_I, +_O],\r\n            [-_I, -_I, +_O],\r\n            [-_I, +_O, -_I],\r\n            [+_I, +_O, -_I],\r\n            [+_I, +_O, +_I],\r\n            [-_I, +_O, +_I],\r\n            [-_O, -_I, -_I],\r\n            [-_O, +_I, -_I],\r\n            [-_O, +_I, +_I],\r\n            [-_O, -_I, +_I],\r\n            [+_I, +_I, -_O],\r\n            [-_I, +_I, -_O],\r\n            [-_I, -_I, -_O],\r\n            [+_I, -_I, -_O],\r\n            [-_I, -_O, +_I],\r\n            [+_I, -_O, +_I],\r\n            [+_I, -_O, -_I],\r\n            [-_I, -_O, -_I],\r\n            [+_O, +_I, +_I],\r\n            [+_O, +_I, -_I],\r\n            [+_O, -_I, -_I],\r\n            [+_O, -_I, +_I]\r\n        ];\r\n        for (let i = 0; i < _verts.length; i++) {\r\n            let _vert = _verts[i];\r\n            this.vertices.push(new three_modulefrom_dll_reference_dll_library["Vector3"](_vert[0], _vert[1], _vert[2]));\r\n        }\r\n        for (let i = 0; i < cubelet_Frame._INDICES.length; i++) {\r\n            let _indice = cubelet_Frame._INDICES[i];\r\n            let _face = new three_modulefrom_dll_reference_dll_library["Face3"](_indice[0], _indice[1], _indice[2]);\r\n            this.faces.push(_face);\r\n        }\r\n    }\r\n}\r\ncubelet_Frame._INDICES = [\r\n    [1, 6, 7],\r\n    [0, 1, 7],\r\n    [3, 0, 10],\r\n    [11, 3, 10],\r\n    [17, 2, 3],\r\n    [16, 17, 3],\r\n    [23, 20, 1],\r\n    [2, 23, 1],\r\n    [5, 12, 13],\r\n    [4, 5, 13],\r\n    [9, 13, 14],\r\n    [8, 9, 14],\r\n    [22, 15, 12],\r\n    [21, 22, 12],\r\n    [19, 14, 15],\r\n    [18, 19, 15],\r\n    [7, 4, 9],\r\n    [10, 7, 9],\r\n    [11, 8, 19],\r\n    [16, 11, 19],\r\n    [23, 17, 18],\r\n    [22, 23, 18],\r\n    [20, 21, 5],\r\n    [6, 20, 5],\r\n    [20, 6, 1],\r\n    [10, 0, 7],\r\n    [21, 12, 5],\r\n    [13, 9, 4],\r\n    [23, 2, 17],\r\n    [11, 16, 3],\r\n    [22, 18, 15],\r\n    [8, 14, 19]\r\n];\r\nclass cubelet_Sticker extends three_modulefrom_dll_reference_dll_library["ShapeGeometry"] {\r\n    constructor(size, edge) {\r\n        size = size / 2;\r\n        size = size - edge;\r\n        let left = -size;\r\n        let bottom = size;\r\n        let top = -size;\r\n        let right = size;\r\n        let radius = size / 4;\r\n        let shape = new three_modulefrom_dll_reference_dll_library["Shape"]();\r\n        shape.moveTo(left, top + radius);\r\n        shape.lineTo(left, bottom - radius);\r\n        shape.quadraticCurveTo(left, bottom, left + radius, bottom);\r\n        shape.lineTo(right - radius, bottom);\r\n        shape.quadraticCurveTo(right, bottom, right, bottom - radius);\r\n        shape.lineTo(right, top + radius);\r\n        shape.quadraticCurveTo(right, top, right - radius, top);\r\n        shape.lineTo(left + radius, top);\r\n        shape.quadraticCurveTo(left, top, left, top + radius);\r\n        shape.closePath();\r\n        super(shape);\r\n    }\r\n}\r\nclass cubelet_Edge extends three_modulefrom_dll_reference_dll_library["ShapeGeometry"] {\r\n    constructor(size, edge) {\r\n        let shape = new three_modulefrom_dll_reference_dll_library["Shape"]();\r\n        size = size / 2;\r\n        shape.moveTo(-size, -size);\r\n        shape.lineTo(-size, size);\r\n        shape.lineTo(size, size);\r\n        shape.lineTo(size, -size);\r\n        shape.closePath();\r\n        size = size - edge;\r\n        let left = -size;\r\n        let bottom = size;\r\n        let top = -size;\r\n        let right = size;\r\n        let radius = size / 4;\r\n        let hole = new three_modulefrom_dll_reference_dll_library["Shape"]();\r\n        hole.moveTo(left, top + radius);\r\n        hole.quadraticCurveTo(left, top, left + radius, top);\r\n        hole.lineTo(right - radius, top);\r\n        hole.quadraticCurveTo(right, top, right, top + radius);\r\n        hole.lineTo(right, bottom - radius);\r\n        hole.quadraticCurveTo(right, bottom, right - radius, bottom);\r\n        hole.lineTo(left + radius, bottom);\r\n        hole.quadraticCurveTo(left, bottom, left, bottom - radius);\r\n        hole.lineTo(left, top + radius);\r\n        hole.closePath();\r\n        shape.holes.push(hole);\r\n        super(shape);\r\n    }\r\n}\r\nclass cubelet_Cubelet extends three_modulefrom_dll_reference_dll_library["Group"] {\r\n    constructor(index) {\r\n        super();\r\n        this._vector = new three_modulefrom_dll_reference_dll_library["Vector3"]();\r\n        this._stickers = [];\r\n        this.initial = index;\r\n        let _x = (index % 3) - 1;\r\n        let _y = Math.floor((index % 9) / 3) - 1;\r\n        let _z = Math.floor(index / 9) - 1;\r\n        this.vector = new three_modulefrom_dll_reference_dll_library["Vector3"](_x, _y, _z);\r\n        this._materials = [\r\n            this._vector.x < 0 ? cubelet_Cubelet._MATERIALS.o : cubelet_Cubelet._MATERIALS.i,\r\n            this._vector.x > 0 ? cubelet_Cubelet._MATERIALS.r : cubelet_Cubelet._MATERIALS.i,\r\n            this._vector.y < 0 ? cubelet_Cubelet._MATERIALS.w : cubelet_Cubelet._MATERIALS.i,\r\n            this._vector.y > 0 ? cubelet_Cubelet._MATERIALS.y : cubelet_Cubelet._MATERIALS.i,\r\n            this._vector.z < 0 ? cubelet_Cubelet._MATERIALS.g : cubelet_Cubelet._MATERIALS.i,\r\n            this._vector.z > 0 ? cubelet_Cubelet._MATERIALS.b : cubelet_Cubelet._MATERIALS.i\r\n        ];\r\n        let _frame = new three_modulefrom_dll_reference_dll_library["Mesh"](cubelet_Cubelet._FRAME, cubelet_Cubelet._MATERIALS.p);\r\n        this.add(_frame);\r\n        for (let i = 0; i < 6; i++) {\r\n            let _edge = new three_modulefrom_dll_reference_dll_library["Mesh"](cubelet_Cubelet._EDGE, cubelet_Cubelet._MATERIALS.p);\r\n            let _sticker = new three_modulefrom_dll_reference_dll_library["Mesh"](cubelet_Cubelet._STICKER, this._materials[i]);\r\n            switch (i) {\r\n                case 0:\r\n                    _edge.rotation.y = -Math.PI / 2;\r\n                    _edge.position.x = -cubelet_Cubelet._SIZE / 2;\r\n                    _sticker.rotation.y = -Math.PI / 2;\r\n                    _sticker.position.x = -cubelet_Cubelet._SIZE / 2;\r\n                    break;\r\n                case 1:\r\n                    _edge.rotation.y = Math.PI / 2;\r\n                    _edge.position.x = cubelet_Cubelet._SIZE / 2;\r\n                    _sticker.rotation.y = Math.PI / 2;\r\n                    _sticker.position.x = cubelet_Cubelet._SIZE / 2;\r\n                    break;\r\n                case 2:\r\n                    _edge.rotation.x = Math.PI / 2;\r\n                    _edge.position.y = -cubelet_Cubelet._SIZE / 2;\r\n                    _sticker.rotation.x = Math.PI / 2;\r\n                    _sticker.position.y = -cubelet_Cubelet._SIZE / 2;\r\n                    break;\r\n                case 3:\r\n                    _edge.rotation.x = -Math.PI / 2;\r\n                    _edge.position.y = cubelet_Cubelet._SIZE / 2;\r\n                    _sticker.rotation.x = -Math.PI / 2;\r\n                    _sticker.position.y = cubelet_Cubelet._SIZE / 2;\r\n                    break;\r\n                case 4:\r\n                    _edge.rotation.x = Math.PI;\r\n                    _edge.position.z = -cubelet_Cubelet._SIZE / 2;\r\n                    _sticker.rotation.x = Math.PI;\r\n                    _sticker.position.z = -cubelet_Cubelet._SIZE / 2;\r\n                    break;\r\n                case 5:\r\n                    _edge.rotation.z = 0;\r\n                    _edge.position.z = cubelet_Cubelet._SIZE / 2;\r\n                    _sticker.rotation.z = 0;\r\n                    _sticker.position.z = cubelet_Cubelet._SIZE / 2;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            this.add(_edge);\r\n            this.add(_sticker);\r\n            this._stickers.push(_sticker);\r\n        }\r\n    }\r\n    set vector(vector) {\r\n        this._vector.set(Math.round(vector.x), Math.round(vector.y), Math.round(vector.z));\r\n        this._index =\r\n            (this.vector.z + 1) * 9 + (this.vector.y + 1) * 3 + (this.vector.x + 1);\r\n        this.position.x = cubelet_Cubelet._SIZE * this._vector.x;\r\n        this.position.y = cubelet_Cubelet._SIZE * this._vector.y;\r\n        this.position.z = cubelet_Cubelet._SIZE * this._vector.z;\r\n    }\r\n    get vector() {\r\n        return this._vector;\r\n    }\r\n    set index(index) {\r\n        let _x = (index % 3) - 1;\r\n        let _y = Math.floor((index % 9) / 3) - 1;\r\n        let _z = Math.floor(index / 9) - 1;\r\n        this.vector = new three_modulefrom_dll_reference_dll_library["Vector3"](_x, _y, _z);\r\n    }\r\n    get index() {\r\n        return this._index;\r\n    }\r\n    stick() {\r\n        for (let i = 0; i < 6; i++) {\r\n            this._stickers[i].material = this._materials[i];\r\n        }\r\n    }\r\n    strip(face) {\r\n        this._stickers[face].material = cubelet_Cubelet._MATERIALS.i;\r\n    }\r\n}\r\ncubelet_Cubelet._SIZE = 32;\r\ncubelet_Cubelet._BORDER_WIDTH = 2;\r\ncubelet_Cubelet._EDGE_WIDTH = 1;\r\ncubelet_Cubelet._FRAME = new cubelet_Frame(cubelet_Cubelet._SIZE, cubelet_Cubelet._BORDER_WIDTH);\r\ncubelet_Cubelet._EDGE = new cubelet_Edge(cubelet_Cubelet._SIZE - 2 * cubelet_Cubelet._BORDER_WIDTH, cubelet_Cubelet._EDGE_WIDTH);\r\ncubelet_Cubelet._STICKER = new cubelet_Sticker(cubelet_Cubelet._SIZE - 2 * cubelet_Cubelet._BORDER_WIDTH, cubelet_Cubelet._EDGE_WIDTH);\r\ncubelet_Cubelet._MATERIALS = {\r\n    p: new three_modulefrom_dll_reference_dll_library["MeshBasicMaterial"]({ wireframe: false, color: "#000000" }),\r\n    i: new three_modulefrom_dll_reference_dll_library["MeshBasicMaterial"]({ wireframe: false, color: "#303030" }),\r\n    g: new three_modulefrom_dll_reference_dll_library["MeshBasicMaterial"]({ wireframe: false, color: "#009D54" }),\r\n    o: new three_modulefrom_dll_reference_dll_library["MeshBasicMaterial"]({ wireframe: false, color: "#FF6C00" }),\r\n    b: new three_modulefrom_dll_reference_dll_library["MeshBasicMaterial"]({ wireframe: false, color: "#3D81F6" }),\r\n    y: new three_modulefrom_dll_reference_dll_library["MeshBasicMaterial"]({ wireframe: false, color: "#FDCC09" }),\r\n    w: new three_modulefrom_dll_reference_dll_library["MeshBasicMaterial"]({ wireframe: false, color: "#FFFFFF" }),\r\n    r: new three_modulefrom_dll_reference_dll_library["MeshBasicMaterial"]({ wireframe: false, color: "#DC422F" })\r\n};\r\n\n// CONCATENATED MODULE: ./src/cube/cube.ts\n\r\n\r\n\r\nclass cube_Cube extends three_modulefrom_dll_reference_dll_library["Group"] {\r\n    constructor(game) {\r\n        super();\r\n        this.cubelets = [];\r\n        this._initial = [];\r\n        for (var i = 0; i < 27; i++) {\r\n            let cubelet = new cubelet_Cubelet(i);\r\n            this.cubelets.push(cubelet);\r\n            this._initial.push(cubelet);\r\n            this.add(cubelet);\r\n        }\r\n    }\r\n    compare(left, right) {\r\n        return left.index - right.index;\r\n    }\r\n    reset() {\r\n        for (let cubelet of this.cubelets) {\r\n            cubelet.setRotationFromEuler(new three_modulefrom_dll_reference_dll_library["Euler"](0, 0, 0));\r\n            cubelet.index = cubelet.initial;\r\n            cubelet.updateMatrix();\r\n        }\r\n        this.cubelets.sort(this.compare);\r\n    }\r\n    stick() {\r\n        for (let cubelet of this.cubelets) {\r\n            cubelet.stick();\r\n        }\r\n    }\r\n    strip(index, faces) {\r\n        for (let face of faces) {\r\n            this._initial[index].strip(face);\r\n        }\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/cube/tweener.ts\nclass Tweener {\r\n    constructor() {\r\n        this._tweens = [];\r\n    }\r\n    tween(begin, end, duration, update, finish) {\r\n        this._tweens.push(new Tween(begin, end, duration, update, finish));\r\n    }\r\n    update() {\r\n        if (this._tweens.length === 0)\r\n            return false;\r\n        var i = 0;\r\n        while (i < this._tweens.length) {\r\n            if (this._tweens[i].update()) {\r\n                i++;\r\n            }\r\n            else {\r\n                this._tweens.splice(i, 1);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\nclass Tween {\r\n    constructor(begin, end, duration, update, finish) {\r\n        this._start = Date.now();\r\n        this._begin = begin;\r\n        this._end = end;\r\n        this._duration = duration;\r\n        this._update = update;\r\n        this._finish = finish;\r\n    }\r\n    update() {\r\n        let time = Date.now();\r\n        let elapsed = (time - this._start) / this._duration;\r\n        elapsed = elapsed > 1 ? 1 : elapsed;\r\n        let value = 1 - (--elapsed * elapsed);\r\n        this._update(this._begin + (this._end - this._begin) * value);\r\n        if (value == 1) {\r\n            this._finish();\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    ;\r\n}\r\n\n// CONCATENATED MODULE: ./src/cube/holder.ts\nclass Holder {\r\n}\r\n\n// CONCATENATED MODULE: ./src/cube/controller.ts\n\r\n\r\n\r\n\r\nclass controller_Controller {\r\n    constructor(game) {\r\n        this._dragging = false;\r\n        this._rotating = false;\r\n        this._onMouseDown = (event) => {\r\n            if (this._game.lock) {\r\n                return true;\r\n            }\r\n            this._down.x = event.offsetX;\r\n            this._down.y = event.offsetY;\r\n            this._handleDown();\r\n        };\r\n        this._onMouseMove = (event) => {\r\n            this._move.x = event.offsetX;\r\n            this._move.y = event.offsetY;\r\n            this._handleMove();\r\n        };\r\n        this._onMouseUp = (event) => {\r\n            this._handleUp();\r\n        };\r\n        this._onMouseOut = (event) => {\r\n            this._handleUp();\r\n        };\r\n        this._onTouch = (event) => {\r\n            let touches = event.changedTouches;\r\n            let first = touches[0];\r\n            switch (event.type) {\r\n                case "touchstart":\r\n                    if (this._game.lock) {\r\n                        return true;\r\n                    }\r\n                    this._down.x = first.clientX;\r\n                    this._down.y = first.clientY;\r\n                    this._handleDown();\r\n                    break;\r\n                case "touchmove":\r\n                    this._move.x = first.clientX;\r\n                    this._move.y = first.clientY;\r\n                    this._handleMove();\r\n                    break;\r\n                case "touchend":\r\n                    this._handleUp();\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n        };\r\n        this._game = game;\r\n        this._ray = new three_modulefrom_dll_reference_dll_library["Ray"]();\r\n        this._down = new three_modulefrom_dll_reference_dll_library["Vector2"](0, 0);\r\n        this._move = new three_modulefrom_dll_reference_dll_library["Vector2"](0, 0);\r\n        this._matrix = new three_modulefrom_dll_reference_dll_library["Matrix4"]();\r\n        this._holder = new Holder();\r\n        this._holder.vector = new three_modulefrom_dll_reference_dll_library["Vector3"]();\r\n        this._vector = new three_modulefrom_dll_reference_dll_library["Vector3"]();\r\n        this._planes = [\r\n            new three_modulefrom_dll_reference_dll_library["Plane"](new three_modulefrom_dll_reference_dll_library["Vector3"](1, 0, 0), (-game_Game.SIZE * 3) / 64),\r\n            new three_modulefrom_dll_reference_dll_library["Plane"](new three_modulefrom_dll_reference_dll_library["Vector3"](0, 1, 0), (-game_Game.SIZE * 3) / 64),\r\n            new three_modulefrom_dll_reference_dll_library["Plane"](new three_modulefrom_dll_reference_dll_library["Vector3"](0, 0, 1), (-game_Game.SIZE * 3) / 64)\r\n        ];\r\n        this._game.canvas.addEventListener("mousedown", this._onMouseDown);\r\n        this._game.canvas.addEventListener("mousemove", this._onMouseMove);\r\n        this._game.canvas.addEventListener("mouseup", this._onMouseUp);\r\n        this._game.canvas.addEventListener("mouseout", this._onMouseOut);\r\n        this._game.canvas.addEventListener("touchstart", this._onTouch, true);\r\n        this._game.canvas.addEventListener("touchmove", this._onTouch, true);\r\n        this._game.canvas.addEventListener("touchend", this._onTouch, true);\r\n    }\r\n    _intersect(point, plane) {\r\n        var x = (point.x / this._game.canvas.clientWidth) * 2 - 1;\r\n        var y = -(point.y / this._game.canvas.clientHeight) * 2 + 1;\r\n        this._ray.origin.setFromMatrixPosition(this._game.camera.matrixWorld);\r\n        this._ray.direction\r\n            .set(x, y, 0.5)\r\n            .unproject(this._game.camera)\r\n            .sub(this._ray.origin)\r\n            .normalize();\r\n        this._ray.applyMatrix4(this._matrix.identity().getInverse(this._game.scene.matrix));\r\n        var result = new three_modulefrom_dll_reference_dll_library["Vector3"]();\r\n        this._ray.intersectPlane(plane, result);\r\n        return result;\r\n    }\r\n    _handleDown() {\r\n        this._dragging = true;\r\n        this._holder.index = -1;\r\n        this._planes.some(plane => {\r\n            var point = this._intersect(this._down, plane);\r\n            if (point !== null) {\r\n                if (Math.abs(point.x) <= 48 + 0.01 &&\r\n                    Math.abs(point.y) <= 48 + 0.01 &&\r\n                    Math.abs(point.z) <= 48 + 0.01) {\r\n                    this._holder.plane = plane;\r\n                    var x = Math.ceil(Math.round(point.x) / 32 - 0.5);\r\n                    var y = Math.ceil(Math.round(point.y) / 32 - 0.5);\r\n                    var z = Math.ceil(Math.round(point.z) / 32 - 0.5);\r\n                    if (x < 2 && x > -2 && y < 2 && y > -2 && z < 2 && z > -2) {\r\n                        this._holder.index = (z + 1) * 9 + (y + 1) * 3 + (x + 1);\r\n                    }\r\n                    else {\r\n                        this._holder.index = -1;\r\n                    }\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }, this);\r\n        this._game.dirty = true;\r\n    }\r\n    _handleMove() {\r\n        if (this._dragging) {\r\n            var dx = this._move.x - this._down.x;\r\n            var dy = this._move.y - this._down.y;\r\n            var d = Math.sqrt(dx * dx + dy * dy);\r\n            if (Math.min(this._game.canvas.clientWidth, this._game.canvas.clientHeight) /\r\n                d >\r\n                100) {\r\n                return true;\r\n            }\r\n            if (this._game.lock) {\r\n                this._dragging = false;\r\n                this._rotating = false;\r\n                return true;\r\n            }\r\n            this._dragging = false;\r\n            this._rotating = true;\r\n            if (this._holder.index === -1) {\r\n                if (dx * dx > dy * dy) {\r\n                    this._group = group_Group.GROUPS.y;\r\n                }\r\n                else {\r\n                    if (this._down.x < this._game.canvas.clientWidth / 2) {\r\n                        this._group = group_Group.GROUPS.x;\r\n                    }\r\n                    else {\r\n                        this._group = group_Group.GROUPS.z;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                var start = this._intersect(this._down, this._holder.plane);\r\n                var end = this._intersect(this._move, this._holder.plane);\r\n                this._vector.subVectors(end, start);\r\n                var x = this._vector.x;\r\n                var y = this._vector.y;\r\n                var z = this._vector.z;\r\n                var max = Math.max(Math.abs(x), Math.abs(y), Math.abs(z));\r\n                x = Math.abs(x) === max ? x : 0;\r\n                y = Math.abs(y) === max ? y : 0;\r\n                z = Math.abs(z) === max ? z : 0;\r\n                this._vector.set(x, y, z);\r\n                this._holder.vector.copy(this._vector.multiply(this._vector).normalize());\r\n                let groups = this._game.twister.match(this._holder);\r\n                groups.some(element => {\r\n                    if (element.axis.dot(this._vector) === 0) {\r\n                        this._group = element;\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                }, this);\r\n                this._vector.crossVectors(this._holder.vector, this._holder.plane.normal);\r\n                this._holder.vector.multiplyScalar(this._vector.x + this._vector.y + this._vector.z);\r\n            }\r\n            this._group.hold(this._game);\r\n        }\r\n        if (this._rotating) {\r\n            if (this._holder.index === -1) {\r\n                var dx = this._move.x - this._down.x;\r\n                var dy = this._move.y - this._down.y;\r\n                if (this._group === group_Group.GROUPS.y) {\r\n                    this._group.angle =\r\n                        (dx /\r\n                            Math.min(this._game.canvas.clientWidth, this._game.canvas.clientHeight)) *\r\n                            Math.PI *\r\n                            2;\r\n                }\r\n                else {\r\n                    if (this._group === group_Group.GROUPS.x) {\r\n                        this._group.angle =\r\n                            (dy /\r\n                                Math.min(this._game.canvas.clientWidth, this._game.canvas.clientHeight)) *\r\n                                Math.PI *\r\n                                2;\r\n                    }\r\n                    else {\r\n                        this._group.angle =\r\n                            (-dy /\r\n                                Math.min(this._game.canvas.clientWidth, this._game.canvas.clientHeight)) *\r\n                                Math.PI *\r\n                                2;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                var start = this._intersect(this._down, this._holder.plane);\r\n                var end = this._intersect(this._move, this._holder.plane);\r\n                this._vector.subVectors(end, start).multiply(this._holder.vector);\r\n                this._group.angle =\r\n                    ((-(this._vector.x + this._vector.y + this._vector.z) *\r\n                        (this._group.axis.x + this._group.axis.y + this._group.axis.z)) /\r\n                        game_Game.SIZE) *\r\n                        Math.PI *\r\n                        8;\r\n            }\r\n        }\r\n        this._game.dirty = true;\r\n    }\r\n    _handleUp() {\r\n        if (this._rotating) {\r\n            if (this._group && this._group !== null) {\r\n                if (this._game.enable) {\r\n                    this._group.adjust(this._game);\r\n                }\r\n                else {\r\n                    this._group.revert(this._game);\r\n                }\r\n            }\r\n        }\r\n        this._holder.index = -1;\r\n        this._dragging = false;\r\n        this._rotating = false;\r\n        this._game.dirty = true;\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/cube/game.ts\n\r\n\r\n\r\n\r\n\r\n\r\nclass game_Game {\r\n    constructor() {\r\n        this.lock = false;\r\n        this.enable = true;\r\n        this.dirty = true;\r\n        this.scene = new three_modulefrom_dll_reference_dll_library["Scene"]();\r\n        this.scene.rotation.x = Math.PI / 8;\r\n        this.scene.rotation.y = Math.PI / 16 - Math.PI / 4;\r\n        this.camera = new three_modulefrom_dll_reference_dll_library["PerspectiveCamera"](50, 1, 1, game_Game.SIZE);\r\n        this.camera.position.x = 0;\r\n        this.camera.position.y = 0;\r\n        this.camera.position.z = game_Game.SIZE / 3;\r\n        this.tweener = new Tweener();\r\n        this.twister = new twister_Twister(this);\r\n        this.cube = new cube_Cube(this);\r\n        this.scene.add(this.cube);\r\n        for (let key in group_Group.GROUPS) {\r\n            this.scene.add(group_Group.GROUPS[key]);\r\n        }\r\n        this.renderer = new three_modulefrom_dll_reference_dll_library["WebGLRenderer"]({ antialias: true });\r\n        this.renderer.setClearColor(0xffffff);\r\n        this.renderer.setPixelRatio(window.devicePixelRatio);\r\n        this.canvas = this.renderer.domElement;\r\n        this.controller = new controller_Controller(this);\r\n        this.loop();\r\n    }\r\n    reset() {\r\n        if (!this.lock) {\r\n            this.cube.reset();\r\n            this.dirty = true;\r\n        }\r\n    }\r\n    resize(width, height) {\r\n        this.camera.aspect = width / height;\r\n        let min = ((height / Math.min(width, height)) * game_Game.SIZE) / 4;\r\n        let fov = (2 * Math.atan(min / game_Game.SIZE) * 180) / Math.PI;\r\n        this.camera.fov = fov;\r\n        this.camera.lookAt(this.scene.position);\r\n        this.camera.updateProjectionMatrix();\r\n        this.renderer.setSize(width, height, true);\r\n        this.dirty = true;\r\n    }\r\n    render() {\r\n        this.twister.update();\r\n        this.tweener.update();\r\n        if (this.dirty) {\r\n            this.renderer.render(this.scene, this.camera);\r\n            this.dirty = false;\r\n        }\r\n    }\r\n    loop() {\r\n        requestAnimationFrame(this.loop.bind(this));\r\n        this.render();\r\n    }\r\n}\r\ngame_Game.SIZE = 1024;\r\n\n// CONCATENATED MODULE: ./src/vue/App/index.ts\nvar App_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar App_metadata = (undefined && undefined.__metadata) || function (k, v) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\r\n};\r\n\r\n\r\n\r\n\r\n\r\nlet App_App = class App extends vue_esmfrom_dll_reference_dll_library["default"] {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.app = this;\r\n        this.game = new game_Game();\r\n        this.menu = false;\r\n        this.mode = "touch";\r\n    }\r\n    resize() {\r\n        if (this.$refs.cuber instanceof HTMLElement &&\r\n            this.$refs.panel instanceof HTMLElement) {\r\n            let cuber = this.$refs.cuber;\r\n            let panel = this.$refs.panel;\r\n            let panelHeight = panel.clientHeight;\r\n            let cuberHeight = window.innerHeight - panelHeight;\r\n            this.game.resize(cuber.clientWidth, cuberHeight);\r\n        }\r\n    }\r\n    mounted() {\r\n        if (this.$refs.cuber instanceof Element) {\r\n            let cuber = this.$refs.cuber;\r\n            this.resize();\r\n            cuber.appendChild(this.game.canvas);\r\n        }\r\n    }\r\n    onMenuClick() {\r\n        this.menu = !this.menu;\r\n    }\r\n    onModeChange(to, from) {\r\n        this.menu = false;\r\n        if (from != "touch" && to == "touch") {\r\n            this.game.enable = true;\r\n        }\r\n        if (from == "touch" && to != "touch") {\r\n            this.game.enable = false;\r\n        }\r\n        this.$nextTick(this.resize);\r\n    }\r\n    get lock() {\r\n        return this.game.lock || this.game.twister.length != 0;\r\n    }\r\n};\r\nApp_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Provide"])(\'app\'),\r\n    App_metadata("design:type", App_App)\r\n], App_App.prototype, "app", void 0);\r\nApp_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Watch"])("mode"),\r\n    App_metadata("design:type", Function),\r\n    App_metadata("design:paramtypes", [String, String]),\r\n    App_metadata("design:returntype", void 0)\r\n], App_App.prototype, "onModeChange", null);\r\nApp_App = App_decorate([\r\n    Object(vue_property_decoratorfrom_dll_reference_dll_library["Component"])({\r\n        template: __webpack_require__(7),\r\n        components: {\r\n            "keyboard-panel": vue_KeyboardPanel,\r\n            "script-panel": vue_ScriptPanel\r\n        }\r\n    })\r\n], App_App);\r\n/* harmony default export */ var vue_App = (App_App);\r\n\n// EXTERNAL MODULE: delegated ./node_modules/vuetify/dist/vuetify.js from dll-reference dll_library\nvar vuetifyfrom_dll_reference_dll_library = __webpack_require__(4);\nvar vuetifyfrom_dll_reference_dll_library_default = /*#__PURE__*/__webpack_require__.n(vuetifyfrom_dll_reference_dll_library);\n\n// EXTERNAL MODULE: delegated ./node_modules/vuetify/dist/vuetify.css from dll-reference dll_library\nvar dist_vuetifyfrom_dll_reference_dll_library = __webpack_require__(8);\n\n// EXTERNAL MODULE: delegated ./node_modules/typeface-roboto/index.css from dll-reference dll_library\nvar typeface_robotofrom_dll_reference_dll_library = __webpack_require__(9);\n\n// EXTERNAL MODULE: delegated ./node_modules/material-design-icons/iconfont/material-icons.css from dll-reference dll_library\nvar material_iconsfrom_dll_reference_dll_library = __webpack_require__(10);\n\n// CONCATENATED MODULE: ./src/main.ts\n\r\n\r\n\r\n\r\n\r\n\r\nvue_esmfrom_dll_reference_dll_library["default"].use(vuetifyfrom_dll_reference_dll_library_default.a);\r\nnew vue_esmfrom_dll_reference_dll_library["default"]({\r\n    el: "#app",\r\n    render: h => h(vue_App)\r\n});\r\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdnVlL0tleWJvYXJkUGFuZWwvaW5kZXgudHM/NDUzZSIsIndlYnBhY2s6Ly8vLi9zcmMvY3ViZS9ncm91cC50cz85ODY1Iiwid2VicGFjazovLy8uL3NyYy9jdWJlL3R3aXN0ZXIudHM/MGJmNSIsIndlYnBhY2s6Ly8vLi9zcmMvdnVlL1NjcmlwdFBhbmVsL2luZGV4LnRzP2FjMGQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2N1YmUvY3ViZWxldC50cz8yMjk2Iiwid2VicGFjazovLy8uL3NyYy9jdWJlL2N1YmUudHM/YjY0MyIsIndlYnBhY2s6Ly8vLi9zcmMvY3ViZS90d2VlbmVyLnRzP2YzNTciLCJ3ZWJwYWNrOi8vLy4vc3JjL2N1YmUvaG9sZGVyLnRzPzlkMjIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2N1YmUvY29udHJvbGxlci50cz83ZWY5Iiwid2VicGFjazovLy8uL3NyYy9jdWJlL2dhbWUudHM/ZGFlOCIsIndlYnBhY2s6Ly8vLi9zcmMvdnVlL0FwcC9pbmRleC50cz9kNjQxIiwid2VicGFjazovLy8uL3NyYy9tYWluLnRzPzc5NGYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsa0JBQWtCLFNBQUksSUFBSSxTQUFJO0FBQzlCO0FBQ0E7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0Esa0JBQWtCLFNBQUksSUFBSSxTQUFJO0FBQzlCO0FBQ0E7QUFDc0I7QUFDMkM7QUFDeEM7QUFDekIsSUFBSSwyQkFBYSwrQkFBK0IsZ0RBQUc7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHNFQUFNO0FBQ1YsOEJBQThCLE9BQUc7QUFDakMsR0FBRywyQkFBYTtBQUNoQjtBQUNBLElBQUksb0VBQUksRUFBRSxpQkFBaUI7QUFDM0I7QUFDQSxHQUFHLDJCQUFhO0FBQ2hCO0FBQ0EsSUFBSSxvRUFBSSxFQUFFLGlCQUFpQjtBQUMzQjtBQUNBLEdBQUcsMkJBQWE7QUFDaEIsMkJBQWE7QUFDYixJQUFJLHlFQUFTO0FBQ2Isa0JBQWtCLG1CQUFPLENBQUMsQ0FBYztBQUN4QyxLQUFLO0FBQ0wsR0FBRywyQkFBYTtBQUNELGlGQUFhLEVBQUM7Ozs7OztBQ3JFRTtBQUNoQixNQUFNLFdBQUssU0FBUyxtREFBVztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQUs7QUFDTCxhQUFhLFdBQUssd0NBQXdDLHFEQUFhO0FBQ3ZFLGFBQWEsV0FBSyx3Q0FBd0MscURBQWE7QUFDdkUsYUFBYSxXQUFLLG1DQUFtQyxxREFBYTtBQUNsRSxhQUFhLFdBQUsseUNBQXlDLHFEQUFhO0FBQ3hFLGFBQWEsV0FBSyx5Q0FBeUMscURBQWE7QUFDeEUsYUFBYSxXQUFLLDRDQUE0QyxxREFBYTtBQUMzRSxhQUFhLFdBQUsseUVBQXlFLHFEQUFhO0FBQ3hHLGFBQWEsV0FBSyx5RUFBeUUscURBQWE7QUFDeEcsYUFBYSxXQUFLLHNFQUFzRSxxREFBYTtBQUNyRyxhQUFhLFdBQUssMEVBQTBFLHFEQUFhO0FBQ3pHLGFBQWEsV0FBSywwRUFBMEUscURBQWE7QUFDekcsYUFBYSxXQUFLLCtFQUErRSxxREFBYTtBQUM5RyxhQUFhLFdBQUsseUNBQXlDLHFEQUFhO0FBQ3hFLGFBQWEsV0FBSyx5Q0FBeUMscURBQWE7QUFDeEUsYUFBYSxXQUFLLDJDQUEyQyxxREFBYTtBQUMxRSxhQUFhLFdBQUssMEdBQTBHLHFEQUFhO0FBQ3pJLGFBQWEsV0FBSywwR0FBMEcscURBQWE7QUFDekksYUFBYSxXQUFLLDBHQUEwRyxxREFBYTtBQUN6STs7O0FDeEc0QjtBQUNiLE1BQU0sZUFBTztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsV0FBSztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixXQUFLO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixXQUFLO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixXQUFLO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixXQUFLO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFdBQUs7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixXQUFLO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsV0FBSztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsV0FBSztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFdBQUs7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixXQUFLO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixXQUFLO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsV0FBSztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFdBQUs7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHVCQUF1QjtBQUNsRCwrQkFBK0IsMkJBQTJCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNyUEEsSUFBSSxvQkFBVSxJQUFJLFNBQUksSUFBSSxTQUFJO0FBQzlCO0FBQ0E7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0EsSUFBSSxvQkFBVSxJQUFJLFNBQUksSUFBSSxTQUFJO0FBQzlCO0FBQ0E7QUFDc0I7QUFDa0Q7QUFDekI7QUFDdEI7QUFDekIsSUFBSSx1QkFBVyw2QkFBNkIsZ0RBQUc7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix3REFBd0Q7QUFDN0UscUJBQXFCLHdEQUF3RDtBQUM3RSxxQkFBcUIsdURBQXVEO0FBQzVFLHFCQUFxQiw4REFBOEQ7QUFDbkYscUJBQXFCLHVEQUF1RDtBQUM1RSxxQkFBcUIscURBQXFEO0FBQzFFLHFCQUFxQixpREFBaUQ7QUFDdEUscUJBQXFCLHlEQUF5RDtBQUM5RSxxQkFBcUIsdURBQXVEO0FBQzVFLHFCQUFxQixzREFBc0Q7QUFDM0UscUJBQXFCLGlEQUFpRDtBQUN0RSxxQkFBcUIsa0RBQWtEO0FBQ3ZFLHFCQUFxQixxREFBcUQ7QUFDMUUscUJBQXFCLHFEQUFxRDtBQUMxRSxxQkFBcUIsMERBQTBEO0FBQy9FLHFCQUFxQiw0Q0FBNEM7QUFDakUscUJBQXFCLDBEQUEwRDtBQUMvRSxxQkFBcUIsdURBQXVEO0FBQzVFLHFCQUFxQixnREFBZ0Q7QUFDckUscUJBQXFCLG9EQUFvRDtBQUN6RSxxQkFBcUIsa0RBQWtEO0FBQ3ZFLHFCQUFxQixxREFBcUQ7QUFDMUUscUJBQXFCLHNEQUFzRDtBQUMzRSxxQkFBcUIscURBQXFEO0FBQzFFLHFCQUFxQiwyQ0FBMkM7QUFDaEUscUJBQXFCLG1EQUFtRDtBQUN4RSxxQkFBcUIseURBQXlEO0FBQzlFLHFCQUFxQix1REFBdUQ7QUFDNUUscUJBQXFCLHdEQUF3RDtBQUM3RSxxQkFBcUIsc0RBQXNEO0FBQzNFLHFCQUFxQixzQ0FBc0M7QUFDM0QscUJBQXFCLHFEQUFxRDtBQUMxRSxxQkFBcUIsb0RBQW9EO0FBQ3pFLHFCQUFxQix5Q0FBeUM7QUFDOUQscUJBQXFCLGtEQUFrRDtBQUN2RSxxQkFBcUIsd0RBQXdEO0FBQzdFLHFCQUFxQixxREFBcUQ7QUFDMUUscUJBQXFCLG9EQUFvRDtBQUN6RSxxQkFBcUIsbURBQW1EO0FBQ3hFLHFCQUFxQixxQ0FBcUM7QUFDMUQscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixnRUFBZ0U7QUFDckYscUJBQXFCLDhEQUE4RDtBQUNuRixxQkFBcUIsNkRBQTZEO0FBQ2xGLHFCQUFxQixrRUFBa0U7QUFDdkYscUJBQXFCLGdEQUFnRDtBQUNyRSxxQkFBcUIsb0RBQW9EO0FBQ3pFLHFCQUFxQiw4Q0FBOEM7QUFDbkUscUJBQXFCLCtDQUErQztBQUNwRSxxQkFBcUIsb0VBQW9FO0FBQ3pGLHFCQUFxQix5REFBeUQ7QUFDOUUscUJBQXFCLDZEQUE2RDtBQUNsRixxQkFBcUIsaUVBQWlFO0FBQ3RGLHFCQUFxQiwwREFBMEQ7QUFDL0UscUJBQXFCLHNEQUFzRDtBQUMzRSxxQkFBcUIseURBQXlEO0FBQzlFLHFCQUFxQixxREFBcUQ7QUFDMUUscUJBQXFCLCtEQUErRDtBQUNwRixxQkFBcUIsOERBQThEO0FBQ25GLHFCQUFxQiw0REFBNEQ7QUFDakYscUJBQXFCLGtFQUFrRTtBQUN2RixxQkFBcUIsZ0VBQWdFO0FBQ3JGLHFCQUFxQiw2REFBNkQ7QUFDbEYscUJBQXFCLDJEQUEyRDtBQUNoRixxQkFBcUIsbURBQW1EO0FBQ3hFLHFCQUFxQixtREFBbUQ7QUFDeEUscUJBQXFCLGdEQUFnRDtBQUNyRSxxQkFBcUIsNkNBQTZDO0FBQ2xFLHFCQUFxQiwyREFBMkQ7QUFDaEYscUJBQXFCLGlFQUFpRTtBQUN0RixxQkFBcUIsK0RBQStEO0FBQ3BGLHFCQUFxQix1REFBdUQ7QUFDNUUscUJBQXFCLHNEQUFzRDtBQUMzRSxxQkFBcUIsb0RBQW9EO0FBQ3pFLHFCQUFxQiw4REFBOEQ7QUFDbkYscUJBQXFCLHFEQUFxRDtBQUMxRSxxQkFBcUIsdURBQXVEO0FBQzVFLHFCQUFxQixxREFBcUQ7QUFDMUUscUJBQXFCLDJEQUEyRDtBQUNoRixxQkFBcUIscURBQXFEO0FBQzFFLHFCQUFxQixxREFBcUQ7QUFDMUUscUJBQXFCLDhEQUE4RDtBQUNuRixxQkFBcUIsMERBQTBEO0FBQy9FLHFCQUFxQiwrQ0FBK0M7QUFDcEUscUJBQXFCLDRDQUE0QztBQUNqRSxxQkFBcUIsNkNBQTZDO0FBQ2xFLHFCQUFxQixvREFBb0Q7QUFDekUscUJBQXFCLDZDQUE2QztBQUNsRSxxQkFBcUIsOENBQThDO0FBQ25FLHFCQUFxQixxREFBcUQ7QUFDMUUscUJBQXFCLHNEQUFzRDtBQUMzRSxxQkFBcUIsOENBQThDO0FBQ25FLHFCQUFxQix1REFBdUQ7QUFDNUUscUJBQXFCLDJEQUEyRDtBQUNoRixxQkFBcUIsZ0VBQWdFO0FBQ3JGLHFCQUFxQixnRUFBZ0U7QUFDckYscUJBQXFCLDJEQUEyRDtBQUNoRixxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsMkRBQTJEO0FBQ2hGLHFCQUFxQiw4REFBOEQ7QUFDbkYscUJBQXFCLCtDQUErQztBQUNwRTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIscUJBQXFCLGtFQUFrRTtBQUN2RixxQkFBcUIsMkRBQTJEO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixxQkFBcUIsb0VBQW9FO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLHFCQUFxQixnRUFBZ0U7QUFDckYscUJBQXFCLG1FQUFtRTtBQUN4RjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIscUJBQXFCLHNFQUFzRTtBQUMzRixxQkFBcUIsK0RBQStEO0FBQ3BGLHFCQUFxQixrRUFBa0U7QUFDdkYscUJBQXFCLCtEQUErRDtBQUNwRixxQkFBcUIsbUVBQW1FO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixTQUFTO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixTQUFTO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQVU7QUFDVixJQUFJLHNFQUFNO0FBQ1YsSUFBSSxvQkFBVSxnQkFBZ0IsT0FBRztBQUNqQyxHQUFHLHVCQUFXO0FBQ2Qsb0JBQVU7QUFDVixJQUFJLG9FQUFJLEVBQUUsaUJBQWlCO0FBQzNCLElBQUksb0JBQVU7QUFDZCxHQUFHLHVCQUFXO0FBQ2Qsb0JBQVU7QUFDVixJQUFJLHFFQUFLO0FBQ1QsSUFBSSxvQkFBVTtBQUNkLElBQUksb0JBQVU7QUFDZCxJQUFJLG9CQUFVO0FBQ2QsR0FBRyx1QkFBVztBQUNkLG9CQUFVO0FBQ1YsSUFBSSxvRUFBSSxFQUFFLGlCQUFpQjtBQUMzQixJQUFJLG9CQUFVO0FBQ2QsR0FBRyx1QkFBVztBQUNkLG9CQUFVO0FBQ1YsSUFBSSxxRUFBSztBQUNULElBQUksb0JBQVU7QUFDZCxJQUFJLG9CQUFVO0FBQ2QsSUFBSSxvQkFBVTtBQUNkLEdBQUcsdUJBQVc7QUFDZCxvQkFBVTtBQUNWLElBQUkscUVBQUs7QUFDVCxJQUFJLG9CQUFVO0FBQ2QsSUFBSSxvQkFBVTtBQUNkLElBQUksb0JBQVU7QUFDZCxHQUFHLHVCQUFXO0FBQ2QsdUJBQVcsR0FBRyxvQkFBVTtBQUN4QixJQUFJLHlFQUFTO0FBQ2Isa0JBQWtCLG1CQUFPLENBQUMsQ0FBYztBQUN4QyxLQUFLO0FBQ0wsR0FBRyx1QkFBVztBQUNDLDJFQUFXLEVBQUM7OztBQ2xVSTtBQUNEO0FBQzlCLE1BQU0sYUFBSyxTQUFTLHNEQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixtQkFBbUI7QUFDMUM7QUFDQSxtQ0FBbUMscURBQWE7QUFDaEQ7QUFDQSx1QkFBdUIsS0FBSyxhQUFLLGlCQUFpQjtBQUNsRCwwQkFBMEIsYUFBSztBQUMvQiw0QkFBNEIsbURBQVc7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxlQUFPLFNBQVMsMkRBQW1CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsbURBQUs7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLFlBQUksU0FBUywyREFBbUI7QUFDdEM7QUFDQSx3QkFBd0IsbURBQUs7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG1EQUFLO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZSxNQUFNLGVBQU8sU0FBUyxtREFBVztBQUNoRDtBQUNBO0FBQ0EsMkJBQTJCLHFEQUFhO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIscURBQWE7QUFDdkM7QUFDQSxpQ0FBaUMsZUFBTyxnQkFBZ0IsZUFBTztBQUMvRCxpQ0FBaUMsZUFBTyxnQkFBZ0IsZUFBTztBQUMvRCxpQ0FBaUMsZUFBTyxnQkFBZ0IsZUFBTztBQUMvRCxpQ0FBaUMsZUFBTyxnQkFBZ0IsZUFBTztBQUMvRCxpQ0FBaUMsZUFBTyxnQkFBZ0IsZUFBTztBQUMvRCxpQ0FBaUMsZUFBTyxnQkFBZ0IsZUFBTztBQUMvRDtBQUNBLHlCQUF5QixrREFBVSxDQUFDLGVBQU8sU0FBUyxlQUFPO0FBQzNEO0FBQ0EsdUJBQXVCLE9BQU87QUFDOUIsNEJBQTRCLGtEQUFVLENBQUMsZUFBTyxRQUFRLGVBQU87QUFDN0QsK0JBQStCLGtEQUFVLENBQUMsZUFBTztBQUNqRDtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsZUFBTztBQUMvQztBQUNBLDJDQUEyQyxlQUFPO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxlQUFPO0FBQzlDO0FBQ0EsMENBQTBDLGVBQU87QUFDakQ7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLGVBQU87QUFDL0M7QUFDQSwyQ0FBMkMsZUFBTztBQUNsRDtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsZUFBTztBQUM5QztBQUNBLDBDQUEwQyxlQUFPO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxlQUFPO0FBQy9DO0FBQ0EsMkNBQTJDLGVBQU87QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGVBQU87QUFDOUM7QUFDQSwwQ0FBMEMsZUFBTztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixlQUFPO0FBQ2pDLDBCQUEwQixlQUFPO0FBQ2pDLDBCQUEwQixlQUFPO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIscURBQWE7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixPQUFPO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLGVBQU87QUFDL0M7QUFDQTtBQUNBLGVBQU87QUFDUCxlQUFPO0FBQ1AsZUFBTztBQUNQLGVBQU8sY0FBYyxhQUFLLENBQUMsZUFBTyxRQUFRLGVBQU87QUFDakQsZUFBTyxhQUFhLFlBQUksQ0FBQyxlQUFPLGFBQWEsZUFBTyxnQkFBZ0IsZUFBTztBQUMzRSxlQUFPLGdCQUFnQixlQUFPLENBQUMsZUFBTyxhQUFhLGVBQU8sZ0JBQWdCLGVBQU87QUFDakYsZUFBTztBQUNQLFdBQVcsK0RBQXVCLEVBQUUscUNBQXFDO0FBQ3pFLFdBQVcsK0RBQXVCLEVBQUUscUNBQXFDO0FBQ3pFLFdBQVcsK0RBQXVCLEVBQUUscUNBQXFDO0FBQ3pFLFdBQVcsK0RBQXVCLEVBQUUscUNBQXFDO0FBQ3pFLFdBQVcsK0RBQXVCLEVBQUUscUNBQXFDO0FBQ3pFLFdBQVcsK0RBQXVCLEVBQUUscUNBQXFDO0FBQ3pFLFdBQVcsK0RBQXVCLEVBQUUscUNBQXFDO0FBQ3pFLFdBQVcsK0RBQXVCLEVBQUUscUNBQXFDO0FBQ3pFOzs7QUNuUCtCO0FBQ0M7QUFDRjtBQUNmLE1BQU0sU0FBSSxTQUFTLG1EQUFXO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLFFBQVE7QUFDL0IsOEJBQThCLGVBQU87QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsbURBQUs7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3BDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzVDZTtBQUNmOzs7QUNEK0I7QUFDTDtBQUNFO0FBQ0U7QUFDZixNQUFNLHFCQUFVO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaURBQVM7QUFDakMseUJBQXlCLHFEQUFhO0FBQ3RDLHlCQUF5QixxREFBYTtBQUN0QywyQkFBMkIscURBQWE7QUFDeEMsMkJBQTJCLE1BQU07QUFDakMsa0NBQWtDLHFEQUFhO0FBQy9DLDJCQUEyQixxREFBYTtBQUN4QztBQUNBLGdCQUFnQixtREFBVyxLQUFLLHFEQUFhLGFBQWEsU0FBSTtBQUM5RCxnQkFBZ0IsbURBQVcsS0FBSyxxREFBYSxhQUFhLFNBQUk7QUFDOUQsZ0JBQWdCLG1EQUFXLEtBQUsscURBQWEsYUFBYSxTQUFJO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHFEQUFhO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFdBQUs7QUFDdkM7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLFdBQUs7QUFDM0M7QUFDQTtBQUNBLHNDQUFzQyxXQUFLO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLFdBQUs7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsV0FBSztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixTQUFJO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2xPK0I7QUFDTDtBQUNNO0FBQ007QUFDTjtBQUNKO0FBQ2IsTUFBTSxTQUFJO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG1EQUFXO0FBQ3BDO0FBQ0E7QUFDQSwwQkFBMEIsK0RBQXVCLFdBQVcsU0FBSTtBQUNoRTtBQUNBO0FBQ0EsaUNBQWlDLFNBQUk7QUFDckMsMkJBQTJCLE9BQU87QUFDbEMsMkJBQTJCLGVBQU87QUFDbEMsd0JBQXdCLFNBQUk7QUFDNUI7QUFDQSx3QkFBd0IsV0FBSztBQUM3QiwyQkFBMkIsV0FBSztBQUNoQztBQUNBLDRCQUE0QiwyREFBbUIsRUFBRSxrQkFBa0I7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHFCQUFVO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELFNBQUk7QUFDNUQsdUNBQXVDLFNBQUk7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFJOzs7QUM3REosSUFBSSxZQUFVLElBQUksU0FBSSxJQUFJLFNBQUk7QUFDOUI7QUFDQTtBQUNBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQSxJQUFJLFlBQVUsSUFBSSxTQUFJLElBQUksU0FBSTtBQUM5QjtBQUNBO0FBQ3NCO0FBQzZDO0FBQ3RCO0FBQ0o7QUFDTjtBQUNuQyxJQUFJLE9BQUcscUJBQXFCLGdEQUFHO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixTQUFJO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVTtBQUNWLElBQUksdUVBQU87QUFDWCxJQUFJLFlBQVUsZ0JBQWdCLE9BQUc7QUFDakMsR0FBRyxPQUFHO0FBQ04sWUFBVTtBQUNWLElBQUkscUVBQUs7QUFDVCxJQUFJLFlBQVU7QUFDZCxJQUFJLFlBQVU7QUFDZCxJQUFJLFlBQVU7QUFDZCxHQUFHLE9BQUc7QUFDTixPQUFHLEdBQUcsWUFBVTtBQUNoQixJQUFJLHlFQUFTO0FBQ2Isa0JBQWtCLG1CQUFPLENBQUMsQ0FBYztBQUN4QztBQUNBLDhCQUE4QixpQkFBYTtBQUMzQyw0QkFBNEIsZUFBVztBQUN2QztBQUNBLEtBQUs7QUFDTCxHQUFHLE9BQUc7QUFDUyxtREFBRyxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7O0FDM0VHO0FBQ007QUFDRTtBQUNJO0FBQ1Q7QUFDa0M7QUFDM0QsZ0RBQUcsS0FBSywrQ0FBTztBQUNmLElBQUksZ0RBQUc7QUFDUDtBQUNBLG1CQUFtQixPQUFHO0FBQ3RCLENBQUMiLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG52YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcclxufTtcclxuaW1wb3J0IFZ1ZSBmcm9tICd2dWUnO1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIEluamVjdCB9IGZyb20gXCJ2dWUtcHJvcGVydHktZGVjb3JhdG9yXCI7XHJcbmltcG9ydCBBcHAgZnJvbSBcIi4uL0FwcFwiO1xyXG5sZXQgS2V5Ym9hcmRQYW5lbCA9IGNsYXNzIEtleWJvYXJkUGFuZWwgZXh0ZW5kcyBWdWUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICB0aGlzLnF1ZXVlID0gW107XHJcbiAgICAgICAgdGhpcy5zaGlmdCA9IFtdO1xyXG4gICAgICAgIHRoaXMub3BlcmF0aW9ucyA9IFtcclxuICAgICAgICAgICAgXCJMXCIsXHJcbiAgICAgICAgICAgIFwiRFwiLFxyXG4gICAgICAgICAgICBcIkJcIixcclxuICAgICAgICAgICAgXCJSXCIsXHJcbiAgICAgICAgICAgIFwiVVwiLFxyXG4gICAgICAgICAgICBcIkZcIixcclxuICAgICAgICAgICAgXCJsXCIsXHJcbiAgICAgICAgICAgIFwiZFwiLFxyXG4gICAgICAgICAgICBcImJcIixcclxuICAgICAgICAgICAgXCJyXCIsXHJcbiAgICAgICAgICAgIFwidVwiLFxyXG4gICAgICAgICAgICBcImZcIixcclxuICAgICAgICAgICAgXCJNXCIsXHJcbiAgICAgICAgICAgIFwiRVwiLFxyXG4gICAgICAgICAgICBcIlNcIixcclxuICAgICAgICAgICAgXCJ4XCIsXHJcbiAgICAgICAgICAgIFwieVwiLFxyXG4gICAgICAgICAgICBcInpcIlxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcbiAgICBnZXQgc3VmZml4KCkge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQodGhpcy5zaGlmdC5pbmRleE9mKFwicmV2ZXJzZVwiKSA9PSAtMSA/IFwiXCIgOiBcIidcIik7XHJcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdCh0aGlzLnNoaWZ0LmluZGV4T2YoXCJkb3VibGVcIikgPT0gLTEgPyBcIlwiIDogXCIyXCIpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICB0d2lzdChvcGVyYXRpb24pIHtcclxuICAgICAgICB0aGlzLnF1ZXVlLnB1c2gob3BlcmF0aW9uKTtcclxuICAgICAgICB0aGlzLmFwcC5nYW1lLnR3aXN0ZXIudHdpc3Qob3BlcmF0aW9uLCBmYWxzZSwgMSwgdGhpcy5jYWxsYmFjaywgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgY2FsbGJhY2soKSB7XHJcbiAgICAgICAgdGhpcy5xdWV1ZS5zaGlmdCgpO1xyXG4gICAgfVxyXG59O1xyXG5fX2RlY29yYXRlKFtcclxuICAgIEluamVjdCgnYXBwJyksXHJcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXBwKVxyXG5dLCBLZXlib2FyZFBhbmVsLnByb3RvdHlwZSwgXCJhcHBcIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBQcm9wKHsgZGVmYXVsdDogZmFsc2UgfSksXHJcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcclxuXSwgS2V5Ym9hcmRQYW5lbC5wcm90b3R5cGUsIFwic2hvd1wiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIFByb3AoeyBkZWZhdWx0OiBmYWxzZSB9KSxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxyXG5dLCBLZXlib2FyZFBhbmVsLnByb3RvdHlwZSwgXCJkaXNhYmxlZFwiLCB2b2lkIDApO1xyXG5LZXlib2FyZFBhbmVsID0gX19kZWNvcmF0ZShbXHJcbiAgICBDb21wb25lbnQoe1xyXG4gICAgICAgIHRlbXBsYXRlOiByZXF1aXJlKFwiLi9pbmRleC5odG1sXCIpXHJcbiAgICB9KVxyXG5dLCBLZXlib2FyZFBhbmVsKTtcclxuZXhwb3J0IGRlZmF1bHQgS2V5Ym9hcmRQYW5lbDtcclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyb3VwIGV4dGVuZHMgVEhSRUUuR3JvdXAge1xyXG4gICAgY29uc3RydWN0b3IoaW5kaWNlcywgYXhpcykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5fY3ViZWxldHMgPSBbXTtcclxuICAgICAgICB0aGlzLl9pbmRpY2VzID0gaW5kaWNlcztcclxuICAgICAgICB0aGlzLmF4aXMgPSBheGlzO1xyXG4gICAgfVxyXG4gICAgc2V0IGFuZ2xlKGFuZ2xlKSB7XHJcbiAgICAgICAgdGhpcy5zZXRSb3RhdGlvbkZyb21BeGlzQW5nbGUodGhpcy5heGlzLCBhbmdsZSk7XHJcbiAgICAgICAgdGhpcy5fYW5nbGUgPSBhbmdsZTtcclxuICAgIH1cclxuICAgIGdldCBhbmdsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYW5nbGU7XHJcbiAgICB9XHJcbiAgICBob2xkKGdhbWUpIHtcclxuICAgICAgICB0aGlzLl9hbmdsZSA9IDA7XHJcbiAgICAgICAgdGhpcy5faW5kaWNlcy5mb3JFYWNoKChpKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjdWJlbGV0ID0gZ2FtZS5jdWJlLmN1YmVsZXRzW2ldO1xyXG4gICAgICAgICAgICB0aGlzLl9jdWJlbGV0cy5wdXNoKGN1YmVsZXQpO1xyXG4gICAgICAgICAgICBnYW1lLmN1YmUucmVtb3ZlKGN1YmVsZXQpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZChjdWJlbGV0KTtcclxuICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICBnYW1lLmxvY2sgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV2ZXJ0KGdhbWUpIHtcclxuICAgICAgICBsZXQgYW5nbGUgPSAtdGhpcy5fYW5nbGU7XHJcbiAgICAgICAgaWYgKGFuZ2xlID09PSAwKSB7XHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3ViZWxldCA9IHRoaXMuX2N1YmVsZXRzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY3ViZWxldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoY3ViZWxldCk7XHJcbiAgICAgICAgICAgICAgICBnYW1lLmN1YmUuYWRkKGN1YmVsZXQpO1xyXG4gICAgICAgICAgICAgICAgZ2FtZS5jdWJlLmN1YmVsZXRzW2N1YmVsZXQuaW5kZXhdID0gY3ViZWxldDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9hbmdsZSA9IDA7XHJcbiAgICAgICAgICAgIGdhbWUubG9jayA9IGZhbHNlO1xyXG4gICAgICAgICAgICBnYW1lLmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IDYwMCAqIE1hdGgubWluKDEsIE1hdGguYWJzKGFuZ2xlKSAvIE1hdGguUEkpO1xyXG4gICAgICAgICAgICBnYW1lLnR3ZWVuZXIudHdlZW4odGhpcy5hbmdsZSwgdGhpcy5hbmdsZSArIGFuZ2xlLCBkdXJhdGlvbiwgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuZ2xlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBnYW1lLmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXZlcnQoZ2FtZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFkanVzdChnYW1lKSB7XHJcbiAgICAgICAgbGV0IGFuZ2xlID0gTWF0aC5yb3VuZCh0aGlzLl9hbmdsZSAvIChNYXRoLlBJIC8gMikpICogKE1hdGguUEkgLyAyKSAtIHRoaXMuX2FuZ2xlO1xyXG4gICAgICAgIGlmIChhbmdsZSA9PT0gMCkge1xyXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1YmVsZXQgPSB0aGlzLl9jdWJlbGV0cy5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGN1YmVsZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlKGN1YmVsZXQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoY3ViZWxldCk7XHJcbiAgICAgICAgICAgICAgICBnYW1lLmN1YmUuYWRkKGN1YmVsZXQpO1xyXG4gICAgICAgICAgICAgICAgZ2FtZS5jdWJlLmN1YmVsZXRzW2N1YmVsZXQuaW5kZXhdID0gY3ViZWxldDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9hbmdsZSA9IDA7XHJcbiAgICAgICAgICAgIGdhbWUubG9jayA9IGZhbHNlO1xyXG4gICAgICAgICAgICBnYW1lLmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IDYwMCAqIE1hdGgubWluKDEsIE1hdGguYWJzKGFuZ2xlKSAvIE1hdGguUEkpO1xyXG4gICAgICAgICAgICBnYW1lLnR3ZWVuZXIudHdlZW4odGhpcy5hbmdsZSwgdGhpcy5hbmdsZSArIGFuZ2xlLCBkdXJhdGlvbiwgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuZ2xlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBnYW1lLmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGp1c3QoZ2FtZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIDtcclxuICAgIHJvdGF0ZShjdWJlbGV0KSB7XHJcbiAgICAgICAgY3ViZWxldC5yb3RhdGVPbldvcmxkQXhpcyh0aGlzLmF4aXMsIHRoaXMuX2FuZ2xlKTtcclxuICAgICAgICBjdWJlbGV0LnZlY3RvciA9IGN1YmVsZXQudmVjdG9yLmFwcGx5QXhpc0FuZ2xlKHRoaXMuYXhpcywgdGhpcy5fYW5nbGUpO1xyXG4gICAgICAgIGN1YmVsZXQudXBkYXRlTWF0cml4KCk7XHJcbiAgICB9XHJcbn1cclxuR3JvdXAuR1JPVVBTID0ge1xyXG4gICAgXCJMXCI6IG5ldyBHcm91cChbMCwgMywgNiwgOSwgMTIsIDE1LCAxOCwgMjEsIDI0LF0sIG5ldyBUSFJFRS5WZWN0b3IzKC0xLCAwLCAwKSksXHJcbiAgICBcIkRcIjogbmV3IEdyb3VwKFswLCAxLCAyLCA5LCAxMCwgMTEsIDE4LCAxOSwgMjAsXSwgbmV3IFRIUkVFLlZlY3RvcjMoMCwgLTEsIDApKSxcclxuICAgIFwiQlwiOiBuZXcgR3JvdXAoWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsXSwgbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgLTEpKSxcclxuICAgIFwiUlwiOiBuZXcgR3JvdXAoWzIsIDUsIDgsIDExLCAxNCwgMTcsIDIwLCAyMywgMjYsXSwgbmV3IFRIUkVFLlZlY3RvcjMoKzEsIDAsIDApKSxcclxuICAgIFwiVVwiOiBuZXcgR3JvdXAoWzYsIDcsIDgsIDE1LCAxNiwgMTcsIDI0LCAyNSwgMjYsXSwgbmV3IFRIUkVFLlZlY3RvcjMoMCwgKzEsIDApKSxcclxuICAgIFwiRlwiOiBuZXcgR3JvdXAoWzE4LCAxOSwgMjAsIDIxLCAyMiwgMjMsIDI0LCAyNSwgMjYsXSwgbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgKzEpKSxcclxuICAgIFwibFwiOiBuZXcgR3JvdXAoWzAsIDMsIDYsIDksIDEyLCAxNSwgMTgsIDIxLCAyNCwgMSwgNCwgNywgMTAsIDEzLCAxNiwgMTksIDIyLCAyNSxdLCBuZXcgVEhSRUUuVmVjdG9yMygtMSwgMCwgMCkpLFxyXG4gICAgXCJkXCI6IG5ldyBHcm91cChbMCwgMSwgMiwgOSwgMTAsIDExLCAxOCwgMTksIDIwLCAzLCA0LCA1LCAxMiwgMTMsIDE0LCAyMSwgMjIsIDIzLF0sIG5ldyBUSFJFRS5WZWN0b3IzKDAsIC0xLCAwKSksXHJcbiAgICBcImJcIjogbmV3IEdyb3VwKFswLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyLCAxMywgMTQsIDE1LCAxNiwgMTcsXSwgbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgLTEpKSxcclxuICAgIFwiclwiOiBuZXcgR3JvdXAoWzIsIDUsIDgsIDExLCAxNCwgMTcsIDIwLCAyMywgMjYsIDEsIDQsIDcsIDEwLCAxMywgMTYsIDE5LCAyMiwgMjUsXSwgbmV3IFRIUkVFLlZlY3RvcjMoKzEsIDAsIDApKSxcclxuICAgIFwidVwiOiBuZXcgR3JvdXAoWzYsIDcsIDgsIDE1LCAxNiwgMTcsIDI0LCAyNSwgMjYsIDMsIDQsIDUsIDEyLCAxMywgMTQsIDIxLCAyMiwgMjMsXSwgbmV3IFRIUkVFLlZlY3RvcjMoMCwgKzEsIDApKSxcclxuICAgIFwiZlwiOiBuZXcgR3JvdXAoWzE4LCAxOSwgMjAsIDIxLCAyMiwgMjMsIDI0LCAyNSwgMjYsIDksIDEwLCAxMSwgMTIsIDEzLCAxNCwgMTUsIDE2LCAxNyxdLCBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCArMSkpLFxyXG4gICAgXCJNXCI6IG5ldyBHcm91cChbMSwgNCwgNywgMTAsIDEzLCAxNiwgMTksIDIyLCAyNSxdLCBuZXcgVEhSRUUuVmVjdG9yMygtMSwgMCwgMCkpLFxyXG4gICAgXCJFXCI6IG5ldyBHcm91cChbMywgNCwgNSwgMTIsIDEzLCAxNCwgMjEsIDIyLCAyMyxdLCBuZXcgVEhSRUUuVmVjdG9yMygwLCAtMSwgMCkpLFxyXG4gICAgXCJTXCI6IG5ldyBHcm91cChbOSwgMTAsIDExLCAxMiwgMTMsIDE0LCAxNSwgMTYsIDE3LF0sIG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsICsxKSksXHJcbiAgICBcInhcIjogbmV3IEdyb3VwKFswLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyLCAxMywgMTQsIDE1LCAxNiwgMTcsIDE4LCAxOSwgMjAsIDIxLCAyMiwgMjMsIDI0LCAyNSwgMjYsXSwgbmV3IFRIUkVFLlZlY3RvcjMoKzEsIDAsIDApKSxcclxuICAgIFwieVwiOiBuZXcgR3JvdXAoWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTIsIDEzLCAxNCwgMTUsIDE2LCAxNywgMTgsIDE5LCAyMCwgMjEsIDIyLCAyMywgMjQsIDI1LCAyNixdLCBuZXcgVEhSRUUuVmVjdG9yMygwLCArMSwgMCkpLFxyXG4gICAgXCJ6XCI6IG5ldyBHcm91cChbMCwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMiwgMTMsIDE0LCAxNSwgMTYsIDE3LCAxOCwgMTksIDIwLCAyMSwgMjIsIDIzLCAyNCwgMjUsIDI2LF0sIG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsICsxKSksXHJcbn07XHJcbiIsImltcG9ydCBHcm91cCBmcm9tIFwiLi9ncm91cFwiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUd2lzdGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKGdhbWUpIHtcclxuICAgICAgICB0aGlzLl9xdWV1ZSA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2dhbWUgPSBnYW1lO1xyXG4gICAgfVxyXG4gICAgZ2V0IGxlbmd0aCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcXVldWUubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgdHdpc3QoZXhwLCByZXZlcnNlID0gZmFsc2UsIHRpbWVzID0gMSwgY2FsbGJhY2sgPSBudWxsLCBmYXN0ID0gZmFsc2UpIHtcclxuICAgICAgICBsZXQgbGlzdCA9IG5ldyBUd2lzdE5vZGUoZXhwLCByZXZlcnNlLCB0aW1lcykucGFyc2UoKTtcclxuICAgICAgICBpZiAoZmFzdCkge1xyXG4gICAgICAgICAgICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGxldCBhbmdsZSA9IC1NYXRoLlBJIC8gMjtcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnJldmVyc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmdsZSA9IC1hbmdsZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnRpbWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5nbGUgPSBhbmdsZSAqIGVsZW1lbnQudGltZXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgcGFydCA9IEdyb3VwLkdST1VQU1tlbGVtZW50LnR3aXN0XTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJ0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwYXJ0LmhvbGQodGhpcy5fZ2FtZSk7XHJcbiAgICAgICAgICAgICAgICBwYXJ0LmFuZ2xlID0gYW5nbGU7XHJcbiAgICAgICAgICAgICAgICBwYXJ0LmFkanVzdCh0aGlzLl9nYW1lKTtcclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGlzdFtsaXN0Lmxlbmd0aCAtIDFdLmNhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICAgICAgICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcXVldWUucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9xdWV1ZS5sZW5ndGggPT09IDAgfHwgdGhpcy5fZ2FtZS5sb2NrKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHR3aXN0ID0gdGhpcy5fcXVldWUuc2hpZnQoKTtcclxuICAgICAgICBpZiAodW5kZWZpbmVkID09IHR3aXN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGFydCh0d2lzdCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBzdGFydChhY3Rpb24pIHtcclxuICAgICAgICBsZXQgYW5nbGUgPSAtTWF0aC5QSSAvIDI7XHJcbiAgICAgICAgaWYgKGFjdGlvbi5yZXZlcnNlKSB7XHJcbiAgICAgICAgICAgIGFuZ2xlID0gLWFuZ2xlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYWN0aW9uLnRpbWVzKSB7XHJcbiAgICAgICAgICAgIGFuZ2xlID0gYW5nbGUgKiBhY3Rpb24udGltZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBkdXJhdGlvbiA9IDYwMCAqIE1hdGgubWluKDEsIE1hdGguYWJzKGFuZ2xlKSAvIE1hdGguUEkpO1xyXG4gICAgICAgIGxldCBwYXJ0ID0gR3JvdXAuR1JPVVBTW2FjdGlvbi50d2lzdF07XHJcbiAgICAgICAgaWYgKHBhcnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhcnQuaG9sZCh0aGlzLl9nYW1lKTtcclxuICAgICAgICB0aGlzLl9nYW1lLnR3ZWVuZXIudHdlZW4ocGFydC5hbmdsZSwgcGFydC5hbmdsZSArIGFuZ2xlLCBkdXJhdGlvbiwgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHBhcnQuYW5nbGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5fZ2FtZS5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBwYXJ0LmFkanVzdCh0aGlzLl9nYW1lKTtcclxuICAgICAgICAgICAgaWYgKGFjdGlvbi5jYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uLmNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIG1hdGNoKGhvbGRlcikge1xyXG4gICAgICAgIGxldCBnO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcclxuICAgICAgICB2YXIgaW5kZXggPSBob2xkZXIuaW5kZXg7XHJcbiAgICAgICAgaWYgKGhvbGRlci5pbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgZyA9IEdyb3VwLkdST1VQUy54O1xyXG4gICAgICAgICAgICBpZiAoZy5heGlzLmRvdChob2xkZXIucGxhbmUubm9ybWFsKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZyA9IEdyb3VwLkdST1VQUy55O1xyXG4gICAgICAgICAgICBpZiAoZy5heGlzLmRvdChob2xkZXIucGxhbmUubm9ybWFsKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZyA9IEdyb3VwLkdST1VQUy56O1xyXG4gICAgICAgICAgICBpZiAoZy5heGlzLmRvdChob2xkZXIucGxhbmUubm9ybWFsKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHggPSAoaW5kZXggJSAzKSAtIDE7XHJcbiAgICAgICAgdmFyIHkgPSBNYXRoLmZsb29yKChpbmRleCAlIDkpIC8gMykgLSAxO1xyXG4gICAgICAgIHZhciB6ID0gTWF0aC5mbG9vcihpbmRleCAvIDkpIC0gMTtcclxuICAgICAgICBzd2l0Y2ggKHgpIHtcclxuICAgICAgICAgICAgY2FzZSAtMTpcclxuICAgICAgICAgICAgICAgIGcgPSBHcm91cC5HUk9VUFMuTDtcclxuICAgICAgICAgICAgICAgIGlmIChnLmF4aXMuZG90KGhvbGRlci5wbGFuZS5ub3JtYWwpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgZyA9IEdyb3VwLkdST1VQUy5NO1xyXG4gICAgICAgICAgICAgICAgaWYgKGcuYXhpcy5kb3QoaG9sZGVyLnBsYW5lLm5vcm1hbCkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBnID0gR3JvdXAuR1JPVVBTLlI7XHJcbiAgICAgICAgICAgICAgICBpZiAoZy5heGlzLmRvdChob2xkZXIucGxhbmUubm9ybWFsKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpdGNoICh5KSB7XHJcbiAgICAgICAgICAgIGNhc2UgLTE6XHJcbiAgICAgICAgICAgICAgICBnID0gR3JvdXAuR1JPVVBTLkQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoZy5heGlzLmRvdChob2xkZXIucGxhbmUubm9ybWFsKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIGcgPSBHcm91cC5HUk9VUFMuRTtcclxuICAgICAgICAgICAgICAgIGlmIChnLmF4aXMuZG90KGhvbGRlci5wbGFuZS5ub3JtYWwpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgZyA9IEdyb3VwLkdST1VQUy5VO1xyXG4gICAgICAgICAgICAgICAgaWYgKGcuYXhpcy5kb3QoaG9sZGVyLnBsYW5lLm5vcm1hbCkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAoeikge1xyXG4gICAgICAgICAgICBjYXNlIC0xOlxyXG4gICAgICAgICAgICAgICAgZyA9IEdyb3VwLkdST1VQUy5CO1xyXG4gICAgICAgICAgICAgICAgaWYgKGcuYXhpcy5kb3QoaG9sZGVyLnBsYW5lLm5vcm1hbCkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICBnID0gR3JvdXAuR1JPVVBTLlM7XHJcbiAgICAgICAgICAgICAgICBpZiAoZy5heGlzLmRvdChob2xkZXIucGxhbmUubm9ybWFsKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIGcgPSBHcm91cC5HUk9VUFMuRjtcclxuICAgICAgICAgICAgICAgIGlmIChnLmF4aXMuZG90KGhvbGRlci5wbGFuZS5ub3JtYWwpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBUd2lzdEFjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnR3aXN0ID0gJ1InO1xyXG4gICAgICAgIHRoaXMucmV2ZXJzZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudGltZXMgPSAxO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBudWxsO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBUd2lzdE5vZGUge1xyXG4gICAgY29uc3RydWN0b3IoZXhwLCByZXZlcnNlID0gZmFsc2UsIHRpbWVzID0gMSkge1xyXG4gICAgICAgIHRoaXMuX2NoaWxkcmVuID0gW107XHJcbiAgICAgICAgdGhpcy5fdHdpc3QgPSBuZXcgVHdpc3RBY3Rpb24oKTtcclxuICAgICAgICBsZXQgbGlzdCA9IGV4cFxyXG4gICAgICAgICAgICAucmVwbGFjZSgvW154eXpic2ZkZXVsbXJcXChcXCknMDEyMzQ1Njc4OV0vZ2ksIFwiXCIpXHJcbiAgICAgICAgICAgIC5tYXRjaCgvXFwoW3h5emJzZmRldWxtcidcXGRdK1xcKSgnXFxkKnxcXGQqJ3xcXGQqKXxbeHl6YnNmZGV1bG1yXSgnXFxkKnxcXGQqJ3xcXGQqKS9naSk7XHJcbiAgICAgICAgaWYgKG51bGwgPT09IGxpc3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gbGlzdFswXS5tYXRjaCgvXlxcKChcXFMrKVxcKSgnPykoXFxkKikoJz8pJC9pKTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlcyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWVzID0gbGlzdFswXS5tYXRjaCgvKFt4eXpic2ZkZXVsbXJdKSgnPykoXFxkKikoJz8pL2kpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IHZhbHVlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX3R3aXN0LnR3aXN0ID0gdmFsdWVzWzFdO1xyXG4gICAgICAgICAgICAgICAgaWYgKC9bWFlaXS8udGVzdCh0aGlzLl90d2lzdC50d2lzdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90d2lzdC50d2lzdCA9IHRoaXMuX3R3aXN0LnR3aXN0LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoL1ttZXNdLy50ZXN0KHRoaXMuX3R3aXN0LnR3aXN0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3R3aXN0LnR3aXN0ID0gdGhpcy5fdHdpc3QudHdpc3QudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuLnB1c2gobmV3IFR3aXN0Tm9kZSh2YWx1ZXNbMV0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl90d2lzdC5yZXZlcnNlID0gKHZhbHVlc1syXSArIHZhbHVlc1s0XSkubGVuZ3RoID09IDAgPyBmYWxzZSA6IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX3R3aXN0LnRpbWVzID0gdmFsdWVzWzNdLmxlbmd0aCA9PSAwID8gMSA6IHBhcnNlSW50KHZhbHVlc1szXSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3R3aXN0LnJldmVyc2UgPSB0aGlzLl90d2lzdC5yZXZlcnNlICE9PSByZXZlcnNlO1xyXG4gICAgICAgICAgICB0aGlzLl90d2lzdC50aW1lcyA9IHRoaXMuX3R3aXN0LnRpbWVzICogdGltZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl90d2lzdC50d2lzdCA9IGV4cDtcclxuICAgICAgICAgICAgdGhpcy5fdHdpc3QucmV2ZXJzZSA9IHJldmVyc2U7XHJcbiAgICAgICAgICAgIHRoaXMuX3R3aXN0LnRpbWVzID0gdGltZXM7XHJcbiAgICAgICAgICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHQgPSBuZXcgVHdpc3ROb2RlKGMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4ucHVzaCh0KTtcclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcGFyc2UocmV2ZXJzZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgcmV2ZXJzZSA9IHRoaXMuX3R3aXN0LnJldmVyc2UgIT09IHJldmVyc2U7XHJcbiAgICAgICAgbGV0IF9yZXN1bHQgPSBbXTtcclxuICAgICAgICBpZiAoMCAhPT0gdGhpcy5fY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fdHdpc3QudGltZXM7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLl9jaGlsZHJlbi5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG4gPSB0aGlzLl9jaGlsZHJlblt0aGlzLl9jaGlsZHJlbi5sZW5ndGggLSBqIC0gMV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuID0gdGhpcy5fY2hpbGRyZW5bal07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gbi5wYXJzZShyZXZlcnNlKTtcclxuICAgICAgICAgICAgICAgICAgICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc3VsdC5wdXNoKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgYWN0aW9uID0gbmV3IFR3aXN0QWN0aW9uKCk7XHJcbiAgICAgICAgICAgIGFjdGlvbi50d2lzdCA9IHRoaXMuX3R3aXN0LnR3aXN0O1xyXG4gICAgICAgICAgICBhY3Rpb24ucmV2ZXJzZSA9IHJldmVyc2U7XHJcbiAgICAgICAgICAgIGFjdGlvbi50aW1lcyA9IHRoaXMuX3R3aXN0LnRpbWVzO1xyXG4gICAgICAgICAgICBfcmVzdWx0LnB1c2goYWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF9yZXN1bHQ7XHJcbiAgICB9XHJcbn1cclxuIiwidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufTtcclxudmFyIF9fbWV0YWRhdGEgPSAodGhpcyAmJiB0aGlzLl9fbWV0YWRhdGEpIHx8IGZ1bmN0aW9uIChrLCB2KSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XHJcbn07XHJcbmltcG9ydCBWdWUgZnJvbSAndnVlJztcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBXYXRjaCwgSW5qZWN0IH0gZnJvbSBcInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3JcIjtcclxuaW1wb3J0IHsgVHdpc3ROb2RlIH0gZnJvbSBcIi4uLy4uL2N1YmUvdHdpc3RlclwiO1xyXG5pbXBvcnQgQXBwIGZyb20gXCIuLi9BcHBcIjtcclxubGV0IFNjcmlwdFBhbmVsID0gY2xhc3MgU2NyaXB0UGFuZWwgZXh0ZW5kcyBWdWUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcclxuICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IDA7XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IDE7XHJcbiAgICAgICAgdGhpcy5zY3JpcHRzID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkYyTFwiLFxyXG4gICAgICAgICAgICAgICAgc3RyaXBzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleHM6IFs2LCA3LCA4LCAxNSwgMTYsIDE3LCAyNCwgMjUsIDI2XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjZXM6IFswLCAxLCAyLCAzLCA0LCA1XVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBzY3JpcHRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0wMVwiLCBzY3JpcHQ6IFwiKFIgVScyIFInIFUpMiB5JyhSJyBVJyBSKSB5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTAyXCIsIHNjcmlwdDogXCIoVSBSIFUnIFInIFUnKSB5JyhSJyBVIFIpIHlcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMDNcIiwgc2NyaXB0OiBcInkgVScoTCcgVSBMIFUpeScgKFIgVScgUicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTA0XCIsIHNjcmlwdDogXCIoUiBVIFInIFUnKShSIFUnVScgUicgVScpKFIgVSBSJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMDVcIiwgc2NyaXB0OiBcIihSIFUnIFIgVSl5KFIgVScgUicgRjIpIHknXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTA2XCIsIHNjcmlwdDogXCJ5JyhSJyBVJyBSIFUpKFInIFUnIFIpIHlcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMDdcIiwgc2NyaXB0OiBcIihSIFUnIFInIFUpKFIgVScgUicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTA4XCIsIHNjcmlwdDogXCIoUiBVJ1UnKShSIFUgUicgVSkoUiBVJ1UnKVIyXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTA5XCIsIHNjcmlwdDogXCJSMiB5KFIgVSBSJyBVJyl5JyhSJyBVIFInKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0xMFwiLCBzY3JpcHQ6IFwieScgKFInIFUpKFIgVScpKFInIFUgUikgeVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0xMVwiLCBzY3JpcHQ6IFwiKFIgVSBSJyBVJyApKFIgVSBSJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMTJcIiwgc2NyaXB0OiBcIihSIFUgUicgVScpMiAoUiBVIFInKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0xM1wiLCBzY3JpcHQ6IFwiKFIgVScgUicpIHknIChSJyBVMiBSKSB5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTE0XCIsIHNjcmlwdDogXCIgeScoUicgVTIpKFIgVSBSJyBVJylSIHlcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMTVcIiwgc2NyaXB0OiBcImQnIHogVScoUjIgVSkoUicgVScgUiBVKSB6J3knXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTE2XCIsIHNjcmlwdDogXCJGJyBMJyBVMiByIFUgeCdcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMTdcIiwgc2NyaXB0OiBcInknIChVMiBSMicgVTIpKFIgVSBSJyBVIFIyKSB5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTE4XCIsIHNjcmlwdDogXCIoVTIgUjInIFUyKShSJyBVJyBSIFUnIFIyKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0xOVwiLCBzY3JpcHQ6IFwiUiB5IChSIFUyIFInIEYnKSB5J1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0yMFwiLCBzY3JpcHQ6IFwiVShSIFUnVScpKFInIFUgUiBVJyApUidcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMjFcIiwgc2NyaXB0OiBcIihSIFUnVScpKFInIFUnIFIgVSlSJ1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0yMlwiLCBzY3JpcHQ6IFwiVScoUiBVJykoUicgVTIpKFIgVScgUicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTIzXCIsIHNjcmlwdDogXCJVJyAoUiBVIFInKSBkIChSJyBVJyBSKSB5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTI0XCIsIHNjcmlwdDogXCJkIChSJyBVIFIgVScpKFInIFUnIFIpIHlcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMjVcIiwgc2NyaXB0OiBcInknIChSJyBVJyBSKSB5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTI2XCIsIHNjcmlwdDogXCIoUjIgVSl5KFIgVScgUicgRjIpIHknXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTI3XCIsIHNjcmlwdDogXCJ5JyAoUiBVJ1UnKVInMiBVJyBSMiBVJyBSJyB5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTI4XCIsIHNjcmlwdDogXCJ5JyAoUicgVSkoUiBkJyBVJykoUiBVIFInKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0yOVwiLCBzY3JpcHQ6IFwiVScgKFIgVSdVJykoUicgVTIpKFIgVScgUicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTMwXCIsIHNjcmlwdDogXCJ5JyBSMiB5JyhSJyBVJyBSIFUpeSBSMiB5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTMxXCIsIHNjcmlwdDogXCJVIFIgVScgUidcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMzJcIiwgc2NyaXB0OiBcIlUnIChSIFUnVScgUicgVSkoUiBVIFInKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0zM1wiLCBzY3JpcHQ6IFwiZCAoUicgVScgUikgZCcgKFIgVSBSJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMzRcIiwgc2NyaXB0OiBcIngoVSBSJyBVJyBsKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0zNVwiLCBzY3JpcHQ6IFwiUjIgeSAoUiBVIFInIFUnKXknIFIyXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTM2XCIsIHNjcmlwdDogXCJkIChSJyBVMikoUiBVJ1UnKShSJyBVIFIpIHlcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMzdcIiwgc2NyaXB0OiBcIihSIFUnIFInIFUpKGQgUicgVScgUikgeVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkYyTC0zOFwiLCBzY3JpcHQ6IFwiKFInIFUyKShSMicgVSkoUjInIFUgUilcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtMzlcIiwgc2NyaXB0OiBcInknIChSMiBVJykoRicgVSBGKVIyIHlcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJGMkwtNDBcIiwgc2NyaXB0OiBcIihSIFUgUicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRjJMLTQxXCIsIHNjcmlwdDogXCJVJyAoUiBVJyBSJyBVKShSIFUgUicpXCIgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIk9MTFwiLFxyXG4gICAgICAgICAgICAgICAgc3RyaXBzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleHM6IFs2LCA3LCA4LCAxNSwgMTYsIDE3LCAyNCwgMjUsIDI2XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjZXM6IFswLCAxLCAyLCA0LCA1XVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBzY3JpcHRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0wMVwiLCBzY3JpcHQ6IFwiKFIgVScyKSAoUjInIEYgUiBGJykgVTIgKFInIEYgUiBGJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMDJcIiwgc2NyaXB0OiBcIihGIFIgVSBSJyBVJyBGJykgKGYgUiBVIFInIFUnIGYnKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0wM1wiLCBzY3JpcHQ6IFwiZihSIFUgUicgVScpZicgVScgRihSIFUgUicgVScpRidcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMDRcIiwgc2NyaXB0OiBcImYoUiBVIFInIFUnKXkgeChSJyBGKShSIFUgUicgVScpRicgeSdcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMDVcIiwgc2NyaXB0OiBcIihyJyBVMikgKFIgVSBSJ1UpIHJcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMDZcIiwgc2NyaXB0OiBcIihyIFUnMikgKFInIFUnIFIgVScgcicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTA3XCIsIHNjcmlwdDogXCJyIFUgUicgVSBSIFUnMiByJ1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0wOFwiLCBzY3JpcHQ6IFwicicgVScgUiBVJyBSJyBVMiByXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTA5XCIsIHNjcmlwdDogXCIoUicgVScgUikgeScgeCcgKFIgVScpKFInRikgKFIgVSBSJykgeHlcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMTBcIiwgc2NyaXB0OiBcIihSIFUgUidVKShSJ0YgUiBGJykgKFJVJzJSJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMTFcIiwgc2NyaXB0OiBcInInKFIyIFUgUicgVSkoUiBVJzIgUicgVSkgKHIgUicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTEyXCIsIHNjcmlwdDogXCJMMiBsIFUnIHogKFUgUidVJykgKFIyIFUgUicpIHonIHIgUidcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMTNcIiwgc2NyaXB0OiBcIihyIFUnIHInIFUnKShyIFUgcicpIChGJyBVIEYpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTE0XCIsIHNjcmlwdDogXCJSJyBGIFIgVSBSJyBGJ1IgKEYgVScgRicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTE1XCIsIHNjcmlwdDogXCIocicgVScgcikgKFInVSdSIFUpIChyJyBVIHIpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTE2XCIsIHNjcmlwdDogXCJSIEIgUicgTCBVIEwnIFUnIFIgQicgUidcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMTdcIiwgc2NyaXB0OiBcIihSIFUgUicgVSkgKFInIEYgUiBGJ1UyKSBSJyBGIFIgRidcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMThcIiwgc2NyaXB0OiBcIkYgKFIgVSBSJyBkKShSJyBVMikgKFInIEYgUiBGJykgeVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0xOVwiLCBzY3JpcHQ6IFwiUicgVTIgRiBSIFUgUidVJyB5J1IyIFUnMiBSIEIgeVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0yMFwiLCBzY3JpcHQ6IFwicicoUiBVKSAoUiBVIFInVScgcjIpKFIyJ1UpIChSIFUnKSByJ1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0yMVwiLCBzY3JpcHQ6IFwiKFIgVScyKSAoUicgVScgUiBVIFInIFUnKSAoUiBVJyBSJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMjJcIiwgc2NyaXB0OiBcIlIgVScyIChSJzIgVScpIChSMiBVJykgUicyIFUnMiBSXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTIzXCIsIHNjcmlwdDogXCIoUjIgRCcpIChSIFUyKSAoUicgRCkgKFIgVTIgUilcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMjRcIiwgc2NyaXB0OiBcIihyIFUgUicgVScpKHInIEYgUiBGJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMjVcIiwgc2NyaXB0OiBcIkYnKHIgVSBSJyBVJykgKHInIEYgUilcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMjZcIiwgc2NyaXB0OiBcIlIgVScyIFInIFUnIFIgVScgUidcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMjdcIiwgc2NyaXB0OiBcIlInIFUyIFIgVSBSJyBVIFJcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMjhcIiwgc2NyaXB0OiBcIihyIFUgUicgVScpIChyJyBSIFUpIChSIFUnIFInKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0yOVwiLCBzY3JpcHQ6IFwiKFIyIFUnIFIpIEYgKFInIFUpIChSMiBVJykgKFInIEYnIFIpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTMwXCIsIHNjcmlwdDogXCIoUjIgVSBSJyBCJykoUlUnKSAoUjInIFUpIChsIFUgbCcpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTMxXCIsIHNjcmlwdDogXCIocicgRicgVSBGKSAoTCBGJyBMJyBVJyByKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0zMlwiLCBzY3JpcHQ6IFwiKFIgVSkoQicgVScpKFInIFUgUiBCIFInKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0zM1wiLCBzY3JpcHQ6IFwiKFIgVSBSJyBVJykgKFInIEYgUiBGJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMzRcIiwgc2NyaXB0OiBcIihSJ1UnUiBVKSB4JyB6JyhSIFUpIChMJ1UnKXIgUicgeVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0zNVwiLCBzY3JpcHQ6IFwiUiBVJzJSMicgRiBSIEYnKFIgVScyUicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTM2XCIsIHNjcmlwdDogXCJSJ1UnUiBVJyBSJ1UgUiBVIGwgVSdSJ1UgeFwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC0zN1wiLCBzY3JpcHQ6IFwiRiAoUiBVJyBSJ1UnUiBVKSAoUicgRicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTM4XCIsIHNjcmlwdDogXCIoUiBVIFInVSkgKFJVJ1InVScpIChSJ0YgUiBGJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtMzlcIiwgc2NyaXB0OiBcIihMIEYnTCcgVSdMIFUpIChGIFUnIEwnKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC00MFwiLCBzY3JpcHQ6IFwiKFInIEYgUiBVIFInVScpIChGJyBVIFIpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTQxXCIsIHNjcmlwdDogXCJSIFUnIFInIFUyIFIgVSB5IFIgVScgUicgVScgRicgeSdcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtNDJcIiwgc2NyaXB0OiBcIihSJ1UgUlUnMiBSJyBVJykoRicgVSkoRiBVIFIpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTQzXCIsIHNjcmlwdDogXCIoQicgVScpIChSJyBVIFIgQilcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtNDRcIiwgc2NyaXB0OiBcImYgKFIgVSBSJyBVJylmJ1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC00NVwiLCBzY3JpcHQ6IFwiRiAoUiBVIFInIFUnKSBGJ1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC00NlwiLCBzY3JpcHQ6IFwiKFInIFUnKSBSJyBGIFIgRicgKFUgUilcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtNDdcIiwgc2NyaXB0OiBcIkInKFInIFUnIFIgVSkyIEJcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtNDhcIiwgc2NyaXB0OiBcIkYgKFIgVSBSJyBVJykyIEYnXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTQ5XCIsIHNjcmlwdDogXCJSIEInKFIyIEYpKFIyIEIpIFIyIEYnIFJcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtNTBcIiwgc2NyaXB0OiBcIkwnQiAoTDIgRicpKEwyQicpIEwyIEYgTCdcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtNTFcIiwgc2NyaXB0OiBcImYgKFIgVSBSJyBVJykyIGYnXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTUyXCIsIHNjcmlwdDogXCJSJ1UnIFIgVScgUicgZCBSJyBVIGwgVSB4eVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC01M1wiLCBzY3JpcHQ6IFwiKHInIFUyKSAoUiBVIFInVScpIChSIFUgUidVKSByXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiT0xMLTU0XCIsIHNjcmlwdDogXCIociBVJzIpIChSJyBVJyBSIFUgUicgVScpIChSIFUnIHInKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC01NVwiLCBzY3JpcHQ6IFwiKFIgVScyKSAoUicyIFUnKSBSIFUnIFInVTIgKEYgUiBGJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJPTEwtNTZcIiwgc2NyaXB0OiBcIkYgKFIgVSBSJ1UnKShSIEYnKShyIFUgUidVJylyJ1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk9MTC01N1wiLCBzY3JpcHQ6IFwiKFIgVSBSJyBVJyByKShSJyBVKSAoUiBVJyByJylcIiB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiUExMXCIsXHJcbiAgICAgICAgICAgICAgICBzdHJpcHM6IFtdLFxyXG4gICAgICAgICAgICAgICAgc2NyaXB0czogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJQTEwtMDFcIiwgc2NyaXB0OiBcIihSIFUnIFIpKFUgUiBVIFIpKFUnIFInIFUnIFIyKVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIlBMTC0wMlwiLCBzY3JpcHQ6IFwiKFIyIFUpKFIgVSBSJyBVJykoUicgVScpKFInIFUgUicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiUExMLTAzXCIsIHNjcmlwdDogXCJNMiBVIE0yIFUyIE0yIFUgTTJcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJQTEwtMDRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NyaXB0OiBcIihSJyBVJyBSIFUnIFIpKFUgUiBVJyBSJyBVIFIpKFUgUjIgVScgUicpIFUyXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJQTEwtMDVcIiwgc2NyaXB0OiBcInggKFIyIFUnMikgKFInIEQnKSAoUiBVJzIpIChSJ0RSJykgeCdcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJQTEwtMDZcIiwgc2NyaXB0OiBcInggKFIgRCcgUikgVTIgUicgRCBSIFUyIFInMiB4J1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlBMTC0wN1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHQ6IFwieCcoUiBVJyBSJyBEIFIgVSBSJyl1MicoUicgVSBSIEQgUicgVScgUikgeCd5MlwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiUExMLTA4XCIsIHNjcmlwdDogXCIoUiBVIFInIFUnKShSJ0YpKFIyIFUnIFInIFUnIFIgVSBSJyBGJylcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJQTEwtMDlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NyaXB0OiBcIihSJyBVJyBGJykoUiBVIFInIFUnKShSJyBGIFIyIFUnIFInIFUnKShSIFUgUicgVSBSKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiUExMLTEwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdDogXCIoUicgVSBSJyBVJyB5eDIpKFInIFUgUicgVScgeXgpKFUyIFInIFUnIFIgVSBSKSB4XCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJQTEwtMTFcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NyaXB0OiBcIkYoUiBVJyBSJyBVJykoUiBVIFInIEYnKShSIFUgUicgVScpKFInIEYgUiBGJylcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIlBMTC0xMlwiLCBzY3JpcHQ6IFwieihVJyBSIEQnKShSMiBVIFInIFUnKShSMiBVIEQgUicpeidcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJQTEwtMTNcIiwgc2NyaXB0OiBcIihSIFUgUicgRicpKFIgVSBSJyBVJykoUicgRikoUjIgVScgUicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiUExMLTE0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdDogXCIoUicgVTIpKFIgVScyKShSJyBGIFIgVSBSJyBVJykoUicgRicgUjIgVScpXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJQTEwtMTVcIiwgc2NyaXB0OiBcIihSIFUnMikoUicgVTIpKFIgQicgUicgVScpKFIgVSBSIEIgUjInIFUpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiUExMLTE2XCIsIHNjcmlwdDogXCIoUicyIHUnIFIgVScgUikoVSBSJyB1KShSMiBmIFInZicpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiUExMLTE3XCIsIHNjcmlwdDogXCIoUiBVIFInKXknKFIyIHUnIFIgVScgUicgVSkoUicgdSBSMil5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiUExMLTE4XCIsIHNjcmlwdDogXCIoUjIgdVInKShVIFInIFUnIFIgdScpKFInMiBGJyBVIEYpXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiUExMLTE5XCIsIHNjcmlwdDogXCIoUicgZCcgRikoUjIgdSkoUicgVSBSIFUnIFIgdScgUicyKSB5J1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlBMTC0yMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHQ6IFwieihSJyBVIFInKXonKFIgVTIgTCcgVSBSJykgeihVIFInKXonKFIgVTIgTCcgVSBSJylcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlBMTC0yMVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHQ6IFwieihVJ1IgRCcpKFIyIFUgUidVJyl6JyhSIFUgUicpIHooUjIgVSBSJyl6JyhSIFUnKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgICAgICB0aGlzLmFjdGlvbnMgPSBuZXcgVHdpc3ROb2RlKHRoaXMuc2NyaXB0LnNjcmlwdCkucGFyc2UoKTtcclxuICAgIH1cclxuICAgIG9uU2hvd0NoYW5nZSh0bywgZnJvbSkge1xyXG4gICAgICAgIHRoaXMuc3RpY2soKTtcclxuICAgICAgICBpZiAodG8pIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgICAgICAgICB0aGlzLnN0cmlwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwbGF5KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb2dyZXNzID09IHRoaXMuYWN0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnBsYXlpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5mb3J3YXJkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9yd2FyZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9ncmVzcyA9PSB0aGlzLmFjdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGFjdGlvbiA9IHRoaXMuYWN0aW9uc1t0aGlzLnByb2dyZXNzXTtcclxuICAgICAgICB0aGlzLmFwcC5nYW1lLnR3aXN0ZXIudHdpc3QoYWN0aW9uLnR3aXN0LCBhY3Rpb24ucmV2ZXJzZSwgYWN0aW9uLnRpbWVzLCB0aGlzLnBsYXksIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnByb2dyZXNzKys7XHJcbiAgICB9XHJcbiAgICBiYWNrd2FyZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9ncmVzcyA9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzcy0tO1xyXG4gICAgICAgIGxldCBhY3Rpb24gPSB0aGlzLmFjdGlvbnNbdGhpcy5wcm9ncmVzc107XHJcbiAgICAgICAgdGhpcy5hcHAuZ2FtZS50d2lzdGVyLnR3aXN0KGFjdGlvbi50d2lzdCwgIWFjdGlvbi5yZXZlcnNlLCBhY3Rpb24udGltZXMsIHRoaXMucGxheSwgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgZW5kKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb2dyZXNzID09IHRoaXMuYWN0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnByb2dyZXNzO1xyXG4gICAgICAgIGxldCBlbmQgPSB0aGlzLmFjdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgIGxldCBhY3Rpb25zID0gdGhpcy5hY3Rpb25zLnNsaWNlKHN0YXJ0LCBlbmQpO1xyXG4gICAgICAgIGZvciAobGV0IGFjdGlvbiBvZiBhY3Rpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwLmdhbWUudHdpc3Rlci50d2lzdChhY3Rpb24udHdpc3QsIGFjdGlvbi5yZXZlcnNlLCBhY3Rpb24udGltZXMsIG51bGwsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnByb2dyZXNzID0gdGhpcy5hY3Rpb25zLmxlbmd0aDtcclxuICAgIH1cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb2dyZXNzID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc3RhcnQgPSAwO1xyXG4gICAgICAgIGxldCBlbmQgPSB0aGlzLnByb2dyZXNzO1xyXG4gICAgICAgIGxldCBhY3Rpb25zID0gdGhpcy5hY3Rpb25zLnNsaWNlKHN0YXJ0LCBlbmQpLnJldmVyc2UoKTtcclxuICAgICAgICBmb3IgKGxldCBhY3Rpb24gb2YgYWN0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLmFwcC5nYW1lLnR3aXN0ZXIudHdpc3QoYWN0aW9uLnR3aXN0LCAhYWN0aW9uLnJldmVyc2UsIGFjdGlvbi50aW1lcywgbnVsbCwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xyXG4gICAgfVxyXG4gICAgc3RpY2soKSB7XHJcbiAgICAgICAgdGhpcy5hcHAuZ2FtZS5jdWJlLnN0aWNrKCk7XHJcbiAgICAgICAgdGhpcy5hcHAuZ2FtZS5kaXJ0eSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBzdHJpcCgpIHtcclxuICAgICAgICBsZXQgc3RyaXBzID0gdGhpcy5zY3JpcHRzW3RoaXMudHlwZV0uc3RyaXBzO1xyXG4gICAgICAgIGZvciAobGV0IHN0cmlwIG9mIHN0cmlwcykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCBvZiBzdHJpcC5pbmRleHMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwLmdhbWUuY3ViZS5zdHJpcChpbmRleCwgc3RyaXAuZmFjZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYXBwLmdhbWUuZGlydHkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgb25UeXBlQ2hhbmdlKHRvLCBmcm9tKSB7XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IDE7XHJcbiAgICAgICAgdGhpcy5zdGljaygpO1xyXG4gICAgICAgIHRoaXMuc3RyaXAoKTtcclxuICAgIH1cclxuICAgIGdldCBzY3JpcHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyaXB0c1t0aGlzLnR5cGVdLnNjcmlwdHNbdGhpcy5pbmRleCAtIDFdO1xyXG4gICAgfVxyXG4gICAgb25TY3JpcHRDaGFuZ2UodG8sIGZyb20pIHtcclxuICAgICAgICB0aGlzLmFjdGlvbnMgPSBuZXcgVHdpc3ROb2RlKHRoaXMuc2NyaXB0LnNjcmlwdCkucGFyc2UoKTtcclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICAgICAgdGhpcy4kbmV4dFRpY2sodGhpcy5hcHAucmVzaXplKTtcclxuICAgIH1cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYXBwLmdhbWUucmVzZXQoKTtcclxuICAgICAgICB0aGlzLmFwcC5nYW1lLnR3aXN0ZXIudHdpc3QodGhpcy5zY3JpcHQuc2NyaXB0LCB0cnVlLCAxLCBudWxsLCB0cnVlKTtcclxuICAgIH1cclxufTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBJbmplY3QoJ2FwcCcpLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEFwcClcclxuXSwgU2NyaXB0UGFuZWwucHJvdG90eXBlLCBcImFwcFwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIFByb3AoeyBkZWZhdWx0OiBmYWxzZSB9KSxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxyXG5dLCBTY3JpcHRQYW5lbC5wcm90b3R5cGUsIFwic2hvd1wiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIFdhdGNoKFwic2hvd1wiKSxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXHJcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW0Jvb2xlYW4sIEJvb2xlYW5dKSxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXHJcbl0sIFNjcmlwdFBhbmVsLnByb3RvdHlwZSwgXCJvblNob3dDaGFuZ2VcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgUHJvcCh7IGRlZmF1bHQ6IGZhbHNlIH0pLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXHJcbl0sIFNjcmlwdFBhbmVsLnByb3RvdHlwZSwgXCJkaXNhYmxlZFwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIFdhdGNoKCd0eXBlJyksXHJcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtOdW1iZXIsIE51bWJlcl0pLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcclxuXSwgU2NyaXB0UGFuZWwucHJvdG90eXBlLCBcIm9uVHlwZUNoYW5nZVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBXYXRjaChcInNjcmlwdFwiKSxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXHJcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1N0cmluZywgU3RyaW5nXSksXHJcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxyXG5dLCBTY3JpcHRQYW5lbC5wcm90b3R5cGUsIFwib25TY3JpcHRDaGFuZ2VcIiwgbnVsbCk7XHJcblNjcmlwdFBhbmVsID0gX19kZWNvcmF0ZShbXHJcbiAgICBDb21wb25lbnQoe1xyXG4gICAgICAgIHRlbXBsYXRlOiByZXF1aXJlKFwiLi9pbmRleC5odG1sXCIpXHJcbiAgICB9KVxyXG5dLCBTY3JpcHRQYW5lbCk7XHJcbmV4cG9ydCBkZWZhdWx0IFNjcmlwdFBhbmVsO1xyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcclxuaW1wb3J0IHsgU2hhcGUgfSBmcm9tIFwidGhyZWVcIjtcclxuY2xhc3MgRnJhbWUgZXh0ZW5kcyBUSFJFRS5HZW9tZXRyeSB7XHJcbiAgICBjb25zdHJ1Y3RvcihzaXplLCBib3JkZXIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIGxldCBfTyA9IHNpemUgLyAyO1xyXG4gICAgICAgIGxldCBfSSA9IF9PIC0gYm9yZGVyO1xyXG4gICAgICAgIGxldCBfdmVydHMgPSBbXHJcbiAgICAgICAgICAgIFstX0ksICtfSSwgK19PXSxcclxuICAgICAgICAgICAgWytfSSwgK19JLCArX09dLFxyXG4gICAgICAgICAgICBbK19JLCAtX0ksICtfT10sXHJcbiAgICAgICAgICAgIFstX0ksIC1fSSwgK19PXSxcclxuICAgICAgICAgICAgWy1fSSwgK19PLCAtX0ldLFxyXG4gICAgICAgICAgICBbK19JLCArX08sIC1fSV0sXHJcbiAgICAgICAgICAgIFsrX0ksICtfTywgK19JXSxcclxuICAgICAgICAgICAgWy1fSSwgK19PLCArX0ldLFxyXG4gICAgICAgICAgICBbLV9PLCAtX0ksIC1fSV0sXHJcbiAgICAgICAgICAgIFstX08sICtfSSwgLV9JXSxcclxuICAgICAgICAgICAgWy1fTywgK19JLCArX0ldLFxyXG4gICAgICAgICAgICBbLV9PLCAtX0ksICtfSV0sXHJcbiAgICAgICAgICAgIFsrX0ksICtfSSwgLV9PXSxcclxuICAgICAgICAgICAgWy1fSSwgK19JLCAtX09dLFxyXG4gICAgICAgICAgICBbLV9JLCAtX0ksIC1fT10sXHJcbiAgICAgICAgICAgIFsrX0ksIC1fSSwgLV9PXSxcclxuICAgICAgICAgICAgWy1fSSwgLV9PLCArX0ldLFxyXG4gICAgICAgICAgICBbK19JLCAtX08sICtfSV0sXHJcbiAgICAgICAgICAgIFsrX0ksIC1fTywgLV9JXSxcclxuICAgICAgICAgICAgWy1fSSwgLV9PLCAtX0ldLFxyXG4gICAgICAgICAgICBbK19PLCArX0ksICtfSV0sXHJcbiAgICAgICAgICAgIFsrX08sICtfSSwgLV9JXSxcclxuICAgICAgICAgICAgWytfTywgLV9JLCAtX0ldLFxyXG4gICAgICAgICAgICBbK19PLCAtX0ksICtfSV1cclxuICAgICAgICBdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgX3ZlcnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBfdmVydCA9IF92ZXJ0c1tpXTtcclxuICAgICAgICAgICAgdGhpcy52ZXJ0aWNlcy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKF92ZXJ0WzBdLCBfdmVydFsxXSwgX3ZlcnRbMl0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBGcmFtZS5fSU5ESUNFUy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgX2luZGljZSA9IEZyYW1lLl9JTkRJQ0VTW2ldO1xyXG4gICAgICAgICAgICBsZXQgX2ZhY2UgPSBuZXcgVEhSRUUuRmFjZTMoX2luZGljZVswXSwgX2luZGljZVsxXSwgX2luZGljZVsyXSk7XHJcbiAgICAgICAgICAgIHRoaXMuZmFjZXMucHVzaChfZmFjZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbkZyYW1lLl9JTkRJQ0VTID0gW1xyXG4gICAgWzEsIDYsIDddLFxyXG4gICAgWzAsIDEsIDddLFxyXG4gICAgWzMsIDAsIDEwXSxcclxuICAgIFsxMSwgMywgMTBdLFxyXG4gICAgWzE3LCAyLCAzXSxcclxuICAgIFsxNiwgMTcsIDNdLFxyXG4gICAgWzIzLCAyMCwgMV0sXHJcbiAgICBbMiwgMjMsIDFdLFxyXG4gICAgWzUsIDEyLCAxM10sXHJcbiAgICBbNCwgNSwgMTNdLFxyXG4gICAgWzksIDEzLCAxNF0sXHJcbiAgICBbOCwgOSwgMTRdLFxyXG4gICAgWzIyLCAxNSwgMTJdLFxyXG4gICAgWzIxLCAyMiwgMTJdLFxyXG4gICAgWzE5LCAxNCwgMTVdLFxyXG4gICAgWzE4LCAxOSwgMTVdLFxyXG4gICAgWzcsIDQsIDldLFxyXG4gICAgWzEwLCA3LCA5XSxcclxuICAgIFsxMSwgOCwgMTldLFxyXG4gICAgWzE2LCAxMSwgMTldLFxyXG4gICAgWzIzLCAxNywgMThdLFxyXG4gICAgWzIyLCAyMywgMThdLFxyXG4gICAgWzIwLCAyMSwgNV0sXHJcbiAgICBbNiwgMjAsIDVdLFxyXG4gICAgWzIwLCA2LCAxXSxcclxuICAgIFsxMCwgMCwgN10sXHJcbiAgICBbMjEsIDEyLCA1XSxcclxuICAgIFsxMywgOSwgNF0sXHJcbiAgICBbMjMsIDIsIDE3XSxcclxuICAgIFsxMSwgMTYsIDNdLFxyXG4gICAgWzIyLCAxOCwgMTVdLFxyXG4gICAgWzgsIDE0LCAxOV1cclxuXTtcclxuY2xhc3MgU3RpY2tlciBleHRlbmRzIFRIUkVFLlNoYXBlR2VvbWV0cnkge1xyXG4gICAgY29uc3RydWN0b3Ioc2l6ZSwgZWRnZSkge1xyXG4gICAgICAgIHNpemUgPSBzaXplIC8gMjtcclxuICAgICAgICBzaXplID0gc2l6ZSAtIGVkZ2U7XHJcbiAgICAgICAgbGV0IGxlZnQgPSAtc2l6ZTtcclxuICAgICAgICBsZXQgYm90dG9tID0gc2l6ZTtcclxuICAgICAgICBsZXQgdG9wID0gLXNpemU7XHJcbiAgICAgICAgbGV0IHJpZ2h0ID0gc2l6ZTtcclxuICAgICAgICBsZXQgcmFkaXVzID0gc2l6ZSAvIDQ7XHJcbiAgICAgICAgbGV0IHNoYXBlID0gbmV3IFNoYXBlKCk7XHJcbiAgICAgICAgc2hhcGUubW92ZVRvKGxlZnQsIHRvcCArIHJhZGl1cyk7XHJcbiAgICAgICAgc2hhcGUubGluZVRvKGxlZnQsIGJvdHRvbSAtIHJhZGl1cyk7XHJcbiAgICAgICAgc2hhcGUucXVhZHJhdGljQ3VydmVUbyhsZWZ0LCBib3R0b20sIGxlZnQgKyByYWRpdXMsIGJvdHRvbSk7XHJcbiAgICAgICAgc2hhcGUubGluZVRvKHJpZ2h0IC0gcmFkaXVzLCBib3R0b20pO1xyXG4gICAgICAgIHNoYXBlLnF1YWRyYXRpY0N1cnZlVG8ocmlnaHQsIGJvdHRvbSwgcmlnaHQsIGJvdHRvbSAtIHJhZGl1cyk7XHJcbiAgICAgICAgc2hhcGUubGluZVRvKHJpZ2h0LCB0b3AgKyByYWRpdXMpO1xyXG4gICAgICAgIHNoYXBlLnF1YWRyYXRpY0N1cnZlVG8ocmlnaHQsIHRvcCwgcmlnaHQgLSByYWRpdXMsIHRvcCk7XHJcbiAgICAgICAgc2hhcGUubGluZVRvKGxlZnQgKyByYWRpdXMsIHRvcCk7XHJcbiAgICAgICAgc2hhcGUucXVhZHJhdGljQ3VydmVUbyhsZWZ0LCB0b3AsIGxlZnQsIHRvcCArIHJhZGl1cyk7XHJcbiAgICAgICAgc2hhcGUuY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgc3VwZXIoc2hhcGUpO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIEVkZ2UgZXh0ZW5kcyBUSFJFRS5TaGFwZUdlb21ldHJ5IHtcclxuICAgIGNvbnN0cnVjdG9yKHNpemUsIGVkZ2UpIHtcclxuICAgICAgICBsZXQgc2hhcGUgPSBuZXcgU2hhcGUoKTtcclxuICAgICAgICBzaXplID0gc2l6ZSAvIDI7XHJcbiAgICAgICAgc2hhcGUubW92ZVRvKC1zaXplLCAtc2l6ZSk7XHJcbiAgICAgICAgc2hhcGUubGluZVRvKC1zaXplLCBzaXplKTtcclxuICAgICAgICBzaGFwZS5saW5lVG8oc2l6ZSwgc2l6ZSk7XHJcbiAgICAgICAgc2hhcGUubGluZVRvKHNpemUsIC1zaXplKTtcclxuICAgICAgICBzaGFwZS5jbG9zZVBhdGgoKTtcclxuICAgICAgICBzaXplID0gc2l6ZSAtIGVkZ2U7XHJcbiAgICAgICAgbGV0IGxlZnQgPSAtc2l6ZTtcclxuICAgICAgICBsZXQgYm90dG9tID0gc2l6ZTtcclxuICAgICAgICBsZXQgdG9wID0gLXNpemU7XHJcbiAgICAgICAgbGV0IHJpZ2h0ID0gc2l6ZTtcclxuICAgICAgICBsZXQgcmFkaXVzID0gc2l6ZSAvIDQ7XHJcbiAgICAgICAgbGV0IGhvbGUgPSBuZXcgU2hhcGUoKTtcclxuICAgICAgICBob2xlLm1vdmVUbyhsZWZ0LCB0b3AgKyByYWRpdXMpO1xyXG4gICAgICAgIGhvbGUucXVhZHJhdGljQ3VydmVUbyhsZWZ0LCB0b3AsIGxlZnQgKyByYWRpdXMsIHRvcCk7XHJcbiAgICAgICAgaG9sZS5saW5lVG8ocmlnaHQgLSByYWRpdXMsIHRvcCk7XHJcbiAgICAgICAgaG9sZS5xdWFkcmF0aWNDdXJ2ZVRvKHJpZ2h0LCB0b3AsIHJpZ2h0LCB0b3AgKyByYWRpdXMpO1xyXG4gICAgICAgIGhvbGUubGluZVRvKHJpZ2h0LCBib3R0b20gLSByYWRpdXMpO1xyXG4gICAgICAgIGhvbGUucXVhZHJhdGljQ3VydmVUbyhyaWdodCwgYm90dG9tLCByaWdodCAtIHJhZGl1cywgYm90dG9tKTtcclxuICAgICAgICBob2xlLmxpbmVUbyhsZWZ0ICsgcmFkaXVzLCBib3R0b20pO1xyXG4gICAgICAgIGhvbGUucXVhZHJhdGljQ3VydmVUbyhsZWZ0LCBib3R0b20sIGxlZnQsIGJvdHRvbSAtIHJhZGl1cyk7XHJcbiAgICAgICAgaG9sZS5saW5lVG8obGVmdCwgdG9wICsgcmFkaXVzKTtcclxuICAgICAgICBob2xlLmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIHNoYXBlLmhvbGVzLnB1c2goaG9sZSk7XHJcbiAgICAgICAgc3VwZXIoc2hhcGUpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1YmVsZXQgZXh0ZW5kcyBUSFJFRS5Hcm91cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihpbmRleCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5fdmVjdG9yID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLl9zdGlja2VycyA9IFtdO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbCA9IGluZGV4O1xyXG4gICAgICAgIGxldCBfeCA9IChpbmRleCAlIDMpIC0gMTtcclxuICAgICAgICBsZXQgX3kgPSBNYXRoLmZsb29yKChpbmRleCAlIDkpIC8gMykgLSAxO1xyXG4gICAgICAgIGxldCBfeiA9IE1hdGguZmxvb3IoaW5kZXggLyA5KSAtIDE7XHJcbiAgICAgICAgdGhpcy52ZWN0b3IgPSBuZXcgVEhSRUUuVmVjdG9yMyhfeCwgX3ksIF96KTtcclxuICAgICAgICB0aGlzLl9tYXRlcmlhbHMgPSBbXHJcbiAgICAgICAgICAgIHRoaXMuX3ZlY3Rvci54IDwgMCA/IEN1YmVsZXQuX01BVEVSSUFMUy5vIDogQ3ViZWxldC5fTUFURVJJQUxTLmksXHJcbiAgICAgICAgICAgIHRoaXMuX3ZlY3Rvci54ID4gMCA/IEN1YmVsZXQuX01BVEVSSUFMUy5yIDogQ3ViZWxldC5fTUFURVJJQUxTLmksXHJcbiAgICAgICAgICAgIHRoaXMuX3ZlY3Rvci55IDwgMCA/IEN1YmVsZXQuX01BVEVSSUFMUy53IDogQ3ViZWxldC5fTUFURVJJQUxTLmksXHJcbiAgICAgICAgICAgIHRoaXMuX3ZlY3Rvci55ID4gMCA/IEN1YmVsZXQuX01BVEVSSUFMUy55IDogQ3ViZWxldC5fTUFURVJJQUxTLmksXHJcbiAgICAgICAgICAgIHRoaXMuX3ZlY3Rvci56IDwgMCA/IEN1YmVsZXQuX01BVEVSSUFMUy5nIDogQ3ViZWxldC5fTUFURVJJQUxTLmksXHJcbiAgICAgICAgICAgIHRoaXMuX3ZlY3Rvci56ID4gMCA/IEN1YmVsZXQuX01BVEVSSUFMUy5iIDogQ3ViZWxldC5fTUFURVJJQUxTLmlcclxuICAgICAgICBdO1xyXG4gICAgICAgIGxldCBfZnJhbWUgPSBuZXcgVEhSRUUuTWVzaChDdWJlbGV0Ll9GUkFNRSwgQ3ViZWxldC5fTUFURVJJQUxTLnApO1xyXG4gICAgICAgIHRoaXMuYWRkKF9mcmFtZSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IF9lZGdlID0gbmV3IFRIUkVFLk1lc2goQ3ViZWxldC5fRURHRSwgQ3ViZWxldC5fTUFURVJJQUxTLnApO1xyXG4gICAgICAgICAgICBsZXQgX3N0aWNrZXIgPSBuZXcgVEhSRUUuTWVzaChDdWJlbGV0Ll9TVElDS0VSLCB0aGlzLl9tYXRlcmlhbHNbaV0pO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICBfZWRnZS5yb3RhdGlvbi55ID0gLU1hdGguUEkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIF9lZGdlLnBvc2l0aW9uLnggPSAtQ3ViZWxldC5fU0laRSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgX3N0aWNrZXIucm90YXRpb24ueSA9IC1NYXRoLlBJIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBfc3RpY2tlci5wb3NpdGlvbi54ID0gLUN1YmVsZXQuX1NJWkUgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIF9lZGdlLnJvdGF0aW9uLnkgPSBNYXRoLlBJIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBfZWRnZS5wb3NpdGlvbi54ID0gQ3ViZWxldC5fU0laRSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgX3N0aWNrZXIucm90YXRpb24ueSA9IE1hdGguUEkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zdGlja2VyLnBvc2l0aW9uLnggPSBDdWJlbGV0Ll9TSVpFIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBfZWRnZS5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgX2VkZ2UucG9zaXRpb24ueSA9IC1DdWJlbGV0Ll9TSVpFIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBfc3RpY2tlci5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgX3N0aWNrZXIucG9zaXRpb24ueSA9IC1DdWJlbGV0Ll9TSVpFIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICBfZWRnZS5yb3RhdGlvbi54ID0gLU1hdGguUEkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIF9lZGdlLnBvc2l0aW9uLnkgPSBDdWJlbGV0Ll9TSVpFIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBfc3RpY2tlci5yb3RhdGlvbi54ID0gLU1hdGguUEkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zdGlja2VyLnBvc2l0aW9uLnkgPSBDdWJlbGV0Ll9TSVpFIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICBfZWRnZS5yb3RhdGlvbi54ID0gTWF0aC5QSTtcclxuICAgICAgICAgICAgICAgICAgICBfZWRnZS5wb3NpdGlvbi56ID0gLUN1YmVsZXQuX1NJWkUgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zdGlja2VyLnJvdGF0aW9uLnggPSBNYXRoLlBJO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zdGlja2VyLnBvc2l0aW9uLnogPSAtQ3ViZWxldC5fU0laRSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgX2VkZ2Uucm90YXRpb24ueiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgX2VkZ2UucG9zaXRpb24ueiA9IEN1YmVsZXQuX1NJWkUgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zdGlja2VyLnJvdGF0aW9uLnogPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zdGlja2VyLnBvc2l0aW9uLnogPSBDdWJlbGV0Ll9TSVpFIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5hZGQoX2VkZ2UpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZChfc3RpY2tlcik7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0aWNrZXJzLnB1c2goX3N0aWNrZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldCB2ZWN0b3IodmVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fdmVjdG9yLnNldChNYXRoLnJvdW5kKHZlY3Rvci54KSwgTWF0aC5yb3VuZCh2ZWN0b3IueSksIE1hdGgucm91bmQodmVjdG9yLnopKTtcclxuICAgICAgICB0aGlzLl9pbmRleCA9XHJcbiAgICAgICAgICAgICh0aGlzLnZlY3Rvci56ICsgMSkgKiA5ICsgKHRoaXMudmVjdG9yLnkgKyAxKSAqIDMgKyAodGhpcy52ZWN0b3IueCArIDEpO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IEN1YmVsZXQuX1NJWkUgKiB0aGlzLl92ZWN0b3IueDtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSBDdWJlbGV0Ll9TSVpFICogdGhpcy5fdmVjdG9yLnk7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbi56ID0gQ3ViZWxldC5fU0laRSAqIHRoaXMuX3ZlY3Rvci56O1xyXG4gICAgfVxyXG4gICAgZ2V0IHZlY3RvcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmVjdG9yO1xyXG4gICAgfVxyXG4gICAgc2V0IGluZGV4KGluZGV4KSB7XHJcbiAgICAgICAgbGV0IF94ID0gKGluZGV4ICUgMykgLSAxO1xyXG4gICAgICAgIGxldCBfeSA9IE1hdGguZmxvb3IoKGluZGV4ICUgOSkgLyAzKSAtIDE7XHJcbiAgICAgICAgbGV0IF96ID0gTWF0aC5mbG9vcihpbmRleCAvIDkpIC0gMTtcclxuICAgICAgICB0aGlzLnZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKF94LCBfeSwgX3opO1xyXG4gICAgfVxyXG4gICAgZ2V0IGluZGV4KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleDtcclxuICAgIH1cclxuICAgIHN0aWNrKCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0aWNrZXJzW2ldLm1hdGVyaWFsID0gdGhpcy5fbWF0ZXJpYWxzW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0cmlwKGZhY2UpIHtcclxuICAgICAgICB0aGlzLl9zdGlja2Vyc1tmYWNlXS5tYXRlcmlhbCA9IEN1YmVsZXQuX01BVEVSSUFMUy5pO1xyXG4gICAgfVxyXG59XHJcbkN1YmVsZXQuX1NJWkUgPSAzMjtcclxuQ3ViZWxldC5fQk9SREVSX1dJRFRIID0gMjtcclxuQ3ViZWxldC5fRURHRV9XSURUSCA9IDE7XHJcbkN1YmVsZXQuX0ZSQU1FID0gbmV3IEZyYW1lKEN1YmVsZXQuX1NJWkUsIEN1YmVsZXQuX0JPUkRFUl9XSURUSCk7XHJcbkN1YmVsZXQuX0VER0UgPSBuZXcgRWRnZShDdWJlbGV0Ll9TSVpFIC0gMiAqIEN1YmVsZXQuX0JPUkRFUl9XSURUSCwgQ3ViZWxldC5fRURHRV9XSURUSCk7XHJcbkN1YmVsZXQuX1NUSUNLRVIgPSBuZXcgU3RpY2tlcihDdWJlbGV0Ll9TSVpFIC0gMiAqIEN1YmVsZXQuX0JPUkRFUl9XSURUSCwgQ3ViZWxldC5fRURHRV9XSURUSCk7XHJcbkN1YmVsZXQuX01BVEVSSUFMUyA9IHtcclxuICAgIHA6IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7IHdpcmVmcmFtZTogZmFsc2UsIGNvbG9yOiBcIiMwMDAwMDBcIiB9KSxcclxuICAgIGk6IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7IHdpcmVmcmFtZTogZmFsc2UsIGNvbG9yOiBcIiMzMDMwMzBcIiB9KSxcclxuICAgIGc6IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7IHdpcmVmcmFtZTogZmFsc2UsIGNvbG9yOiBcIiMwMDlENTRcIiB9KSxcclxuICAgIG86IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7IHdpcmVmcmFtZTogZmFsc2UsIGNvbG9yOiBcIiNGRjZDMDBcIiB9KSxcclxuICAgIGI6IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7IHdpcmVmcmFtZTogZmFsc2UsIGNvbG9yOiBcIiMzRDgxRjZcIiB9KSxcclxuICAgIHk6IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7IHdpcmVmcmFtZTogZmFsc2UsIGNvbG9yOiBcIiNGRENDMDlcIiB9KSxcclxuICAgIHc6IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7IHdpcmVmcmFtZTogZmFsc2UsIGNvbG9yOiBcIiNGRkZGRkZcIiB9KSxcclxuICAgIHI6IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7IHdpcmVmcmFtZTogZmFsc2UsIGNvbG9yOiBcIiNEQzQyMkZcIiB9KVxyXG59O1xyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcclxuaW1wb3J0IEN1YmVsZXQgZnJvbSBcIi4vY3ViZWxldFwiO1xyXG5pbXBvcnQgeyBFdWxlciB9IGZyb20gXCJ0aHJlZVwiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDdWJlIGV4dGVuZHMgVEhSRUUuR3JvdXAge1xyXG4gICAgY29uc3RydWN0b3IoZ2FtZSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5jdWJlbGV0cyA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2luaXRpYWwgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI3OyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGN1YmVsZXQgPSBuZXcgQ3ViZWxldChpKTtcclxuICAgICAgICAgICAgdGhpcy5jdWJlbGV0cy5wdXNoKGN1YmVsZXQpO1xyXG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsLnB1c2goY3ViZWxldCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkKGN1YmVsZXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbXBhcmUobGVmdCwgcmlnaHQpIHtcclxuICAgICAgICByZXR1cm4gbGVmdC5pbmRleCAtIHJpZ2h0LmluZGV4O1xyXG4gICAgfVxyXG4gICAgcmVzZXQoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgY3ViZWxldCBvZiB0aGlzLmN1YmVsZXRzKSB7XHJcbiAgICAgICAgICAgIGN1YmVsZXQuc2V0Um90YXRpb25Gcm9tRXVsZXIobmV3IEV1bGVyKDAsIDAsIDApKTtcclxuICAgICAgICAgICAgY3ViZWxldC5pbmRleCA9IGN1YmVsZXQuaW5pdGlhbDtcclxuICAgICAgICAgICAgY3ViZWxldC51cGRhdGVNYXRyaXgoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdWJlbGV0cy5zb3J0KHRoaXMuY29tcGFyZSk7XHJcbiAgICB9XHJcbiAgICBzdGljaygpIHtcclxuICAgICAgICBmb3IgKGxldCBjdWJlbGV0IG9mIHRoaXMuY3ViZWxldHMpIHtcclxuICAgICAgICAgICAgY3ViZWxldC5zdGljaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0cmlwKGluZGV4LCBmYWNlcykge1xyXG4gICAgICAgIGZvciAobGV0IGZhY2Ugb2YgZmFjZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5faW5pdGlhbFtpbmRleF0uc3RyaXAoZmFjZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFR3ZWVuZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fdHdlZW5zID0gW107XHJcbiAgICB9XHJcbiAgICB0d2VlbihiZWdpbiwgZW5kLCBkdXJhdGlvbiwgdXBkYXRlLCBmaW5pc2gpIHtcclxuICAgICAgICB0aGlzLl90d2VlbnMucHVzaChuZXcgVHdlZW4oYmVnaW4sIGVuZCwgZHVyYXRpb24sIHVwZGF0ZSwgZmluaXNoKSk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3R3ZWVucy5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgd2hpbGUgKGkgPCB0aGlzLl90d2VlbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl90d2VlbnNbaV0udXBkYXRlKCkpIHtcclxuICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3R3ZWVucy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgVHdlZW4ge1xyXG4gICAgY29uc3RydWN0b3IoYmVnaW4sIGVuZCwgZHVyYXRpb24sIHVwZGF0ZSwgZmluaXNoKSB7XHJcbiAgICAgICAgdGhpcy5fc3RhcnQgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMuX2JlZ2luID0gYmVnaW47XHJcbiAgICAgICAgdGhpcy5fZW5kID0gZW5kO1xyXG4gICAgICAgIHRoaXMuX2R1cmF0aW9uID0gZHVyYXRpb247XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlID0gdXBkYXRlO1xyXG4gICAgICAgIHRoaXMuX2ZpbmlzaCA9IGZpbmlzaDtcclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBsZXQgdGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgbGV0IGVsYXBzZWQgPSAodGltZSAtIHRoaXMuX3N0YXJ0KSAvIHRoaXMuX2R1cmF0aW9uO1xyXG4gICAgICAgIGVsYXBzZWQgPSBlbGFwc2VkID4gMSA/IDEgOiBlbGFwc2VkO1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IDEgLSAoLS1lbGFwc2VkICogZWxhcHNlZCk7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlKHRoaXMuX2JlZ2luICsgKHRoaXMuX2VuZCAtIHRoaXMuX2JlZ2luKSAqIHZhbHVlKTtcclxuICAgICAgICBpZiAodmFsdWUgPT0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLl9maW5pc2goKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIDtcclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBIb2xkZXIge1xyXG59XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xyXG5pbXBvcnQgR2FtZSBmcm9tIFwiLi9nYW1lXCI7XHJcbmltcG9ydCBHcm91cCBmcm9tIFwiLi9ncm91cFwiO1xyXG5pbXBvcnQgSG9sZGVyIGZyb20gXCIuL2hvbGRlclwiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9sbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKGdhbWUpIHtcclxuICAgICAgICB0aGlzLl9kcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3JvdGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fb25Nb3VzZURvd24gPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2dhbWUubG9jaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fZG93bi54ID0gZXZlbnQub2Zmc2V0WDtcclxuICAgICAgICAgICAgdGhpcy5fZG93bi55ID0gZXZlbnQub2Zmc2V0WTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlRG93bigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fb25Nb3VzZU1vdmUgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fbW92ZS54ID0gZXZlbnQub2Zmc2V0WDtcclxuICAgICAgICAgICAgdGhpcy5fbW92ZS55ID0gZXZlbnQub2Zmc2V0WTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlTW92ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fb25Nb3VzZVVwID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVVwKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9vbk1vdXNlT3V0ID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVVwKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9vblRvdWNoID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB0b3VjaGVzID0gZXZlbnQuY2hhbmdlZFRvdWNoZXM7XHJcbiAgICAgICAgICAgIGxldCBmaXJzdCA9IHRvdWNoZXNbMF07XHJcbiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInRvdWNoc3RhcnRcIjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZ2FtZS5sb2NrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kb3duLnggPSBmaXJzdC5jbGllbnRYO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rvd24ueSA9IGZpcnN0LmNsaWVudFk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlRG93bigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInRvdWNobW92ZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21vdmUueCA9IGZpcnN0LmNsaWVudFg7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbW92ZS55ID0gZmlyc3QuY2xpZW50WTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVNb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidG91Y2hlbmRcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVVcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX2dhbWUgPSBnYW1lO1xyXG4gICAgICAgIHRoaXMuX3JheSA9IG5ldyBUSFJFRS5SYXkoKTtcclxuICAgICAgICB0aGlzLl9kb3duID0gbmV3IFRIUkVFLlZlY3RvcjIoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5fbW92ZSA9IG5ldyBUSFJFRS5WZWN0b3IyKDAsIDApO1xyXG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7XHJcbiAgICAgICAgdGhpcy5faG9sZGVyID0gbmV3IEhvbGRlcigpO1xyXG4gICAgICAgIHRoaXMuX2hvbGRlci52ZWN0b3IgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMuX3ZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XHJcbiAgICAgICAgdGhpcy5fcGxhbmVzID0gW1xyXG4gICAgICAgICAgICBuZXcgVEhSRUUuUGxhbmUobmV3IFRIUkVFLlZlY3RvcjMoMSwgMCwgMCksICgtR2FtZS5TSVpFICogMykgLyA2NCksXHJcbiAgICAgICAgICAgIG5ldyBUSFJFRS5QbGFuZShuZXcgVEhSRUUuVmVjdG9yMygwLCAxLCAwKSwgKC1HYW1lLlNJWkUgKiAzKSAvIDY0KSxcclxuICAgICAgICAgICAgbmV3IFRIUkVFLlBsYW5lKG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDEpLCAoLUdhbWUuU0laRSAqIDMpIC8gNjQpXHJcbiAgICAgICAgXTtcclxuICAgICAgICB0aGlzLl9nYW1lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX29uTW91c2VEb3duKTtcclxuICAgICAgICB0aGlzLl9nYW1lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uTW91c2VNb3ZlKTtcclxuICAgICAgICB0aGlzLl9nYW1lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLl9vbk1vdXNlVXApO1xyXG4gICAgICAgIHRoaXMuX2dhbWUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCB0aGlzLl9vbk1vdXNlT3V0KTtcclxuICAgICAgICB0aGlzLl9nYW1lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLl9vblRvdWNoLCB0cnVlKTtcclxuICAgICAgICB0aGlzLl9nYW1lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMuX29uVG91Y2gsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuX2dhbWUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzLl9vblRvdWNoLCB0cnVlKTtcclxuICAgIH1cclxuICAgIF9pbnRlcnNlY3QocG9pbnQsIHBsYW5lKSB7XHJcbiAgICAgICAgdmFyIHggPSAocG9pbnQueCAvIHRoaXMuX2dhbWUuY2FudmFzLmNsaWVudFdpZHRoKSAqIDIgLSAxO1xyXG4gICAgICAgIHZhciB5ID0gLShwb2ludC55IC8gdGhpcy5fZ2FtZS5jYW52YXMuY2xpZW50SGVpZ2h0KSAqIDIgKyAxO1xyXG4gICAgICAgIHRoaXMuX3JheS5vcmlnaW4uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMuX2dhbWUuY2FtZXJhLm1hdHJpeFdvcmxkKTtcclxuICAgICAgICB0aGlzLl9yYXkuZGlyZWN0aW9uXHJcbiAgICAgICAgICAgIC5zZXQoeCwgeSwgMC41KVxyXG4gICAgICAgICAgICAudW5wcm9qZWN0KHRoaXMuX2dhbWUuY2FtZXJhKVxyXG4gICAgICAgICAgICAuc3ViKHRoaXMuX3JheS5vcmlnaW4pXHJcbiAgICAgICAgICAgIC5ub3JtYWxpemUoKTtcclxuICAgICAgICB0aGlzLl9yYXkuYXBwbHlNYXRyaXg0KHRoaXMuX21hdHJpeC5pZGVudGl0eSgpLmdldEludmVyc2UodGhpcy5fZ2FtZS5zY2VuZS5tYXRyaXgpKTtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLl9yYXkuaW50ZXJzZWN0UGxhbmUocGxhbmUsIHJlc3VsdCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIF9oYW5kbGVEb3duKCkge1xyXG4gICAgICAgIHRoaXMuX2RyYWdnaW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9ob2xkZXIuaW5kZXggPSAtMTtcclxuICAgICAgICB0aGlzLl9wbGFuZXMuc29tZShwbGFuZSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBwb2ludCA9IHRoaXMuX2ludGVyc2VjdCh0aGlzLl9kb3duLCBwbGFuZSk7XHJcbiAgICAgICAgICAgIGlmIChwb2ludCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBvaW50LngpIDw9IDQ4ICsgMC4wMSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKHBvaW50LnkpIDw9IDQ4ICsgMC4wMSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKHBvaW50LnopIDw9IDQ4ICsgMC4wMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hvbGRlci5wbGFuZSA9IHBsYW5lO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB4ID0gTWF0aC5jZWlsKE1hdGgucm91bmQocG9pbnQueCkgLyAzMiAtIDAuNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSBNYXRoLmNlaWwoTWF0aC5yb3VuZChwb2ludC55KSAvIDMyIC0gMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeiA9IE1hdGguY2VpbChNYXRoLnJvdW5kKHBvaW50LnopIC8gMzIgLSAwLjUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4IDwgMiAmJiB4ID4gLTIgJiYgeSA8IDIgJiYgeSA+IC0yICYmIHogPCAyICYmIHogPiAtMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9ob2xkZXIuaW5kZXggPSAoeiArIDEpICogOSArICh5ICsgMSkgKiAzICsgKHggKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hvbGRlci5pbmRleCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5fZ2FtZS5kaXJ0eSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlTW92ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fZHJhZ2dpbmcpIHtcclxuICAgICAgICAgICAgdmFyIGR4ID0gdGhpcy5fbW92ZS54IC0gdGhpcy5fZG93bi54O1xyXG4gICAgICAgICAgICB2YXIgZHkgPSB0aGlzLl9tb3ZlLnkgLSB0aGlzLl9kb3duLnk7XHJcbiAgICAgICAgICAgIHZhciBkID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcclxuICAgICAgICAgICAgaWYgKE1hdGgubWluKHRoaXMuX2dhbWUuY2FudmFzLmNsaWVudFdpZHRoLCB0aGlzLl9nYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQpIC9cclxuICAgICAgICAgICAgICAgIGQgPlxyXG4gICAgICAgICAgICAgICAgMTAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZ2FtZS5sb2NrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2RyYWdnaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2hvbGRlci5pbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkeCAqIGR4ID4gZHkgKiBkeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dyb3VwID0gR3JvdXAuR1JPVVBTLnk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZG93bi54IDwgdGhpcy5fZ2FtZS5jYW52YXMuY2xpZW50V2lkdGggLyAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dyb3VwID0gR3JvdXAuR1JPVVBTLng7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9ncm91cCA9IEdyb3VwLkdST1VQUy56O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMuX2ludGVyc2VjdCh0aGlzLl9kb3duLCB0aGlzLl9ob2xkZXIucGxhbmUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGVuZCA9IHRoaXMuX2ludGVyc2VjdCh0aGlzLl9tb3ZlLCB0aGlzLl9ob2xkZXIucGxhbmUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmVjdG9yLnN1YlZlY3RvcnMoZW5kLCBzdGFydCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHRoaXMuX3ZlY3Rvci54O1xyXG4gICAgICAgICAgICAgICAgdmFyIHkgPSB0aGlzLl92ZWN0b3IueTtcclxuICAgICAgICAgICAgICAgIHZhciB6ID0gdGhpcy5fdmVjdG9yLno7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF4ID0gTWF0aC5tYXgoTWF0aC5hYnMoeCksIE1hdGguYWJzKHkpLCBNYXRoLmFicyh6KSk7XHJcbiAgICAgICAgICAgICAgICB4ID0gTWF0aC5hYnMoeCkgPT09IG1heCA/IHggOiAwO1xyXG4gICAgICAgICAgICAgICAgeSA9IE1hdGguYWJzKHkpID09PSBtYXggPyB5IDogMDtcclxuICAgICAgICAgICAgICAgIHogPSBNYXRoLmFicyh6KSA9PT0gbWF4ID8geiA6IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92ZWN0b3Iuc2V0KHgsIHksIHopO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faG9sZGVyLnZlY3Rvci5jb3B5KHRoaXMuX3ZlY3Rvci5tdWx0aXBseSh0aGlzLl92ZWN0b3IpLm5vcm1hbGl6ZSgpKTtcclxuICAgICAgICAgICAgICAgIGxldCBncm91cHMgPSB0aGlzLl9nYW1lLnR3aXN0ZXIubWF0Y2godGhpcy5faG9sZGVyKTtcclxuICAgICAgICAgICAgICAgIGdyb3Vwcy5zb21lKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmF4aXMuZG90KHRoaXMuX3ZlY3RvcikgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ3JvdXAgPSBlbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92ZWN0b3IuY3Jvc3NWZWN0b3JzKHRoaXMuX2hvbGRlci52ZWN0b3IsIHRoaXMuX2hvbGRlci5wbGFuZS5ub3JtYWwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faG9sZGVyLnZlY3Rvci5tdWx0aXBseVNjYWxhcih0aGlzLl92ZWN0b3IueCArIHRoaXMuX3ZlY3Rvci55ICsgdGhpcy5fdmVjdG9yLnopO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2dyb3VwLmhvbGQodGhpcy5fZ2FtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9yb3RhdGluZykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faG9sZGVyLmluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGR4ID0gdGhpcy5fbW92ZS54IC0gdGhpcy5fZG93bi54O1xyXG4gICAgICAgICAgICAgICAgdmFyIGR5ID0gdGhpcy5fbW92ZS55IC0gdGhpcy5fZG93bi55O1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2dyb3VwID09PSBHcm91cC5HUk9VUFMueSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dyb3VwLmFuZ2xlID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKGR4IC9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKHRoaXMuX2dhbWUuY2FudmFzLmNsaWVudFdpZHRoLCB0aGlzLl9nYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQpKSAqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLlBJICpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZ3JvdXAgPT09IEdyb3VwLkdST1VQUy54KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dyb3VwLmFuZ2xlID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkeSAvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4odGhpcy5fZ2FtZS5jYW52YXMuY2xpZW50V2lkdGgsIHRoaXMuX2dhbWUuY2FudmFzLmNsaWVudEhlaWdodCkpICpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLlBJICpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ3JvdXAuYW5nbGUgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKC1keSAvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4odGhpcy5fZ2FtZS5jYW52YXMuY2xpZW50V2lkdGgsIHRoaXMuX2dhbWUuY2FudmFzLmNsaWVudEhlaWdodCkpICpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLlBJICpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMuX2ludGVyc2VjdCh0aGlzLl9kb3duLCB0aGlzLl9ob2xkZXIucGxhbmUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGVuZCA9IHRoaXMuX2ludGVyc2VjdCh0aGlzLl9tb3ZlLCB0aGlzLl9ob2xkZXIucGxhbmUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmVjdG9yLnN1YlZlY3RvcnMoZW5kLCBzdGFydCkubXVsdGlwbHkodGhpcy5faG9sZGVyLnZlY3Rvcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9ncm91cC5hbmdsZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgKCgtKHRoaXMuX3ZlY3Rvci54ICsgdGhpcy5fdmVjdG9yLnkgKyB0aGlzLl92ZWN0b3IueikgKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5fZ3JvdXAuYXhpcy54ICsgdGhpcy5fZ3JvdXAuYXhpcy55ICsgdGhpcy5fZ3JvdXAuYXhpcy56KSkgL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBHYW1lLlNJWkUpICpcclxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5QSSAqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZ2FtZS5kaXJ0eSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlVXAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3JvdGF0aW5nKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9ncm91cCAmJiB0aGlzLl9ncm91cCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2dhbWUuZW5hYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ3JvdXAuYWRqdXN0KHRoaXMuX2dhbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ3JvdXAucmV2ZXJ0KHRoaXMuX2dhbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2hvbGRlci5pbmRleCA9IC0xO1xyXG4gICAgICAgIHRoaXMuX2RyYWdnaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fcm90YXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9nYW1lLmRpcnR5ID0gdHJ1ZTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcclxuaW1wb3J0IEN1YmUgZnJvbSBcIi4vY3ViZVwiO1xyXG5pbXBvcnQgVHdlZW5lciBmcm9tIFwiLi90d2VlbmVyXCI7XHJcbmltcG9ydCBDb250cm9sbGVyIGZyb20gXCIuL2NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IFR3aXN0ZXIgZnJvbSBcIi4vdHdpc3RlclwiO1xyXG5pbXBvcnQgR3JvdXAgZnJvbSBcIi4vZ3JvdXBcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmxvY2sgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVuYWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucm90YXRpb24ueCA9IE1hdGguUEkgLyA4O1xyXG4gICAgICAgIHRoaXMuc2NlbmUucm90YXRpb24ueSA9IE1hdGguUEkgLyAxNiAtIE1hdGguUEkgLyA0O1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDUwLCAxLCAxLCBHYW1lLlNJWkUpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnggPSAwO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnkgPSAwO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSBHYW1lLlNJWkUgLyAzO1xyXG4gICAgICAgIHRoaXMudHdlZW5lciA9IG5ldyBUd2VlbmVyKCk7XHJcbiAgICAgICAgdGhpcy50d2lzdGVyID0gbmV3IFR3aXN0ZXIodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jdWJlID0gbmV3IEN1YmUodGhpcyk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5jdWJlKTtcclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gR3JvdXAuR1JPVVBTKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKEdyb3VwLkdST1VQU1trZXldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgYW50aWFsaWFzOiB0cnVlIH0pO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcigweGZmZmZmZik7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudDtcclxuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlcih0aGlzKTtcclxuICAgICAgICB0aGlzLmxvb3AoKTtcclxuICAgIH1cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5sb2NrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3ViZS5yZXNldCgpO1xyXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXNpemUod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHdpZHRoIC8gaGVpZ2h0O1xyXG4gICAgICAgIGxldCBtaW4gPSAoKGhlaWdodCAvIE1hdGgubWluKHdpZHRoLCBoZWlnaHQpKSAqIEdhbWUuU0laRSkgLyA0O1xyXG4gICAgICAgIGxldCBmb3YgPSAoMiAqIE1hdGguYXRhbihtaW4gLyBHYW1lLlNJWkUpICogMTgwKSAvIE1hdGguUEk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEuZm92ID0gZm92O1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLmxvb2tBdCh0aGlzLnNjZW5lLnBvc2l0aW9uKTtcclxuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpZHRoLCBoZWlnaHQsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHRoaXMudHdpc3Rlci51cGRhdGUoKTtcclxuICAgICAgICB0aGlzLnR3ZWVuZXIudXBkYXRlKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xyXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbG9vcCgpIHtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5sb29wLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9XHJcbn1cclxuR2FtZS5TSVpFID0gMTAyNDtcclxuIiwidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufTtcclxudmFyIF9fbWV0YWRhdGEgPSAodGhpcyAmJiB0aGlzLl9fbWV0YWRhdGEpIHx8IGZ1bmN0aW9uIChrLCB2KSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XHJcbn07XHJcbmltcG9ydCBWdWUgZnJvbSAndnVlJztcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBXYXRjaCwgUHJvdmlkZSB9IGZyb20gXCJ2dWUtcHJvcGVydHktZGVjb3JhdG9yXCI7XHJcbmltcG9ydCBLZXlib2FyZFBhbmVsIGZyb20gXCIuLi9LZXlib2FyZFBhbmVsXCI7XHJcbmltcG9ydCBTY3JpcHRQYW5lbCBmcm9tIFwiLi4vU2NyaXB0UGFuZWxcIjtcclxuaW1wb3J0IEdhbWUgZnJvbSBcIi4uLy4uL2N1YmUvZ2FtZVwiO1xyXG5sZXQgQXBwID0gY2xhc3MgQXBwIGV4dGVuZHMgVnVlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgdGhpcy5hcHAgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuZ2FtZSA9IG5ldyBHYW1lKCk7XHJcbiAgICAgICAgdGhpcy5tZW51ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5tb2RlID0gXCJ0b3VjaFwiO1xyXG4gICAgfVxyXG4gICAgcmVzaXplKCkge1xyXG4gICAgICAgIGlmICh0aGlzLiRyZWZzLmN1YmVyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiZcclxuICAgICAgICAgICAgdGhpcy4kcmVmcy5wYW5lbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGxldCBjdWJlciA9IHRoaXMuJHJlZnMuY3ViZXI7XHJcbiAgICAgICAgICAgIGxldCBwYW5lbCA9IHRoaXMuJHJlZnMucGFuZWw7XHJcbiAgICAgICAgICAgIGxldCBwYW5lbEhlaWdodCA9IHBhbmVsLmNsaWVudEhlaWdodDtcclxuICAgICAgICAgICAgbGV0IGN1YmVySGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC0gcGFuZWxIZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5yZXNpemUoY3ViZXIuY2xpZW50V2lkdGgsIGN1YmVySGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBtb3VudGVkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLiRyZWZzLmN1YmVyIGluc3RhbmNlb2YgRWxlbWVudCkge1xyXG4gICAgICAgICAgICBsZXQgY3ViZXIgPSB0aGlzLiRyZWZzLmN1YmVyO1xyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZSgpO1xyXG4gICAgICAgICAgICBjdWJlci5hcHBlbmRDaGlsZCh0aGlzLmdhbWUuY2FudmFzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbk1lbnVDbGljaygpIHtcclxuICAgICAgICB0aGlzLm1lbnUgPSAhdGhpcy5tZW51O1xyXG4gICAgfVxyXG4gICAgb25Nb2RlQ2hhbmdlKHRvLCBmcm9tKSB7XHJcbiAgICAgICAgdGhpcy5tZW51ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKGZyb20gIT0gXCJ0b3VjaFwiICYmIHRvID09IFwidG91Y2hcIikge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuZW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZyb20gPT0gXCJ0b3VjaFwiICYmIHRvICE9IFwidG91Y2hcIikge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuZW5hYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuJG5leHRUaWNrKHRoaXMucmVzaXplKTtcclxuICAgIH1cclxuICAgIGdldCBsb2NrKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWUubG9jayB8fCB0aGlzLmdhbWUudHdpc3Rlci5sZW5ndGggIT0gMDtcclxuICAgIH1cclxufTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBQcm92aWRlKCdhcHAnKSxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcHApXHJcbl0sIEFwcC5wcm90b3R5cGUsIFwiYXBwXCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgV2F0Y2goXCJtb2RlXCIpLFxyXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbU3RyaW5nLCBTdHJpbmddKSxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXHJcbl0sIEFwcC5wcm90b3R5cGUsIFwib25Nb2RlQ2hhbmdlXCIsIG51bGwpO1xyXG5BcHAgPSBfX2RlY29yYXRlKFtcclxuICAgIENvbXBvbmVudCh7XHJcbiAgICAgICAgdGVtcGxhdGU6IHJlcXVpcmUoXCIuL2luZGV4Lmh0bWxcIiksXHJcbiAgICAgICAgY29tcG9uZW50czoge1xyXG4gICAgICAgICAgICBcImtleWJvYXJkLXBhbmVsXCI6IEtleWJvYXJkUGFuZWwsXHJcbiAgICAgICAgICAgIFwic2NyaXB0LXBhbmVsXCI6IFNjcmlwdFBhbmVsXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXSwgQXBwKTtcclxuZXhwb3J0IGRlZmF1bHQgQXBwO1xyXG4iLCJpbXBvcnQgVnVlIGZyb20gXCJ2dWVcIjtcclxuaW1wb3J0IEFwcCBmcm9tIFwiLi92dWUvQXBwXCI7XHJcbmltcG9ydCBWdWV0aWZ5IGZyb20gXCJ2dWV0aWZ5XCI7XHJcbmltcG9ydCBcInZ1ZXRpZnkvZGlzdC92dWV0aWZ5LmNzc1wiO1xyXG5pbXBvcnQgXCJ0eXBlZmFjZS1yb2JvdG9cIjtcclxuaW1wb3J0IFwibWF0ZXJpYWwtZGVzaWduLWljb25zL2ljb25mb250L21hdGVyaWFsLWljb25zLmNzc1wiO1xyXG5WdWUudXNlKFZ1ZXRpZnkpO1xyXG5uZXcgVnVlKHtcclxuICAgIGVsOiBcIiNhcHBcIixcclxuICAgIHJlbmRlcjogaCA9PiBoKEFwcClcclxufSk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///11\n')}]);